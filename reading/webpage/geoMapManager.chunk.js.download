(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{184:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s(2);const r=new class{isVisible(){return new Promise((e,t)=>{document.visibilityState?e("visible"==document.visibilityState):this.getSource().then(({VisibilityFallback:t})=>e(t.isVisible())).catch(t=>e(!0))})}getSource(){return this.sourcePromise||(this.sourcePromise=i.a.importWebpackModuleWithRetry(this.constructSourcePromise)),this.sourcePromise}constructSourcePromise(){return s.e(112).then(s.bind(null,375))}}},62:function(e,t,s){"use strict";s.r(t),s.d(t,"GeoMapManager",(function(){return o}));var i=s(1),r=s(6),n=s(184);const o=new class{constructor(){this.fetchNumberOfUsers=this.fetchNumberOfUsers.bind(this)}initialize(){this.fetchNumberOfUsers()}fetchNumberOfUsers(){clearTimeout(this.onlineUsersNumTimer),n.a.isVisible().then(e=>{e&&r.a.isLoggedIn().then(()=>this.getNumberOfUsersFromBackend()).catch(()=>this.getNumberOfUsersFromBackend())}),this.onlineUsersNumTimer=setTimeout(this.fetchNumberOfUsers,12e4)}getNumberOfUsersFromBackend(){i.a.postToOurBackend(i.a.getAbsoluteUrl("api/locations/getNumUsersOnline"),e=>this.updateNumReaders(e.numUsers),e=>(function(e){document.dispatchEvent(new CustomEvent("user-locations-error",{detail:{error:e}}))})(`Error getting users online: ${e}`),null)}updateNumReaders(e){const t=$("#current-num-users"),s=Number(t.text());$({countNum:s}).animate({countNum:e},{duration:1500,easing:"linear",start:function(){t.addClass("counting glow-text")},step:function(){t.text(Math.floor(this.countNum))},complete:function(){t.text(Math.floor(this.countNum)),t.removeClass("counting glow-text")}})}stopTrackingOnlineNumberOfUsers(){clearTimeout(this.onlineUsersNumTimer)}startTrackingOnlineNumberOfUsers(){this.onlineUsersNumTimer=setTimeout(this.fetchNumberOfUsers,3e4)}}}}]);
//# sourceMappingURL=geoMapManager.chunk.js.map?97f6ce0b28468be34eb8