(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{170:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var r=o(11);const n=new class{replaceBookCoverOnLoad(t){const e=$(t),o=e.attr("data-src");if(!o)return;const n=new Image;n.addEventListener("load",t=>{const o=t.target;r.a.cacheImageIfNeeded(o),e.attr("src",o.src),e.removeAttr("data-src")}),n.addEventListener("error",e=>{r.a.loadFromCacheIfPossible(t)}),n.src=o}replaceBookCoversOnImageLoad(t,e,o=!1){const n=e=>{const o=e.target;r.a.cacheImageIfNeeded(o),t.find(`.book-cover[data-src="${o.getAttribute("data-src")}"]`).attr("src",o.src)},i=$(e.map(t=>{const e=new Image;return e.src=t,e.setAttribute("data-src",t),e.complete&&n({target:e}),e}));i.on("load",n),o&&i.on("error",e=>{const o=e.target;r.a.loadFromCacheIfPossible(o,()=>{$(t.find(`.book-cover[data-src="${o.src}"]`)).closest(".book-item-container").remove()})})}}},687:function(t,e,o){"use strict";o.d(e,"a",(function(){return B}));var r=o(1199),n=o(593),i=o(37),a=o(1),s=o(5),c=o(21),p=o(13),l=(o(759),o(4)),d=o(25),u=o(19),g=o(6),h=o(2),m=o(170);const C=`<div class="cart-upsell-root">\n    <div class="cart-upsell-top-row">\n        <div class="cart-upsell-current-product-wrapper">\n            <div class="cart-upsell-product-title-commands-container">\n                <div class="cart-upsell-product-title-container">\n                    <i>{{title}}</i> {{#isCombo}}print book{{/isCombo}} {{^isCombo}}eBook{{/isCombo}} added to cart\n                </div>\n                <div class="cart-upsell-cart-button cart-upsell-button cart-upsell-go-to-cart-button">go to cart</div>\n            </div>\n            <div class="cart-upsell-product-cover-container">\n                <img src="{{coverPath}}" alt="cover">\n            </div>\n        </div>\n    </div>\n    <div class="cart-upsell-bottom-row">\n        <div class="cart-upsell-related-products-wrapper">\n            <div class="cart-upsell-related-products-heading">customers also bought these items</div>\n            <div class="cart-upsell-carausel">\n                {{#products}}\n                <div class="cart-upsell-carausel-item" data-product-id="{{id}}" data-book-short-name="{{externalId}}" data-book-title="{{title}}">\n                    <a target="_blank" href="{{link}}" title="open product" data-product-id="{{id}}">\n                        <img class="book-cover" src="${a.a.getLivebookCdn()}assets/images/cover.png" data-src="{{imageUrl}}" alt="cover"/>\n                        <div class="cart-upsell-command-overlay" alt="view product"><i class="fa fa-eye"></i></div>\n                    </a>\n                    <div class="cart-upsell-button cart-upsell-add-to-cart-button">\n                        <i class="fa fa-cart-plus"></i>\n                        <span>add to cart</span>\n                    </div>\n                </div>\n                {{/products}}\n            </div>\n        </div>\n    </div>\n    <div class="cart-upsell-processing-container">\n        <i class="fal fa-spin fa-circle-notch fa-2x fa-fw"></i>\n        <span class="cart-upsell-processing-notification-container"></span>\n    </div>\n</div>`,f=new class{constructor(){$("#notifications-modal").on("click",".cart-upsell-go-to-cart-button",this.handleOpenCartButtonClick.bind(this)),$("#notifications-modal").on("click",".cart-upsell-add-to-cart-button",this.handleAddToCartButtonClick.bind(this))}show(t,e,o,r){Promise.all([u.a.getCustomersAlsoBoughtProducts(t),g.a.isCurrentlyLoggedIn()?u.a.getUsersLibrary():Promise.resolve([])]).then(([t,n])=>{const i={};for(const t of n)i[t.shortName]=!0;t=t.filter(t=>!B.isBookShortNameInShoppingCart(t.externalId)&&!i[t.externalId]),u.a.getBooksFromCatalog(t.map(t=>t.externalId)).then(n=>{this.renderModalContent(e,o,this.sortProductsThroughBooks(t,n),r),$(document).trigger("impressions",[n.map(t=>({id:t.manningId,title:t.cleanTitle,category:t.categories})),"customers also bought"])}).catch(n=>{this.renderModalContent(e,o,t,r)})})}renderModalContent(t,e,o,r){$(document).trigger("cartUpsellShown",t),h.a.loadMustacheCode().then(()=>{const n=Mustache.render(C,{title:t,coverPath:e,products:o,isCombo:r});c.a.showNotificationModal("",n,!1),l.a.setTimeout(()=>{m.a.replaceBookCoversOnImageLoad($("#notifications-modal"),o.map(t=>t.imageUrl))},16)})}sortProductsThroughBooks(t,e){if(null==e||0==e.length)return t;const o={};for(const t of e)o[t.shortName]=t.lastUpdateDate;return t.sort((t,e)=>o[e.externalId].getTime()-o[t.externalId].getTime())}handleCloseUpsellModal(){c.a.hideNotificationModal()}handleOpenCartButtonClick(){c.a.hideNotificationModal(),l.a.setTimeout(()=>{d.a.requestMenuOpen()},200)}handleAddToCartButtonClick(t){const e=$(t.target).closest(".cart-upsell-carausel-item"),o=e.closest(".cart-upsell-root"),r=e.attr("data-book-short-name"),n=e.attr("data-book-title");$(document).trigger("cartUpsellAddToCartClick",r),o.find(".cart-upsell-processing-notification-container").html(`adding <i>${p.a.cleanBookTitle(n)}</i>`),o.addClass("upsell-processing"),l.a.setTimeout(()=>{d.a.requestAddBookToCartByBookShortName(r)},500)}};$(document).on("customersAlsoBought",(t,e,o)=>{if(!o||Number.isNaN(o))return;const r=$(e);u.a.getMediumCatalog().then(t=>{const e=t.find(t=>t.manningId==o);null!=e&&$(document).trigger("impressionClick",[{id:e.manningId,title:e.title,category:e.categories,position:r.closest(".cart-upsell-carausel-item").index()},"customers also bought"])})});var S=o(42),I=o(8);const b=new class{getCurrentShoppingCartItemsAndDiscount(){return new Promise((t,e)=>{a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/getCart"),e=>this.getShoppingCartItemsAndDiscountFromCart(e).then(e=>t(e)).catch(e=>t({shoppingCartItems:[],discountCode:""})),e=>t({shoppingCartItems:[],discountCode:""}))})}getShoppingCartItemsAndDiscountFromCart(t){return new Promise((e,o)=>{u.a.getMediumCatalog().then(o=>{const r=this.tryToGetShoppingCartItemsFromLineItems(t&&t.lineItems,o),n=r.shoppingCartItems,i=t.codes&&t.codes[0]&&t.codes[0].name;r.missingProductSlugs.length?this.getShoppingCartItemsFromGeneralProducts(t&&t.lineItems,r.missingProductSlugs).then(t=>{e({shoppingCartItems:n.concat(t),discountCode:i})}):e({shoppingCartItems:n,discountCode:i})}).catch(t=>{e({shoppingCartItems:[],discountCode:""})})})}tryToGetShoppingCartItemsFromLineItems(t,e){const o={shoppingCartItems:[],missingProductSlugs:[]};if(!t)return o;const r=t.map(t=>(t.productOffering.lineItem=t,t.productOffering)),i=r.filter(t=>"AUDIO"==t.productType&&!t.lineItem.bundle),s=r.filter(t=>"AUDIO"!=t.productType&&!t.lineItem.bundle);o.shoppingCartItems=i.map(t=>{const o=e.find(e=>e.manningId==t.productId);if(!o)return null;if(s.find(e=>e.productId==t.productId))return null;const r=parseFloat(t.lineItem.unitListPriceString||"0");let i=0;return t.lineItem.unitAmountDiscountedString&&(i=r-parseFloat(t.lineItem.unitAmountDiscountedString||"0")),new n.b(t.id,p.a.cleanBookTitle(o.title),o.authors,o.bookCoverPath,a.a.getBookUrlFromBook(o),0,!1,1,[new n.a(t.id,"audio",r,!0,i)],0,!0,!1,"",t.productId)}).filter(t=>null!=t);const c={};o.shoppingCartItems=o.shoppingCartItems.concat(s.map(t=>{if(c[t.id])return null;if("TOKEN"==t.productType)return new n.b(t.id,"Token","","https://s3-us-west-2.amazonaws.com/live-platforms-common-resources/resources/tokens.png","",parseFloat(t.lineItem.unitListPriceString),!1,t.lineItem.quantity,[],0,!1,!0,"",t.productId);const r=e.find(e=>e.manningId==t.productId);if(!r)return o.missingProductSlugs.push(t.lineItem.slug),null;c[t.id]=!0;const s=parseFloat(t.lineItem.unitListPriceString||"0"),l=parseFloat(t.lineItem.unitAmountDiscountedString||"0"),d=!!(t.lineItem.reduction&&t.lineItem.reduction.discount&&t.lineItem.reduction.discount&&t.lineItem.reduction.discount.enabled);return new n.b(t.id,p.a.cleanBookTitle(r.title),r.authors,r.bookCoverPath,a.a.getBookUrlFromBook(r),d?s-l:s,"COMBO"==t.productType,t.lineItem.quantity,function(t){const e=i.find(e=>e.productId==t);if(!e)return[];let o=0;return e.lineItem.unitAmountDiscountedString&&(o=parseFloat(e.lineItem.unitListPriceString||"0")-parseFloat(e.lineItem.unitAmountDiscountedString||"0")),[new n.a(e.id,"audio",parseFloat(e.lineItem.unitListPriceString||"0"),!0,o)]}(t.productId),l,r.userOwnsBook,!1,"",t.productId,!1,!1,d)}).filter(t=>null!=t));const l=I.a.getUniqueEntries(r.filter(t=>t.lineItem.bundle).map(t=>t.lineItem.bundle),"id");return l.length&&(o.shoppingCartItems=o.shoppingCartItems.concat(this.getShoppingCartItemsFromBundles(l))),o.missingProductSlugs=I.a.getUniqueStringItems(o.missingProductSlugs),o}getShoppingCartItemsFromBundles(t){return t&&t.length?t.map(t=>new n.b(t.id,t.title,"",a.a.getMarketplaceProductCoverUrl(t.imageUrl),"",this.getBundlePrice(t)-t.reductionAmount,!1,1,[],0,!1,!1,"",t.id,!1,!0)):[]}getBundlePrice(t){let e=0;if(t&&t.productOfferings&&t.productOfferings.length)for(const o of t.productOfferings)e+=o.price;return e}getShoppingCartItemsFromGeneralProducts(t,e){return e&&e.length?new Promise((o,r)=>{u.a.getGeneralProducts(e).then(e=>{o(e.map(e=>{const o=t.find(t=>null!=t.productOffering&&t.productOffering.productId==e.id);if(null==o)return null;const r=parseFloat(o.unitListPriceString||"0"),i=parseFloat(o.unitAmountDiscountedString||"0"),s=!!(o.reduction&&o.reduction.discount&&o.reduction.discount&&o.reduction.discount.enabled);return new n.b(o.productOffering.id,e.title,e.authorshipDisplay,a.a.getMarketplaceProductCoverUrl(e.imageUrl),"",s?r-i:r,"COMBO"==o.productOffering.productType,o.quantity,[],i,!1,!1,"",o.productOffering.productId,!1,!1,s)}).filter(t=>null!=t))}).catch(t=>{o([])})}):Promise.resolve([])}};var k=o(3);let v="https://www.manning.com",P="https://www.manning.com/cart";const y="We're having problems synchronizing cart data with our server. Please, visit <a href='https://www.manning.com/cart'>manning.com/cart</a> to complete your order",w=$(document);const B=new class{constructor(){this.bookShortNameProductDiscountsMap={},this.bookShortNameProductDiscountPromiseMap={},this.bookShortNameProductOfferingsMap={},this.syncAddingCartItem=this.syncAddingCartItem.bind(this),this.syncRemovingCartItem=this.syncRemovingCartItem.bind(this),this.syncReplacingCartItem=this.syncReplacingCartItem.bind(this),this.syncDiscountReset=this.syncDiscountReset.bind(this),this.getInitialShoppingCartStore()}updateCartItemCountDisplay(){const t=$(".header-shopping-cart-button-container .header-icon-notification");let e=null!=B.shoppingCartStore?(B.shoppingCartStore.getShoppingCartItems()||[]).length:0,o=t.text();e+""!=o&&(t.toggleClass("hidden",0==e),setTimeout(()=>{t.text(e),t.addClass("appear")},200))}getInitialShoppingCartStore(){return this.initialShoppingCartStorePromise?this.initialShoppingCartStorePromise:this.initialShoppingCartStorePromise=new Promise((t,e)=>{g.a.isLoggedIn().then(()=>{b.getCurrentShoppingCartItemsAndDiscount().then(e=>{this.shoppingCartStore=new r.a(e.shoppingCartItems),e.discountCode&&this.shoppingCartStore.updateDiscountCode(e.discountCode),this.shoppingCartStore.marketplaceUrl=v,this.shoppingCartStore.cartUrl=P,this.shoppingCartStore.eventEmitter.on("itemsChanged",()=>this.handleItemsChanged()),this.shoppingCartStore.eventEmitter.on("shoppingCartItemAdded",this.syncAddingCartItem),this.shoppingCartStore.eventEmitter.on("shoppingCartItemRemoved",this.syncRemovingCartItem),this.shoppingCartStore.eventEmitter.on("shoppingCartItemReplaced",this.syncReplacingCartItem),this.shoppingCartStore.eventEmitter.on("discountRequested",()=>this.discountRequested()),this.shoppingCartStore.eventEmitter.on("discountReset",this.syncDiscountReset),this.shoppingCartStore.eventEmitter.on("shopping-cart-busy",()=>this.toggleAddToCartButtons(!0)),this.shoppingCartStore.eventEmitter.on("shopping-cart-not-busy",()=>this.toggleAddToCartButtons(!1)),this.updateCartItemCountDisplay(),this.handleItemsChanged(!0),t(this.shoppingCartStore)}).catch(t=>{e(t)})}).catch(t=>e(t))})}syncAddingCartItem(t){this.shoppingCartStore.setShoppingCartBusy(),k.a.isShoppingCartBusy=!0,a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/addProductOffering"),t=>this.updateShoppingCartStoreFromCart(t),t=>{k.a.isShoppingCartBusy=!1,this.shoppingCartStore.enterSyncingFail(y)},{productId:t.productId,productOfferingId:t.id,quantity:t.quantity,discountCode:t.discountCode||"",audioProductOfferingId:(t.childItems||[]).filter(t=>t.isSelected).map(t=>t.id)[0]||0})}syncReplacingCartItem(t){const e=t[0],o=t[1];this.shoppingCartStore.setShoppingCartBusy(),k.a.isShoppingCartBusy=!0,a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/replaceProductOffering"),t=>this.updateShoppingCartStoreFromCart(t),t=>{k.a.isShoppingCartBusy=!1,this.shoppingCartStore.enterSyncingFail(y)},{existingProductOfferingId:e.id,newProductOfferingId:o.id,existingProductId:e.productId,newProductId:o.productId})}syncRemovingCartItem(t){this.shoppingCartStore.setShoppingCartBusy(),k.a.isShoppingCartBusy=!0;let e={id:t.id,productId:t.productId};t.childItems&&t.childItems.length>0&&(e.childId=t.childItems[0].id),a.a.getFromOurBackend(a.a.getAbsoluteUrl(t.isBundle?"api/cart/removeBundle":"api/cart/removeProductOffering"),e=>{const o={brand:t.isTokenItem?"token":"book",id:t.productId,price:`${t.isOnSale?t.price:t.price-t.discount}`,category:"",quantity:t.quantity,title:t.title};this.updateShoppingCartStoreFromCart(e),w.trigger("productRemovedFromCart",o)},e=>{k.a.isShoppingCartBusy=!1,this.shoppingCartStore.enterSyncingFail(y);const o={brand:t.isTokenItem?"token":"book",id:t.productId,price:`${t.isOnSale?t.price:t.price-t.discount}`,category:"",quantity:t.quantity,title:t.title,variant:"book"};w.trigger("productRemovedFromCart",o)},e)}discountRequested(){this.shoppingCartStore.setShoppingCartBusy(),k.a.isShoppingCartBusy=!0,a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/addOrUpdateCoupon"),t=>{t.error?(this.shoppingCartStore.setDiscountError(t.message),this.shoppingCartStore.setShoppingCartNotBusy(),k.a.isShoppingCartBusy=!1):this.updateShoppingCartStoreFromCart(t)},t=>{k.a.isShoppingCartBusy=!1,this.shoppingCartStore.enterSyncingFail(y)},{code:this.shoppingCartStore.getDiscountCode()})}syncDiscountReset(t){this.shoppingCartStore.setShoppingCartBusy(),k.a.isShoppingCartBusy=!0,a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/removeCoupon"),t=>this.updateShoppingCartStoreFromCart(t),t=>{k.a.isShoppingCartBusy=!1,this.shoppingCartStore.enterSyncingFail(y)},{code:t})}updateShoppingCartStoreFromCart(t){b.getShoppingCartItemsAndDiscountFromCart(t).then(t=>{this.shoppingCartStore.setAsShoppingCartItems(t.shoppingCartItems),this.shoppingCartStore.getDiscountCode()!=t.discountCode&&this.shoppingCartStore.updateDiscountCode(t.discountCode),this.shoppingCartStore.setShoppingCartNotBusy(),k.a.isShoppingCartBusy=!1}).catch(t=>{console.log("Error"),alert("Error:"+t)})}getBookPrice(t){return new Promise((e,o)=>{this.getProductOfferings(t).then(t=>{if(!t||!t.length)return void e(0);const o=t.find(t=>t.isEBookOffering());e(o?o.price:0)}).catch(t=>o(t))})}getTokenProductOffering(){return null!=this.tokenProductOfferingPromise?this.tokenProductOfferingPromise:this.tokenProductOfferingPromise=new Promise((t,e)=>{a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/getTokenProduct"),o=>{if(null==o||null==o.productOfferings||0==o.productOfferings.length)return void e("No token product offerings");const r=o.productOfferings[0],n=new i.b(r.id,o.id,r.price,r.productType,0,"token");n.imageUrl=o.imageUrl&&a.a.getMarketplaceProductCoverUrl(o.imageUrl),n.slug=o.slug,t(n)},t=>e(t))})}getProductSpendingInfo(t){return t&&g.a.isCurrentlyLoggedIn()?new Promise((e,o)=>{a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/token/getUserProductSpendingInfo"),o=>{t.spendingInfo=o,w.trigger("bookSpendingInfoArrived"),e(o)},t=>e({spentTokenAmount:0,spentDollarAmount:0}),{manningId:t.manningId})}):Promise.resolve({spentTokenAmount:0,spentDollarAmount:0})}getProductOfferings(t){return t&&t.manningId?this.bookShortNameProductOfferingsMap[t.shortName]?Promise.resolve(this.bookShortNameProductOfferingsMap[t.shortName]):new Promise((e,o)=>{a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/getProductOfferings"),o=>{if(o&&o.length){const r=o.filter(t=>!!t.productType&&i.b.productTypes.indexOf(t.productType)>=0).map(e=>new i.b(e.id,t.manningId,e.price,e.productType,e.unitAmountDiscounted||0,e.isbn));e(this.bookShortNameProductOfferingsMap[t.shortName]=r)}else e(this.bookShortNameProductOfferingsMap[t.shortName]=[])},t=>o(t),{manningId:t.manningId})}):Promise.resolve([])}getProductDiscounts(t,e){return t?this.bookShortNameProductDiscountsMap[t.shortName]?Promise.resolve(this.bookShortNameProductDiscountsMap[t.shortName]):this.bookShortNameProductDiscountPromiseMap[t.shortName]?this.bookShortNameProductDiscountPromiseMap[t.shortName]:this.bookShortNameProductDiscountPromiseMap[t.shortName]=new Promise((o,r)=>{a.a.getFromOurBackend(a.a.getAbsoluteUrl("api/cart/getCampaignDiscounts"),e=>{o(this.bookShortNameProductDiscountsMap[t.shortName]=e||{})},e=>{this.bookShortNameProductDiscountPromiseMap[t.shortName]=null,r(e)},{manningId:t.manningId,code:e})}):Promise.resolve({})}isDotd(t){return t?new Promise((e,o)=>{S.a.getDotdProducts().then(o=>{e(!!o.find(e=>e.id==t.manningId))}).catch(t=>e(!1))}):Promise.resolve(!1)}addNewerEdtionToCart(t){u.a.getBook("",t).then(t=>{this.addBookToCart(t,!1)})}addBookToCart(t,e,o="",r=!1,i=!1){t&&(!i&&this.isEbookInShoppingCart(t)||i&&this.isComboInShoppingCart(t)||Promise.all([this.getProductOfferings(t),this.getInitialShoppingCartStore()]).then(s=>{const l=s[0];if(!l||!l.length)return void c.a.showTemporaryNotification(`Cannot add: ${t.title} to the shopping cart. The book is out of print.`);if(c.a.hideNotification(),!i&&this.isEbookInShoppingCart(t))return;if(i&&this.isComboInShoppingCart(t))return;const d=l.find(t=>t.isEBookOffering()),u=l.find(t=>t.isAudioOffering()),g=l.find(t=>t.isComboOffering());if(t.userOwnsBook&&!u)return;const h=i?g:d,m=h.unitAmountDiscounted>0&&!h.discountCode,C=new n.b(h&&h.id,p.a.cleanBookTitle(t.title),t.authors,t.bookCoverPath,a.a.getBookUrlFromBook(t),h?m?h.price-h.unitAmountDiscounted:h.price:0,i,1,u?[new n.a(u.id,"audio",u.price,e)]:[],null!=h?h.unitAmountDiscounted:0,t.userOwnsBook,!1,"",t.manningId,r,!1,m);if(C.externalId=t.shortName,C.productId=t.manningId,C.discountCode=o||"",C.isbn=h.isbn,i&&this.isEbookInShoppingCart(t)){const e=this.shoppingCartStore.getShoppingCartItems().find(e=>e.productId==t.manningId&&!e.isCombo);null!=e?this.shoppingCartStore.replaceShoppingCartItem(e,C):this.shoppingCartStore.addShoppingCartItem(C)}else this.shoppingCartStore.addShoppingCartItem(C);f.show(t.shortName,p.a.cleanBookTitle(t.title),t.bookCoverPath,i);try{const e={book:t,productOffering:h,price:C.isOnSale?C.price:C.price-C.discount,quantity:C.quantity,isToken:!1};$(document).trigger("productAddedToCart",e)}catch(t){}}).catch(t=>{c.a.showTemporaryNotification("Error adding book to shopping cart. Try later.")}))}addTokensToCart(t){if(t<=0||null==this.shoppingCartStore)return;const e=this.shoppingCartStore.getShoppingCartItems().find(t=>t.isTokenItem);null==e?this.getTokenProductOffering().then(e=>{this.shoppingCartStore.addShoppingCartItem(new n.b(e.id,"Tokens","",e.imageUrl||"https://s3-us-west-2.amazonaws.com/live-platforms-common-resources/resources/tokens.png",a.a.getProductionMarketplaceUrl(`token/${e.slug}`),e.price,!1,t,[],0,!1,!0,"Tokens are used to unlock parts of our products"));const o={book:null,productOffering:e,price:e.price,quantity:t,isToken:!0};$(document).trigger("productAddedToCart",o)}):this.shoppingCartStore.setNewTokenQuantity(e.quantity+t)}isInShoppingCart(t){return!!this.shoppingCartStore&&(!!t&&null!=this.shoppingCartStore.getShoppingCartItems().find(e=>e.productId==t.manningId))}isEbookInShoppingCart(t){return!!this.shoppingCartStore&&(!!t&&null!=this.shoppingCartStore.getShoppingCartItems().find(e=>e.productId==t.manningId&&!e.isCombo))}isComboInShoppingCart(t){return!!this.shoppingCartStore&&(!!t&&null!=this.shoppingCartStore.getShoppingCartItems().find(e=>e.productId==t.manningId&&e.isCombo))}isBookShortNameInShoppingCart(t){return!!this.shoppingCartStore&&(!!t&&null!=this.shoppingCartStore.getShoppingCartItems().find(e=>e.externalId==t))}isBusy(){return!!this.shoppingCartStore&&this.shoppingCartStore.isBusy}handleItemsChanged(t=!1){s.a.setItem("shopping-cart-items",JSON.stringify(this.shoppingCartStore.getShoppingCartItems())),w.trigger("shoppingCartItemsChanged")}toggleAddToCartButtons(t){$(".add-to-cart-button").toggleClass("disabled",t)}}},759:function(t,e,o){var r=o(88),n=o(760);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var i={insert:"head",singleton:!1};r(n,i);t.exports=n.locals||{}},760:function(t,e,o){(e=o(89)(!1)).push([t.i,".cart-upsell-root{font-size:1.5em;position:relative}.cart-upsell-root.upsell-processing .cart-upsell-processing-container{display:flex}@media screen and (max-width: 750px){.cart-upsell-root .cart-upsell-product-title-commands-container{width:100%}}.cart-upsell-root .cart-upsell-processing-container{display:none;position:absolute;top:0;left:0;right:0;bottom:0;align-items:center;justify-content:center;flex-direction:column;background-color:white}.cart-upsell-root .cart-upsell-top-row{padding-bottom:1em;overflow:hidden;display:flex;align-items:flex-end}@media screen and (max-width: 520px){.cart-upsell-root .cart-upsell-top-row .cart-upsell-button{display:block}.cart-upsell-root .cart-upsell-top-row .cart-upsell-button+.cart-upsell-button{margin-top:0.5em}}@media screen and (max-width: 510px){.cart-upsell-root .cart-upsell-top-row{padding-bottom:0.5em}}.cart-upsell-root .cart-upsell-bottom-row{border-top:solid thin #777777;overflow:hidden}.cart-upsell-root .cart-upsell-current-product-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;width:100%}.cart-upsell-root .cart-upsell-carausel{position:relative;width:100%;min-height:50px;white-space:nowrap;overflow-x:auto;padding-bottom:1em}.cart-upsell-root .cart-upsell-carausel-item{display:inline-block;width:103px;width:calc(100%/6.7);max-width:150px}.cart-upsell-root .cart-upsell-carausel-item a,.cart-upsell-root .cart-upsell-carausel-item .cart-upsell-button{display:block}.cart-upsell-root .cart-upsell-carausel-item .cart-upsell-button{margin-top:0.2em}.cart-upsell-root .cart-upsell-carausel-item .cart-upsell-command-overlay{display:none;position:absolute;top:0;left:0;right:0;bottom:0;align-items:center;justify-content:center;align-content:center;align-items:center;background-color:rgba(0,0,0,0.3);color:white}.cart-upsell-root .cart-upsell-carausel-item a{position:relative}.cart-upsell-root .cart-upsell-carausel-item a:hover .cart-upsell-command-overlay{display:flex}.cart-upsell-root .cart-upsell-carausel-item+.cart-upsell-carausel-item{margin-left:0.25em}.cart-upsell-root .cart-upsell-product-title-container{font-size:1.2em;padding-bottom:0.5em}@media screen and (max-width: 700px){.cart-upsell-root .cart-upsell-product-title-container{font-size:1em}}@media screen and (max-width: 450px){.cart-upsell-root .cart-upsell-product-title-container{font-size:0.8em}}.cart-upsell-root .cart-upsell-processing-notification-container i,.cart-upsell-root .cart-upsell-product-title-container i{font-family:Lato,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-style:italic;-webkit-font-smoothing:auto}.cart-upsell-root .cart-upsell-product-cover-container{margin-left:1.5em;width:103px;width:calc(100%/6.7);max-width:150px}@media screen and (max-width: 750px){.cart-upsell-root .cart-upsell-product-cover-container{display:none}}.cart-upsell-root img{border:solid 1px #ccc}.cart-upsell-root .cart-upsell-button{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:5px 10px;font-size:14px;line-height:1.428571429;user-select:none;-webkit-user-select:none}.cart-upsell-root .cart-upsell-cart-button{color:white;background-color:#3C67A2}.cart-upsell-root .cart-upsell-cart-button:hover{background-color:#355b8f}.cart-upsell-root .cart-upsell-cart-button:active{background-color:#2e4f7d}.cart-upsell-root .cart-upsell-add-to-cart-button{color:#333;background-color:#fff;border-color:#ccc}.cart-upsell-root .cart-upsell-add-to-cart-button:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.cart-upsell-root .cart-upsell-add-to-cart-button:active{box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.cart-upsell-root .cart-upsell-related-products-heading{font-weight:300;padding:0.5em 0;font-size:0.9em}@media screen and (max-width: 510px){.cart-upsell-root .cart-upsell-related-products-heading{font-size:0.7em}}@media screen and (max-width: 420px){.cart-upsell-root .cart-upsell-related-products-heading{font-size:0.5em}}.cart-upsell-root .cart-upsell-add-to-cart-button .fa{display:none}@media screen and (max-width: 800px){.cart-upsell-root .cart-upsell-add-to-cart-button{font-size:12px;padding:3px 6px}}@media screen and (max-width: 550px){.cart-upsell-root .cart-upsell-add-to-cart-button span{display:none}.cart-upsell-root .cart-upsell-add-to-cart-button .fa{display:inline-block}}\n",""]),t.exports=e},85:function(t,e,o){"use strict";o.r(e),o.d(e,"ShoppingCartManager",(function(){return s}));var r=o(687),n=o(12),i=o(2);const a=new class{openMenu(){this.getSource().then(({ShoppingCartMenu:t})=>t.openMenu())}getSource(){return this.sourcePromise||(this.sourcePromise=i.a.importWebpackModuleWithRetry(this.constructSourcePromise)),this.sourcePromise}constructSourcePromise(){return Promise.all([o.e(0),o.e(1),o.e(2),o.e(104),o.e(76)]).then(o.bind(null,1215))}};const s=new class{requestMenuOpen(){const t=setTimeout(()=>$(document).trigger("requestNotification","loading shopping cart"));r.a.getInitialShoppingCartStore().then(()=>{$(document).trigger("hideNotification"),clearTimeout(t),a.openMenu()}).catch(t=>{$(document).trigger("requestNotification","Error loading shopping cart. Try later or visit manning.com")})}requestAddNewerEditionToCart(t){r.a.addNewerEdtionToCart(t)}requestAddBookToCart(t,e,o,n=!1,i=!1){r.a.addBookToCart(t,e,o,n,i)}getProductOfferings(t){return r.a.getProductOfferings(t)}isDotd(t){return r.a.isDotd(t)}getProductDiscounts(t,e){return r.a.getProductDiscounts(t,e)}getTokenProductOffering(){return r.a.getTokenProductOffering()}getBookPrice(t){return r.a.getBookPrice(t)}getProductSpendingInfo(t){return r.a.getProductSpendingInfo(t)}addTokensToCart(t){r.a.addTokensToCart(t)}showLoginModal(t=""){n.a.requestOpenModal("signin",t,"shopping")}initializeShoppingCartStore(){return r.a.getInitialShoppingCartStore()}}}}]);
//# sourceMappingURL=shoppingCartModule.chunk.js.map?8d6496567ff872853373