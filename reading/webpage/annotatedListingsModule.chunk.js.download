(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{100:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},133:function(t,n,e){"use strict";var i=e(8),o=e(11);n.a=new class{highlight(t,n,e,s="",a="",r={}){if(!t)return;const l=$(t);l.is(".fragment-played")&&(s="");const h=o.a.getAllDescendantTextNodes(t),c=o.a.createTextNodeTextRanges(h);let d=i.a.getStartIndex(c.value,n,a),u=d+n.length;if(-1===d&&(u=(d=c.value.indexOf(n.replace("<","&lt;").replace(">","&gt;")))+n.length,-1==d))return;const g=o.a.splitRanges(c,d,u);if(this.markVisibleParentNodeElements(t,g.followingRanges,s),this.liftWordsInMatchingRanges(g.matchingRanges,d,u,e,s,r),this.liftWordsInFollowingRanges(g.followingRanges,s),""!=s.trim()){const t="."+s.trim().replace(/\s+/,".");l.find(t).each((function(t,n){const e=$(n.nextSibling);e.is("img")&&e.addClass(s)}))}}liftWordsInMatchingRanges(t,n,e,i,s,a){for(let r=0,l=t.length;r<l;r++){const h=t[r],c=h.textNode.nodeValue;if(0==r){const t=n-h.start,r=e-h.start,l=c.substring(0,t),d=c.substring(t,r),u=c.substring(r,h.end);$(h.textNode).replaceWith(l+o.a.wrapToHtmlElement("span",Object.assign({class:i},a),d)+(""!=u&&""!=s?o.a.wrapToHtmlElement("span",{class:s},u):u))}else if(r==l-1){const t=e-h.start,n=c.substring(0,t),r=c.substring(t,c.length);$(h.textNode).replaceWith(o.a.wrapToHtmlElement("span",Object.assign({class:i},a),n)+(""!=r&&""!=s?o.a.wrapToHtmlElement("span",{class:s},r):r))}else $(h.textNode).replaceWith(o.a.wrapToHtmlElement("span",Object.assign({class:i},a),c))}}liftWordsInFollowingRanges(t,n){if(n)for(let e=0;e<t.length;e++){const i=t[e];i.textNode.nodeValue&&i.textNode.nodeValue.trim()&&$(i.textNode).replaceWith(o.a.wrapToHtmlElement("span",{class:n},i.textNode.nodeValue))}}markVisibleParentNodeElements(t,n,e){if(t&&n&&0!=n.length&&e)for(let t=0;t<n.length;t++){const i=n[t].textNode;"KBD"==i.parentNode.nodeName&&$(i.parentNode).addClass(e)}}}},329:function(t,n,e){"use strict";e.r(n),e.d(n,"AnnotatedCodeListings",(function(){return L}));var i=e(8),o=e(4),s=e(0),a=e(133),r=e(404),l=e(9),h=e(3);const c=/^\#([A-Z]|\d{1,2}):?\s+-?/,d=/#([0-9]{1,2}|[A-Z])\s*$/,u={"Python 2.7":"python","Python 3.6":"python",Java:"java",JavaScript:"javascript"};class g{constructor(t,n,e){this.hasBeenHighlighted=!1,this.touchStartPosition=null,this.handleLineContainerTouchStart=this.handleLineContainerTouchStart.bind(this),this.handleLineContainerTouchEnd=this.handleLineContainerTouchEnd.bind(this),this.handleLineContainerTouchMove=this.handleLineContainerTouchMove.bind(this),this.handleListingHighlightRequest=this.handleListingHighlightRequest.bind(this);let i="";const o=t.querySelector(".code-area");o&&(i=(o.value||o.textContent).trim()),this.rawSourceCode=i,this.listingContainer=t,this.additionalListingContainer=null,this.listingContainer.annotatedListing=this,this.$listingContainer=$(t),this.$additionalListingContainer=$(null),this.sourceLines=[],this.source="",this.annotations={},this.annotatedLines=[],this.references=[],this.annotationsLinesMap={},this.styles=[],n?(this.highlightWhenInView(o),e&&e()):this.highlightCodeArea(o,e),$(document).on("requestListingHighlight",this.handleListingHighlightRequest)}clean(){this.unsubscribeEvents(),this.unsubscribeAdditionalListingEvents(),this.listingContainer=null,this.$listingContainer=null,this.additionalListingContainer=null,this.$additionalListingContainer=null,this.$codeArea=null,this.annotations=null,this.annotatedLines=null,this.annotationsLinesMap=null}highlightWhenInView(t,n){this.watcher=r(t,()=>{if($(t).parent().is(".code-area-with-html"))return n&&n(),this.watcher&&this.watcher.dispose(),void(this.watcher=null);this.highlightCodeArea(t,n),this.watcher&&this.watcher.dispose(),this.watcher=null})}handleListingHighlightRequest(){if(this.hasBeenHighlighted)return;this.watcher&&this.watcher.dispose(),this.watcher=null;const t=null!=this.listingContainer&&this.listingContainer.querySelector(".code-area");t&&this.highlightCodeArea(t)}highlightCodeArea(t,n){this.processLines(),this.buildReferenceAnnotatedLinesMap();try{const e=new Worker(s.b.isApp()?"highlightJsWorker.js":"/assets/highlightJsWorker.js");e.onmessage=i=>{try{const e=$(`<pre class="code-area"><code class="hljs">${i.data}</code></pre>`);e.find(".hljs-meta").each((t,n)=>{const e=$(n);"#"===e.text().trim()&&e.text("#")}),$(t).replaceWith(e),this.$codeArea=e,n&&n(),this.hasBeenHighlighted=!0}catch(t){console.log("Error when text highlighting code",t)}o.a.setTimeout(()=>this.createLineNumbers(),5),o.a.setTimeout(()=>this.createAnnotationsAndLines(),7),o.a.setTimeout(()=>this.updateTextStyle(),10),e.terminate()},e.onerror=t=>{console.log("Error when highlighting code",t),n&&n()};const i=(this.source||"").replace(/\r/g,"").trim();e.postMessage({source:i,language:this.getCurrentProgrammingLanguage()})}catch(t){console.log("Error loading highlight worker",t)}}getCurrentProgrammingLanguage(){try{if(null!=h.a.book&&""!=h.a.book.programmingLanguage&&"N/A"!=h.a.book.programmingLanguage&&u[h.a.book.programmingLanguage])return[u[h.a.book.programmingLanguage]]}catch(t){}}processLines(){if(!this.rawSourceCode||!this.$listingContainer)return;let t=this.rawSourceCode.trim();const n=this.$listingContainer.find(".code-annotations-overlay-container");n.attr("data-annotations")&&(t+="\n"+i.a.b64DecodeUnicode(n.attr("data-annotations")));const e=t.split(/\r\n|\r|\n/g);let o,s=!1,a=!1,r=!1;for(let t=0;t<e.length;t++){const n=e[t];if(r=n.indexOf("!@%STYLE%@!")>-1,s&&!r)this.styles.push(JSON.parse(n));else if(n.match(c)){a=!0;const t=n.match(c);t&&t.length>=2&&(o=t[1],this.annotations[o]={reference:o,descriptions:[n.substr(t[0].length).replace(/^:(\s)+/,"")]})}else a&&o&&this.annotations[o]&&n.trim()?this.annotations[o].descriptions.push(n.trim().replace("!@%STYLE%@!","")):r||(this.sourceLines.push(n),this.annotatedLines.push({line:n,lineNumber:t,annotation:null,annotationElement:null}));n.indexOf("!@%STYLE%@!")>-1&&(s=!s)}for(const t in this.annotations)this.annotations[t].description=this.annotations[t].descriptions.join(" ").trim();for(let t=0;t<this.sourceLines.length;t++){const n=this.sourceLines[t],e=n.match(d);if(e){const o=e[1];this.sourceLines[t]=i.a.trimEnd(n.substr(0,n.indexOf(e[0]))),this.annotations[o]||(this.annotations[o]={reference:o,description:""}),this.annotatedLines[t].annotation=this.annotations[o]}}this.source=this.sourceLines.join("\r\n")}buildReferenceAnnotatedLinesMap(){this.annotationsLinesMap={};for(let t=0;t<this.annotatedLines.length;t++){const n=this.annotatedLines[t],e=n.annotation;if(!e)continue;const i=e.reference;this.annotationsLinesMap[i]||(this.annotationsLinesMap[i]={annotatedLines:[],groups:[]}),this.annotationsLinesMap[i].annotatedLines.push(n)}for(let t in this.annotationsLinesMap){if(!this.annotationsLinesMap.hasOwnProperty(t))continue;const n=this.annotationsLinesMap[t],e=n.annotatedLines,i=n.groups=[];if(e.length<=0)continue;if(1===e.length){i.push([e[0]]);continue}const o=[];for(let t=0;t<e.length-1;t++){const n=e[t],i=e[t+1];let s=[];for(let t=n.lineNumber+1;t<i.lineNumber;t++){const n=this.annotatedLines[t];if(n){if(n.annotation){s=[];break}s.push(n)}}for(let t=0;t<s.length;t++)s[t].annotation=n.annotation;o.push(...s)}e.push(...o),e.sort((t,n)=>t.lineNumber-n.lineNumber),i.push([e[0]]);for(let t=1;t<e.length;t++){const n=e[t-1],o=e[t];n.lineNumber+1===o.lineNumber?i[i.length-1].push(o):i.push([o])}}}createLineNumbers(){const t=this.getCountLines(this.source);if(t>0){let n="";for(let e=0;e<t;e++)n+=`<div class="line-number line-number-${e+1}">${e+1}</div>`;this.$codeArea.prepend(`<code class="hljs hljs-line-numbers" style="float:left">${n}</code>`)}}getCountLines(t){return 0===t.length?0:t.trim().split(/\r\n|\r|\n/g).length}createAnnotationsAndLines(){if(!this.$listingContainer)return;const t=this.$listingContainer.find(".code-annotations-overlay-container");let n="";const e={};for(let t in this.annotationsLinesMap){const n=this.annotationsLinesMap[t];e[t]={};for(let i=0;i<n.groups.length;i++){const o=n.groups[i],s=o[0],a=o[o.length-1],r=this.$codeArea.find(`.line-number-${s.lineNumber+1}`),l=this.$codeArea.find(`.line-number-${a.lineNumber+1}`);r.length&&l.length?e[t][i]={firstLineOffset:r.position().top,lastLineEnd:l.position().top+l.height()}:console.log("Couldn't build all lines in listing",this.source)}}for(let i in this.annotationsLinesMap){const o=this.annotationsLinesMap[i],s=o.annotatedLines[0].annotation;for(let a=0;a<o.groups.length;a++){const r=o.groups[a];r[0],r[r.length-1];if(!e[i])continue;const l=e[i][a];if(!l)continue;const h=r.map(t=>this.sourceLines[t.lineNumber]).join("\r\n");let c="";try{c=btoa(h)}catch(t){}n+=`<div class="line-container listing-line-group group${i}" \n                                            style="top: ${l.firstLineOffset}px; height:${l.lastLineEnd-l.firstLineOffset-1}px; line-height:${l.lastLineEnd-l.firstLineOffset-1}px;"\n                                            data-code="${c}"></div>`;const d=$(`<div class='annotation-container'\n                                                     style='top:${l.firstLineOffset}px; height:${l.lastLineEnd-l.firstLineOffset-1}px; line-height:${l.lastLineEnd-l.firstLineOffset-1}px'>\n                                                    <span class='annotation-label'>${s.reference}</span>\n                                                </div>`);d.attr("title",s.description),t.append(d),s.labels||(s.labels=[]),s.labels.push(d.get(0));for(let t=0;t<r.length;t++)r[t].annotationElement=d.get(0)}}this.$codeArea.prepend(n),this.registerAnnotationEvents()}registerAnnotationEvents(){const t=this.$listingContainer.find(".code-annotations-overlay-container").children(),n=this.$listingContainer.find(".line-container");o.a.onEventWithCooldown(t,"click",t=>{this.goToAnimationStep($(t.currentTarget).text().trim(),!1,t.currentTarget)}),o.a.onEventWithCooldown(n,"click",t=>{const n=$(t.currentTarget),e=L.getLineGroupReference(n);e&&this.goToAnimationStep(e)}),n.on("touchstart",this.handleLineContainerTouchStart),n.mouseenter(t=>this.handleLineWrapperEnter($(t.currentTarget))),t.hover(t=>{const n=$(t.currentTarget);if(n.is(".selected"))return;const e=this.getWholeLineGroup(n);null!=e&&e.length>0&&this.handleLineWrapperEnter(e.eq(0))},t=>{const n=$(t.currentTarget);if(n.is(".selected"))return;const e=this.getWholeLineGroup(n);null!=e&&e.length>0&&this.handleLineWrapperLeave(e.eq(0))})}handleLineContainerTouchStart(t){$(document).on("touchmove",this.handleLineContainerTouchMove),$(document).on("touchend",this.handleLineContainerTouchEnd),this.touchStartPosition=this.getPointFromEvent(t)}handleLineContainerTouchEnd(){$(document).off("touchmove",this.handleLineContainerTouchMove),$(document).off("touchend",this.handleLineContainerTouchEnd),this.touchStartPosition=null}handleLineContainerTouchMove(t){const n=this.getPointFromEvent(t);if(null==this.touchStartPosition||null==n)return;const e=n.x-this.touchStartPosition.x,i=this.$listingContainer.find("code.hljs:not(.hljs-line-numbers)");i.scrollLeft(i.scrollLeft()-e)}getPointFromEvent(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:t.originalEvent&&t.originalEvent.touches&&1==t.originalEvent.touches.length?{x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY}:null}handleLineWrapperLeave(t){const n=L.getLineGroupClass(t);if(!n)return;this.$listingContainer.find("."+n).removeClass("highlighted");const e=L.getLineGroupReference(t);this.annotations[e]&&this.$listingContainer.find(".hovered").removeClass("hovered")}removeHighlighted(t){if(!t||0==t.length)return;const n=t.find(".listing-line-group.highlighted");0!=n.length&&this.handleLineWrapperLeave(n.eq(0))}handleLineWrapperEnter(t){this.removeHighlighted(t.parents(".browsable-container"));const n=L.getLineGroupClass(t);n&&($(document).trigger("code-lines-group-hovered",[this.$listingContainer.find("."+n),this.$additionalListingContainer.find("."+n)]),t.is(".selected")||this.highlight(L.getLineGroupReference(t)))}getWholeLineGroup(t){return t?this.$listingContainer.find(".group"+t.text().trim()):null}goToAnimationStep(t,n=!1,e=null){this.listingContainer.runnableScript&&this.listingContainer.runnableScript.leaveEditMode();const i=this.annotations[t];if(!i)return;const s=$(i.labels),a=($(i.additionalLabels),s.is(".selected"));if(L.hideAll(),a)return;0==l.a.getCurrentMainContentTranslateX()?this.showTipWithAnimation(s,$("#code-annotation-container"),e):($(document).trigger("slideMenuCloseRequested"),o.a.setTimeout(()=>{this.showTipWithAnimation(s,$("#code-annotation-container"),e)},300));const r=this.$listingContainer.find(".group"+t).addClass("selected"),h=this.$additionalListingContainer.find(".group"+t).addClass("selected");n&&$(document).trigger("requestPlayPointPosition",[r,h,!0])}unsubscribeEvents(){const t=this.$listingContainer.find(".code-annotations-overlay-container").children(),n=this.$listingContainer.find(".line-container");t.off(),n.off()}unsubscribeAdditionalListingEvents(){const t=this.$additionalListingContainer.find(".code-annotations-overlay-container").children(),n=this.$additionalListingContainer.find(".line-container");t.off("click"),t.off("mouseenter"),t.off("mouseleave"),t.off("touchstart"),n.off("click"),n.off("mouseenter"),n.off("touchstart")}preselect(t,n){const e=this.$listingContainer.find(".group"+t);e.addClass("pre-selected");const i=this.$additionalListingContainer.find(".group"+t);i.addClass("pre-selected");var o=this.annotations[t];o&&($(o.labels).addClass("hovered"),$(o.additionalLabels).addClass("hovered"),n&&$(document).trigger("requestPlayPointPosition",[e,i]))}highlight(t){const n=this.$listingContainer.find(".group"+t);this.$additionalListingContainer.find(".group"+t).addClass("highlighted"),n.addClass("highlighted");const e=this.annotations[t];e&&($(e.labels).addClass("hovered"),$(e.additionalLabels).addClass("hovered"))}showTipWithAnimation(t,n,e){if(!t||0==t.length)return;t.text().trim();const i=t.attr("title"),o=n[0]==$("#additional-code-annotation-container")[0],s=t.parents(".code-area-container"),a=n.find(".annotation-description");n.find(".annotation-container").find(".annotation-label").text(t.text()),a.width("auto"),a.text(i);const r=this.willAnnotationFitInScreen(t);let l=null;if(l=null!=e&&t.index(e)>=0?$(e).offset():t.offset(),o&&(l.top-=$("#video-mode-overlay").offset().top),r?(l.left+=t.width(),n.removeClass("vertical"),t.removeClass("vertical")):(l.top-=1.1*n.height(),l.left=s.width()/2-n.width()/3,n.addClass("vertical"),t.addClass("vertical")),t.is(".selected"))return;n.stop();const h=n.width();i&&(r&&(n.width(0),a.css({opacity:0}),a.text("")),n.addClass("shown"),n.css({top:l.top,opacity:1,left:l.left})),t.addClass("selected"),i&&(r?(n.css({minHeight:t.height()}),n.find(".annotation-container").css({height:t.height()}),n.animate({width:h},300,()=>{t.addClass("show-tip"),a.text(t.attr("title")),a.animate({opacity:1},300),n.css({left:parseFloat(n.css("left"))+2})})):n.addClass("show-tip")),L.currentAnnotatedListing=this,$(document).trigger("codeAnnotationShown",this.listingContainer)}willAnnotationFitInScreen(t){return t.offset().left+t.width()+$("#code-annotation-container").width()<document.documentElement.clientWidth}setAdditionalListingContainer(t){this.unsubscribeAdditionalListingEvents(),this.additionalListingContainer=t,this.$additionalListingContainer=$(t);const n=this.$additionalListingContainer.find(".annotation-container");for(let t in this.annotationsLinesMap){const e=this.annotationsLinesMap[t];if(!e||void 0===e[0]){console.log("breakout",e);continue}const i=e[0].annotation,o=n.filter((n,e)=>$(e).find(".annotation-label").text()==t);0!=o.length&&(i.additionalLabels||(i.additionalLabels=[]),i.additionalLabels.push(o.get(0)))}}updateTextStyle(){if(!this.styles)return;const t=this.$codeArea.find(".hljs:not(.hljs-line-numbers)"),n=t[0],e=t.text().split(/\r\n|\r|\n/g);this.styles.forEach(t=>{JSON.parse(t.target).forEach(i=>{const o=i[0],s=i[1],r=(t.css,t.css&&-1!=t.css.indexOf("font-weight")),l=this.getSubstring(e,o,s);l&&r&&a.a.highlight(n,l,"bold")})})}getSubstring(t,n,e){const i=t[n.line],o=t[e.line];if(!i||!o)return"";if(n.line===e.line)return i.substring(n.ch,e.ch);if(e.line>n.line){let s=i.substring(n.ch);for(let i=n.line+1;i<e.line-1;i++)s+=t[i];return s+o.substring(0,e.ch)}return""}}var f=e(2);const p=$(document),m=$(window);const L=new class{constructor(){this.lineGroupReferenceRegEx=/group([0-9]{1,2}|[A-Z])/,this.annotatedCodeListings=[],this.registerGlobalEventHandlers(),$(document.body).append('<div id="code-annotation-container" lang="en">\n                                            <div class="annotation-description"></div>\n                                            <i class="annotation-copy-icon fa fa-copy" title="copy code lines"></i>\n                                          </div>'),f.a.loadClipboardCode().then(()=>{const t=new window.Clipboard($("#code-annotation-container .annotation-copy-icon")[0],{text:()=>{let t=$(".listing-line-group.selected").attr("data-code");return t?atob(t):"fail"}});t.on("success",t=>{$(document).trigger("requestNotification","code copied!"),t.clearSelection(),$(document.activeElement).blur()}),t.on("error",t=>{$(document).trigger("requestNotification","error when copying annotated code"),$(document.activeElement).blur()})})}initialize(){const t=$(".listing-container");let n=0;const e=$(".code-annotations-overlay-container[data-annotations]").length>0;0===t.length?p.trigger("annotatedListingsLoaded"):i.a.asyncEach(t,i=>this.annotatedCodeListings.push(new g(i,e,()=>{++n>=t.length&&p.trigger("annotatedListingsLoaded")})),()=>{})}clean(){this.hideAll(),this.currentAnnotatedListing=null,this.currentPausedAtCueball=null,this.lastPausedAtCueball=null,this.annotatedCodeListings&&this.annotatedCodeListings.length&&this.annotatedCodeListings.forEach(t=>t.clean()),this.annotatedCodeListings=[]}registerGlobalEventHandlers(){m.on("resizestart",()=>this.hideAll()),p.on("cueballWillBeReached",(t,n,e)=>{n.listingContainer.annotatedListing.preselect(e,!1)}),p.on("cueballReached",(t,n,e,i)=>{this.currentPausedAtCueball={textFragment:n,cueballReference:i||e},this.lastPausedAtCueball=this.currentPausedAtCueball,this.hasAnnotatedListing(n)&&(n.listingContainer.annotatedListing.goToAnimationStep(e,null==i),null!=i&&n.listingContainer.annotatedListing.preselect(i,!0))}),p.on("runnableScriptEditModeEntered",()=>this.hideAll()),p.on("mouseup touchstart",t=>{const n=$(t.target).parents(".listing-container"),e=$(t.target).parents("#play-point");n.length||e.length||$(t.target).is(".annotation-copy-icon")||this.hideAll()}),p.on("playingTextFragmentChange",()=>this.hideAll())}hideAll(){this.hideAnnotations(),this.clearCodeHighlights()}consumePausedCueball(){this.currentPausedAtCueball=null}hideAnnotations(){$(".annotation-container.selected").removeClass("selected"),$(".annotation-container.show-tip").removeClass("show-tip"),$("#code-annotation-container").removeClass("show-tip").removeClass("shown").css("opacity:0"),$("#additional-code-annotation-container").removeClass("show-tip").removeClass("shown").css("opacity:0")}clearCodeHighlights(){null!=this.currentAnnotatedListing&&(this.currentAnnotatedListing.$listingContainer.find(".listing-line-group").removeClass("selected highlighted pre-selected"),this.currentAnnotatedListing.$listingContainer.find(".hovered").removeClass("hovered"),this.currentAnnotatedListing.$additionalListingContainer&&(this.currentAnnotatedListing.$additionalListingContainer.find(".listing-line-group").removeClass("selected highlighted pre-selected"),this.currentAnnotatedListing.$additionalListingContainer.find(".hovered").removeClass("hovered")))}hasAnnotatedListing(t){return!!(t&&t.listingContainer&&t.listingContainer.annotatedListing)}unsubscribeEvents(t){t&&t.annotatedListing&&t.annotatedListing.unsubscribeEvents()}getLineGroupReference(t){const n=this.getLineGroupClassMatch(t);return n?n[1]:""}getLineGroupClass(t){const n=this.getLineGroupClassMatch(t);return n?n[0]:""}getLineGroupClassMatch(t){if(!t)return null;const n=t.attr("class").match(this.lineGroupReferenceRegEx);return n&&n.length>=2?n:null}isCurrentlyStoppedCue(t){return!(!this.lastPausedAtCueball||!t)&&(t.matchingTextFragment==this.lastPausedAtCueball.textFragment&&t.cueballReference==this.lastPausedAtCueball.cueballReference)}}},404:function(t,n,e){(function(n){t.exports=function(t,a,r){var l={container:n.document.body,offset:0,debounce:15,failsafe:150};void 0!==a&&"function"!=typeof a||(r=a,a={});var h=l.container=a.container||l.container,c=l.offset=a.offset||l.offset,d=l.debounce=a.debounce||l.debounce,u=l.failsafe=a.failsafe||l.failsafe;!0===u?u=150:!1===u&&(u=0);u>0&&u<d&&(u=d+50);for(var g=0;g<e.length;g++)if(e[g].container===h&&e[g]._debounce===d&&e[g]._failsafe===u)return e[g].isInViewport(t,c,r);return e[e.push(function(t,e,a){var r=function(){var t=[];function n(n){for(var e=t.length-1;e>=0;e--)if(t[e][0]===n)return e;return-1}function e(t){return-1!==n(t)}return{add:function(n,i,o){e(n)||t.push([n,i,o])},remove:function(e){var i=n(e);-1!==i&&t.splice(i,1)},isWatched:e,checkAll:function(n){return function(){for(var e=t.length-1;e>=0;e--)n.apply(this,t[e])}}}}(),l=t===n.document.body?n:t,h=(c=r.checkAll((function(t,n,e){f(t,n)&&(r.remove(t),e(t))})),d=e,function(){var t=this,n=arguments,e=u&&!g;function i(){g=null,u||c.apply(t,n)}clearTimeout(g),g=setTimeout(i,d),e&&c.apply(t,n)});var c,d,u,g;o(l,"scroll",h),l===n&&o(n,"resize",h);i&&function(t,n,e){var i=new MutationObserver((function(t){!0===t.some(a)&&setTimeout(e,0)})),o=Array.prototype.filter,s=Array.prototype.concat;function a(n){var e=s.call([],Array.prototype.slice.call(n.addedNodes),n.target);return o.call(e,t.isWatched).length>0}i.observe(n,{childList:!0,subtree:!0,attributes:!0})}(r,t,h);a>0&&setInterval(h,a);function f(e,i){if(!e)return!1;if(!s(n.document.documentElement,e)||!s(n.document.documentElement,t))return!1;if(!e.offsetWidth||!e.offsetHeight)return!1;var o=e.getBoundingClientRect(),a={};if(t===n.document.body)a={top:-i,left:-i,right:n.document.documentElement.clientWidth+i,bottom:n.document.documentElement.clientHeight+i};else{var r=t.getBoundingClientRect();a={top:r.top-i,left:r.left-i,right:r.right+i,bottom:r.bottom+i}}return o.right>=a.left&&o.left<=a.right&&o.bottom>=a.top&&o.top<=a.bottom}return{container:t,isInViewport:function(t,n,e){if(!e)return f(t,n);var i=function(t,n,e){return{watch:function(){r.add(t,n,e)},dispose:function(){r.remove(t)}}}(t,n,e);return i.watch(),i},_debounce:e,_failsafe:a}}(h,d,u))-1].isInViewport(t,c,r)};var e=[],i="function"==typeof n.MutationObserver;function o(t,n,e){t.attachEvent?t.attachEvent("on"+n,e):t.addEventListener(n,e,!1)}var s=function(){return!n.document||(n.document.documentElement.compareDocumentPosition?function(t,n){return!!(16&t.compareDocumentPosition(n))}:n.document.documentElement.contains?function(t,n){return t!==n&&!!t.contains&&t.contains(n)}:function(t,n){for(;n=n.parentNode;)if(n===t)return!0;return!1})}}).call(this,e(100))}}]);
//# sourceMappingURL=annotatedListingsModule.chunk.js.map?dbd63e190f4715ba8add