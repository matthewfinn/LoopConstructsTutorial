(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{118:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(2);const r=new class{buildAndSaveBookIndex(e){this.getSearchFallbackProviderSource().then(({SearchFallbackProvider:t})=>t.buildAndSaveBookIndex(e))}getSearchFallbackProviderSource(){return this.searchFallbackSourcePromise||(this.searchFallbackSourcePromise=n.a.importWebpackModuleWithRetry(this.constructSearchFallbackSourcePromise)),this.searchFallbackSourcePromise}constructSearchFallbackSourcePromise(){return Promise.all([o.e(17),o.e(103),o.e(73)]).then(o.bind(null,159))}}},120:function(e,t,o){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function s(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function a(e,t,o,n,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var a=new s(o,n||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),l.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)n.call(e,t)&&o.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},l.prototype.listeners=function(e){var t=r?r+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var n=0,i=o.length,s=new Array(i);n<i;n++)s[n]=o[n].fn;return s},l.prototype.listenerCount=function(e){var t=r?r+e:e,o=this._events[t];return o?o.fn?1:o.length:0},l.prototype.emit=function(e,t,o,n,i,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,o),!0;case 4:return u.fn.call(u.context,t,o,n),!0;case 5:return u.fn.call(u.context,t,o,n,i),!0;case 6:return u.fn.call(u.context,t,o,n,i,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,o);break;case 4:u[l].fn.call(u[l].context,t,o,n);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},l.prototype.on=function(e,t,o){return a(this,e,t,o,!1)},l.prototype.once=function(e,t,o){return a(this,e,t,o,!0)},l.prototype.removeListener=function(e,t,o,n){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||o&&s.context!==o||c(this,i);else{for(var a=0,l=[],u=s.length;a<u;a++)(s[a].fn!==t||n&&!s[a].once||o&&s[a].context!==o)&&l.push(s[a]);l.length?this._events[i]=1===l.length?l[0]:l:c(this,i)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l},130:function(e,t,o){"use strict";(function(e){var o=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var o=-1;return e.some((function(e,n){return e[0]===t&&(o=n,!0)})),o}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var o=e(this.__entries__,t),n=this.__entries__[o];return n&&n[1]},t.prototype.set=function(t,o){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=o:this.__entries__.push([t,o])},t.prototype.delete=function(t){var o=this.__entries__,n=e(o,t);~n&&o.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var o=0,n=this.__entries__;o<n.length;o++){var r=n[o];e.call(t,r[1],r[0])}},t}())}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=2;var a=20,c=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var o=!1,n=!1,r=0;function a(){o&&(o=!1,e()),n&&l()}function c(){i(a)}function l(){var e=Date.now();if(o){if(e-r<s)return;n=!0}else o=!0,n=!1,setTimeout(c,t);r=e}return l}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,o=t.indexOf(e);~o&&t.splice(o,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,o=void 0===t?"":t;c.some((function(e){return!!~o.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var o=0,n=Object.keys(t);o<n.length;o++){var r=n[o];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},p=w(0,0,0,0);function g(e){return parseFloat(e)||0}function m(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return t.reduce((function(t,o){return t+g(e["border-"+o+"-width"])}),0)}function f(e){var t=e.clientWidth,o=e.clientHeight;if(!t&&!o)return p;var n=h(e).getComputedStyle(e),r=function(e){for(var t={},o=0,n=["top","right","bottom","left"];o<n.length;o++){var r=n[o],i=e["padding-"+r];t[r]=g(i)}return t}(n),i=r.left+r.right,s=r.top+r.bottom,a=g(n.width),c=g(n.height);if("border-box"===n.boxSizing&&(Math.round(a+i)!==t&&(a-=m(n,"left","right")+i),Math.round(c+s)!==o&&(c-=m(n,"top","bottom")+s)),!function(e){return e===h(e).document.documentElement}(e)){var l=Math.round(a+i)-t,u=Math.round(c+s)-o;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return w(r.left,r.top,a,c)}var b="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?b(e)?function(e){var t=e.getBBox();return w(0,0,t.width,t.height)}(e):f(e):p}function w(e,t,o,n){return{x:e,y:t,width:o,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var o,n,r,i,s,a,c,l=(n=(o=t).x,r=o.y,i=o.width,s=o.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),d(c,{x:n,y:r,width:i,height:s,top:r,right:n+i,bottom:s+r,left:n}),c);d(this,{target:e,contentRect:l})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new o,P=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=u.getInstance(),n=new x(t,o,this);S.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){P.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));var C=void 0!==r.ResizeObserver?r.ResizeObserver:P;t.a=C}).call(this,o(100))},133:function(e,t,o){"use strict";var n=o(8),r=o(11);t.a=new class{highlight(e,t,o,i="",s="",a={}){if(!e)return;const c=$(e);c.is(".fragment-played")&&(i="");const l=r.a.getAllDescendantTextNodes(e),u=r.a.createTextNodeTextRanges(l);let d=n.a.getStartIndex(u.value,t,s),h=d+t.length;if(-1===d&&(h=(d=u.value.indexOf(t.replace("<","&lt;").replace(">","&gt;")))+t.length,-1==d))return;const p=r.a.splitRanges(u,d,h);if(this.markVisibleParentNodeElements(e,p.followingRanges,i),this.liftWordsInMatchingRanges(p.matchingRanges,d,h,o,i,a),this.liftWordsInFollowingRanges(p.followingRanges,i),""!=i.trim()){const e="."+i.trim().replace(/\s+/,".");c.find(e).each((function(e,t){const o=$(t.nextSibling);o.is("img")&&o.addClass(i)}))}}liftWordsInMatchingRanges(e,t,o,n,i,s){for(let a=0,c=e.length;a<c;a++){const l=e[a],u=l.textNode.nodeValue;if(0==a){const e=t-l.start,a=o-l.start,c=u.substring(0,e),d=u.substring(e,a),h=u.substring(a,l.end);$(l.textNode).replaceWith(c+r.a.wrapToHtmlElement("span",Object.assign({class:n},s),d)+(""!=h&&""!=i?r.a.wrapToHtmlElement("span",{class:i},h):h))}else if(a==c-1){const e=o-l.start,t=u.substring(0,e),a=u.substring(e,u.length);$(l.textNode).replaceWith(r.a.wrapToHtmlElement("span",Object.assign({class:n},s),t)+(""!=a&&""!=i?r.a.wrapToHtmlElement("span",{class:i},a):a))}else $(l.textNode).replaceWith(r.a.wrapToHtmlElement("span",Object.assign({class:n},s),u))}}liftWordsInFollowingRanges(e,t){if(t)for(let o=0;o<e.length;o++){const n=e[o];n.textNode.nodeValue&&n.textNode.nodeValue.trim()&&$(n.textNode).replaceWith(r.a.wrapToHtmlElement("span",{class:t},n.textNode.nodeValue))}}markVisibleParentNodeElements(e,t,o){if(e&&t&&0!=t.length&&o)for(let e=0;e<t.length;e++){const n=t[e].textNode;"KBD"==n.parentNode.nodeName&&$(n.parentNode).addClass(o)}}}},142:function(e,t,o){"use strict";t.a=new class{inViewport(e,t){if("IntersectionObserver"in window){const o=new IntersectionObserver(n=>{if(n&&n[0]&&n[0].intersectionRatio>0)return o.unobserve(e),o.disconnect(),void(t&&t())},{});return o.observe(e),!0}return!1}getFirstPreviousSibling(e,t){if(null==e)return null;let o=e;for(;null!=(o=o.previousElementSibling);)if(o.matches(t))return o;return null}isDocumentVisible(){return"visible"==document.visibilityState}isElementVisible(e,t){if(!e)return!1;const{bottom:o,height:n,top:r}=e.getBoundingClientRect(),i=t.getBoundingClientRect();return r<=i.top?i.top-r<=n:o-i.bottom<=n}triggerEvent(e,t){if("createEvent"in document){var o=document.createEvent("HTMLEvents");o.initEvent(t,!1,!0),e.dispatchEvent(o)}else e.fireEvent("on"+t)}triggerTextAreaChange(e){e.dispatchEvent(new Event("input",{bubbles:!0}))}closest(e,t){let o,n;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(o=e,!0)}));e;){if((n=e.parentElement)&&n[o](t))return n;e=n}return null}removeClassFromElements(e,t){for(let o=0;o<e.length;o++)this.removeClassFromElement(e[o],t)}removeClassFromElement(e,t){e&&e.classList.remove(t)}addClassToElements(e,t){for(let o=0;o<e.length;o++)this.addClassToElement(e[o],t)}addClassToElement(e,t){e&&e.classList.add(t)}ensureInView(e,t){if(null==e)return;t||(t=this.getScrollParent(e));let o=t.scrollTop,n=o+t.clientHeight,r=e.offsetTop,i=r+e.clientHeight;r<o?t.scrollTop-=o-r:i>n&&(t.scrollTop+=i-n+10)}getScrollParent(e,t){if(null==e)return null;let o=window.getComputedStyle(e),n="absolute"===o.position;const r=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===o.position)return document.body;for(var i=e;i=i.parentElement;)if(o=window.getComputedStyle(i),(!n||"static"!==o.position)&&r.test(o.overflow+o.overflowY+o.overflowX))return i;return document.body}getDistanceFromTopOfThePage(e){let t=0,o=0;for(;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,o+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:o}}getDistanceFromLeftEdgeOfThePage(e){if(!e)return 0;const t=e.getBoundingClientRect();return null!=t?t.left:0}getElementPosition(e){return{top:e.offsetTop,left:e.offsetLeft}}getElementOuterHeight(e){let t=e.offsetHeight;const o=getComputedStyle(e);return t+=parseInt(o.marginTop)+parseInt(o.marginBottom)}getOffsetTopFromAncestor(e,t){let o=0;for(;null!=e&&e!==t;)o+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return o}getBottomPadding(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.paddingBottom);return Number.isNaN(o)?0:o}getTopPadding(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.paddingTop);return Number.isNaN(o)?0:o}getRightPadding(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.paddingRight);return Number.isNaN(o)?0:o}getComputedMarginTop(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.marginTop);return Number.isNaN(o)?0:o}getStyledMarginTop(e){if(null==e)return 0;const t=parseFloat(e.style.marginTop);return Number.isNaN(t)?0:t}getVerticalCenterOffset(e){return null==e?0:e.offsetTop+e.offsetHeight/2}getFirstLineCenterVerticalOffset(e){return null==e?0:e.offsetTop+this.getLineHeight(e)/2}getComputedLineHeight(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.lineHeight);return Number.isNaN(o)?0:o}getLineHeight(e){if(null==e)return 0;let t=0;const o=e.cloneNode();o.innerHTML="<br>",e.appendChild(o);const n=o.offsetHeight;o.innerHTML="<br><br>";const r=o.offsetHeight;return e.removeChild(o),t=r-n,Math.max(t,0)}getWidth(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.width);return Number.isNaN(o)?0:o}getHeight(e){if(null==e)return 0;const t=window.getComputedStyle(e);if(null==t)return 0;const o=parseFloat(t.height);return Number.isNaN(o)?0:o}getFontString(e){const t=window.getComputedStyle(e);return null==t?"":t.font?t.font:`${t.fontSize} ${t.fontFamily}`}getTextWidth(e,t){const o=(this.canvas||(this.canvas=document.createElement("canvas"))).getContext("2d");return o.font=t,Math.floor(o.measureText(e).width)}removeDescendents(e,t){if(!e||!e.children.length)return;const o=e.querySelectorAll(t);for(let e=0;e<o.length;e++){const t=o[e];t.parentElement.removeChild(t)}}scrollElementTop(e,t,o=700,n=(()=>{})){this.scrollElementProperty(e,t,o,"scrollTop",n)}scrollElementLeft(e,t,o=700,n=(()=>{})){this.scrollElementProperty(e,t,o,"scrollLeft",n)}scrollElementProperty(e,t,o=700,n,r=(()=>{})){if(!e)return;if(t=Math.round(t),(o=Math.round(o))<0)return;if(0===o)return void(e[n]=t);const i=Date.now(),s=i+o,a=e[n],c=t-a;let l=e[n];const u=()=>{if(e[n]!=l)return void(r&&r());const t=Date.now(),o=((e,t,o)=>{if(o<=e)return 0;if(o>=t)return 1;const n=(o-e)/(t-e);return n*n*(3-2*n)})(i,s,t),d=Math.round(a+c*o);e[n]=d,t>=s?r&&r():e[n]!==l||e[n]===d?(l=e[n],this.requestAnimationFrame(u)):r&&r()};this.requestAnimationFrame(u)}requestAnimationFrame(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,16)}isScrolledToBottom(e){return!!e&&e.offsetHeight+e.scrollTop>=e.scrollHeight}getTopOffsetForBottomPosition(e){return e?e.scrollHeight-e.offsetHeight:0}getAllDescendantTextNodes(e){const t=[];return this.walkTheDOM(e,e=>{3===e.nodeType&&t.push(e)}),t}walkTheDOM(e,t){for(t(e),e=e.firstChild;e;)this.walkTheDOM(e,t),e=e.nextSibling}createTextNodeTextRanges(e){const t={value:"",textNodeRanges:[]};for(let o=0;o<e.length;o++){const n=e[o],r=n.nodeValue,i=t.value;t.value+=r,t.textNodeRanges.push({start:i.length,end:t.value.length,textNode:n})}return t}splitRanges(e,t,o){const n=e.textNodeRanges,r=[],i=[],s=[];for(let e=0;e<n.length;e++){const a=n[e];a.end<=t?r.push(a):a.start>=o?s.push(a):i.push(a)}return{previousRanges:r,matchingRanges:i,followingRanges:s}}wrapToHtmlElement(e,t,o){return`<${e} ${this.getAttributesString(t)}>${this.escapeHtmlString(o)}</${e}>`}getAttributesString(e){if(!e)return"";let t="";for(const o in e)t+=` ${o}="${e[o]}"`;return t}escapeHtmlString(e=""){return e.replace("<","&lt;").replace(">","&gt;")}}},149:function(e,t,o){"use strict";var n=o(294).Collapse,r=o(478).UnmountClosed;e.exports=r,r.Collapse=n,r.UnmountClosed=r},162:function(e,t,o){"use strict";var n=o(163);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,i,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return o.PropTypes=o,o}},163:function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},215:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));const n=new class{constructor(){this.cacheMap={}}getProductToc(e,t,o,n,r){return o?this.getLivebookToc(e,t):n?this.getLivevideoToc(e,t):r?this.getPbcToc(e,t):Promise.resolve({})}getLivebookToc(e,t){return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((o,n)=>{e.ajax(e.getAbsoluteLivebookAwsUrl(`${t}/tocAndIndex.json`),e=>o(e.toc),e=>{delete this.cacheMap[t],n(e)})})}getLivevideoToc(e,t){return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((o,n)=>{e.ajax(e.getAbsoluteBackendLivevideoUrl("course/getToc"),e=>o(e),e=>{delete this.cacheMap[t],n(e)},{id:t},!0)})}getPbcToc(e,t){return this.cacheMap[t]?this.cacheMap[t]:this.cacheMap[t]=new Promise((o,n)=>{e.ajax(e.getAbsoluteBackendLivevideoUrl("course/getToc"),e=>o(e),e=>{delete this.cacheMap[t],n(e)},{id:t},!0)})}}},292:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(107);class r{static isIndexResult(e){return!!e&&!!e.indexTerm}static isTocRangeResult(e){if(!e)return!1;const t=e.text.replace("<strong class='search-result'>","").replace("</strong>","");return t==e.elementTitle||(e.elementTitle||"").indexOf(t)>=0||t==e.subElementTitle||(e.subElementTitle||"").indexOf(t)>=0||t==e.subSubElementTitle||(e.subSubElementTitle||"").indexOf(t)>=0}static getElementLink(e){return null!=e&&e.elementTitle?n.a.getElementLink(e.link):""}static getSubElementLink(e){return null!=e&&e.subElementTitle?n.a.getSectionLink(e.link,e.subElementTitle):""}static getSubSubElementLink(e){return null!=e&&e.subSubElementTitle?n.a.getSectionLink(e.link,e.subSubElementTitle):""}static createSpecialResult(e,t,o){return{id:e,score:.8,productId:e,productManningId:e,productType:"",productTitle:e,elementTitle:"",subElementTitle:"",subSubElementTitle:"",elementLink:"",subElementLink:"",subSubElementLink:"",link:t,priority:"",text:o,tags:""}}}},294:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=void 0;var n,r=(n=o(87))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(t){function o(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}(this,a(o).call(this,t)),u(c(n),"timeout",void 0),u(c(n),"container",void 0),u(c(n),"content",void 0),u(c(n),"onResize",(function(){if(e.clearTimeout(n.timeout),n.container&&n.content){var t=n.props,o=t.isOpened,r=t.checkTimeout,i=n.container.clientHeight,s=n.content.clientHeight,a=o&&s===i,c=!o&&0===i;a||c?n.onRest({isFullyOpened:a,isFullyClosed:c,isOpened:o,containerHeight:i,contentHeight:s}):(n.onWork({isFullyOpened:a,isFullyClosed:c,isOpened:o,containerHeight:i,contentHeight:s}),n.timeout=setTimeout((function(){return n.onResize()}),r))}})),u(c(n),"onRest",(function(e){var t=e.isFullyOpened,o=e.isFullyClosed,r=e.isOpened,i=e.containerHeight,s=e.contentHeight;if(n.container&&n.content){var a=r&&n.container.style.height==="".concat(s,"px"),c=!r&&"0px"===n.container.style.height;if(a||c){n.container.style.overflow=r?"initial":"hidden",n.container.style.height=r?"auto":"0px";var l=n.props.onRest;l&&l({isFullyOpened:t,isFullyClosed:o,isOpened:r,containerHeight:i,contentHeight:s})}}})),u(c(n),"onWork",(function(e){var t=e.isFullyOpened,o=e.isFullyClosed,r=e.isOpened,i=e.containerHeight,s=e.contentHeight;if(n.container&&n.content){var a=r&&n.container.style.height==="".concat(s,"px"),c=!r&&"0px"===n.container.style.height;if(!a&&!c){n.container.style.overflow="hidden",n.container.style.height=r?"".concat(s,"px"):"0px";var l=n.props.onWork;l&&l({isFullyOpened:t,isFullyClosed:o,isOpened:r,containerHeight:i,contentHeight:s})}}})),u(c(n),"onRefContainer",(function(e){n.container=e})),u(c(n),"onRefContent",(function(e){n.content=e})),t.initialStyle?n.initialStyle=t.initialStyle:n.initialStyle=t.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},n}var n,d,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,t),n=o,(d=[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,o=t.theme,n=t.isOpened;return t.children!==e.children||n!==e.isOpened||Object.keys(o).some((function(t){return o[t]!==e.theme[t]}))}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if("auto"===this.container.style.height){var e=this.content.clientHeight;this.container.style.height="".concat(e,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){e.clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.theme,o=e.children;return r.default.createElement("div",{ref:this.onRefContainer,className:t.collapse,style:this.initialStyle},r.default.createElement("div",{ref:this.onRefContent,className:t.content},o))}}])&&s(n.prototype,d),h&&s(n,h),o}(r.default.Component);t.Collapse=d,u(d,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50})}).call(this,o(100))},478:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnmountClosed=void 0;var n,r=(n=o(87))&&n.__esModule?n:{default:n},i=o(294);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(o,!0).forEach((function(t){m(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var f=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}(this,h(t).call(this,e)),m(p(o),"onWork",(function(e){var t=e.isOpened,n=u(e,["isOpened"]);o.setState({isResting:!1,isOpened:t});var r=o.props.onWork;r&&r(l({isOpened:t},n))})),m(p(o),"onRest",(function(e){var t=e.isOpened,n=u(e,["isOpened"]);o.setState({isResting:!0,isOpened:t,isInitialRender:!1});var r=o.props.onRest;r&&r(l({isOpened:t},n))})),m(p(o),"getInitialStyle",(function(){var e=o.state,t=e.isOpened;return e.isInitialRender&&t?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}})),o.state={isResting:!0,isOpened:e.isOpened,isInitialRender:!0},o}var o,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),o=t,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.isOpened;e.isOpened!==t&&this.setState({isResting:!1,isOpened:t,isInitialRender:!1})}},{key:"render",value:function(){var e=this.state,t=e.isResting,o=e.isOpened;return t&&!o?null:r.default.createElement(i.Collapse,a({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}])&&d(o.prototype,n),c&&d(o,c),t}(r.default.PureComponent);t.UnmountClosed=f,m(f,"defaultProps",{onWork:void 0,onRest:void 0})},479:function(e,t,o){var n,r,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[t],void 0===(i="function"==typeof(n=function(e){"use strict";function t(e,t){if(e)return function(o){return t.isCanceled?o:e(o)}}function o(e,o,n){return a(this.then(t(o,e),t(n,e)),e)}function n(e,o){return a(this.catch(t(o,e)),e)}function r(e,t){return a(this.finally(t),e)}function i(e){e.isCanceled=!0}function s(e){return e.isCanceled}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isCanceled:!1};return{then:o.bind(e,t),catch:n.bind(e,t),finally:r.bind(e,t),cancel:i.bind(e,t),isCanceled:s.bind(e,t)}}function c(e){return a(new Promise(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.cancelable=a,e.CancelablePromise=c,e.default=void 0,c.all=function(e){return a(Promise.all(e))},c.allSettled=function(e){return a(Promise.allSettled(e))},c.race=function(e){return a(Promise.race(e))},c.resolve=function(e){return a(Promise.resolve(e))},c.reject=function(e){return a(Promise.reject(e))};var l=c;e.default=l})?n.apply(t,r):n)||(e.exports=i)},480:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(87);o(481);class r extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:"livebook-loader-root"},this.props.title&&n.createElement("div",{className:"readable-text"},n.createElement("h1",null,this.props.title)),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder"},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"30px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"10px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"70px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"loading-page-image-placeholder"}),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"30px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"10px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"80px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"loading-page-image-placeholder"}),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"15px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))),n.createElement("div",{className:"readable-text"},n.createElement("span",{className:"placeholder",style:{marginRight:"20px"}},n.createElement("span",{className:"placeholder-animated-background"}," "))))}}},481:function(e,t,o){var n=o(88),r=o(482);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},482:function(e,t,o){(t=o(89)(!1)).push([e.i,'@keyframes placeHolderShimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}.livebook-loader-root{min-width:270px}.livebook-loader-root .placeholder{background-color:#eee;display:flex;margin:5px 0;line-height:16px}.livebook-loader-root h1,.livebook-loader-root h2,.livebook-loader-root h3,.livebook-loader-root h4,.livebook-loader-root h5{font-weight:bold;color:inherit;text-transform:none}.livebook-loader-root h1{line-height:30px}.livebook-loader-root h1{font-size:2em;border-bottom:none}.livebook-loader-root h2{font-size:1.5em}.livebook-loader-root h3{font-size:1.3em}.livebook-loader-root h4{font-size:1.1em}.livebook-loader-root h5{font-size:1em}.livebook-loader-root .loading-page-image-placeholder{padding:0;background:url("https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/cover.png");height:180px;margin:1em 8%;background-repeat:no-repeat;background-position-x:center;background-color:#d5d6db;background-position-y:-80px}.livebook-loader-root .placeholder-animated-background{width:100%;animation-duration:1.25s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:placeHolderShimmer;animation-timing-function:linear;background:darkgray;background:linear-gradient(to right, #eee 10%, #ddd 18%, #eee 33%);background-size:1100px 104px;position:relative}\n',""]),e.exports=t},805:function(e,t,o){var n=o(88),r=o(806);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},806:function(e,t,o){(t=o(89)(!1)).push([e.i,"@media screen and (max-width: 950px){body.night-mode .search-content-tab-root .search-content-products-list-root{background:#2e3436}}.search-content-tab-root{padding-top:35px;padding-left:15px;padding-right:15px;display:flex;max-width:1640px;margin:0 auto}.search-content-tab-root .search-content-tab-body{display:flex;flex:1}.search-content-tab-root .loading-results-container{margin-top:20px}.search-content-tab-root .search-content-products-list-root{width:300px;flex:0 0 300px;max-height:calc(100vh - 155px);z-index:1;margin-top:5px}.search-content-tab-root .search-content-products-list-message,.search-content-tab-root .search-content-products-list-message-rest{font-weight:300;font-style:italic;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px}.search-content-tab-root .search-content-products-list-message-rest{margin-top:50px}.search-content-tab-root .livebook-viewer-root{margin-left:50px;padding-right:15px;padding-bottom:55px;overflow-wrap:break-word;box-sizing:border-box}.search-content-tab-root .livebook-viewer-root .livebook-loader-root{line-height:30px}@supports (-webkit-touch-callout: none){.search-content-tab-root .livebook-viewer-root{padding-bottom:115px}}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper{position:relative;width:100%}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link{display:none;position:absolute;top:-64px;right:50px;background:none;border:1px solid #468BD5;color:#468BD5;border-radius:4px;padding:0px 24px;line-height:32px;text-decoration:none;z-index:95;user-select:none}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:hover{text-decoration:underline;text-underline-offset:2px}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:active{transform:translateY(1px)}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link strong{font-size:110%}@media screen and (max-width: 950px){.search-content-tab-root .search-content-tab-livebook-viewer-wrapper{position:static}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link{display:block;top:unset;bottom:20px;right:20px;padding:0px 12px;line-height:30px;font-size:80%;color:white;background:linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%),#468BD5;box-shadow:0px 2.54762px 15.2857px rgba(64,135,212,0.5)}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:hover{background:linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%),#2b71bd}.search-content-tab-root .search-content-tab-livebook-viewer-wrapper .livebook-viewer-go-to-livebook-link:active{background:linear-gradient(180deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 100%),#2665a8}}.search-content-tab-root .livebook-viewer-root .search-results-list{margin-left:0;padding-left:0}@media screen and (max-width: 950px){.search-content-tab-root{display:block;padding-top:0}.search-content-tab-root .livebook-viewer-root,.search-content-tab-root .search-results-list{margin-left:0;width:unset;max-width:unset;max-height:unset !important;overflow:unset !important;overscroll-behavior-y:unset;padding:0 15px;box-sizing:border-box}.search-content-tab-root .livebook-viewer-root .search-results-list{padding:0}.search-content-tab-root .search-content-products-list-root{display:flex;flex-direction:row;max-height:unset;width:calc(100% + 30px);overflow-x:auto;height:unset;max-height:unset;margin:0 -15px 10px -15px;padding:1em;box-sizing:border-box;background:white}.search-content-tab-root .search-content-products-list-root .search-content-products-list-message,.search-content-tab-root .search-content-products-list-root .search-content-products-list-message-rest{display:none}.search-content-tab-root .search-content-tab-body{display:block;height:calc(100vh - 290px);overflow-y:auto;overflow-x:hidden;margin:0 -15px}}body.night-mode .search-result-item,body.night-mode .search-results-list-heading{color:#b9b9ad}body.night-mode .search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link,body.night-mode .search-content-products-list-message,body.night-mode .search-content-products-list-message-rest{color:#b9b9ad}\n",""]),e.exports=t},807:function(e,t,o){var n=o(88),r=o(808);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},808:function(e,t,o){(t=o(89)(!1)).push([e.i,"body.night-mode .search-content-product-root .search-content-product-info-container{color:#b9b9ad}body.night-mode .search-content-product-root:hover .search-content-product-info-container{background-color:#565a5b}body.night-mode .search-content-product-root.selected .search-content-product-info-container{background-color:#515556}.search-content-product-root{display:flex;margin-bottom:25px;padding-right:5px;cursor:pointer;scroll-snap-align:start}.search-content-product-root:last-child{margin-bottom:0}.search-content-product-root .search-content-product-cover-container{width:74px;height:92px;flex:0 0 74px}.search-content-product-root .search-content-product-cover-container img{border:0.2px solid #000000;width:100%;box-sizing:border-box;object-fit:cover}.search-content-product-root .search-content-product-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:700;font-size:15px;line-height:18px}.search-content-product-root .search-content-product-info-container{position:relative;padding:2px 8px;height:92px;border-radius:0px 6px 6px 0px;width:calc(100% - 74px);box-sizing:border-box}.search-content-product-root:hover .search-content-product-info-container{background-color:#f7f7f7}.search-content-product-root.selected .search-content-product-info-container{background-color:#F2F2F2}.search-content-product-root .search-content-product-description{line-height:18px;font-size:15px;font-weight:300;height:54px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-weight:300;hyphens:auto}.search-content-product-root .search-content-product-description p,.search-content-product-root .search-content-product-description h1,.search-content-product-root .search-content-product-description h2,.search-content-product-root .search-content-product-description h3,.search-content-product-root .search-content-product-description h4,.search-content-product-root .search-content-product-description h5{margin:0}.search-content-product-root .product-ownership-label{font-size:12px;line-height:14px;color:#FFFFFF;background:#478CD5;border-radius:3px;user-select:none;padding:1px 7px;margin-right:0.5em;font-weight:400;position:absolute;bottom:0;transform:translateY(10px);white-space:nowrap}@media screen and (max-width: 950px){.search-content-product-root{width:74px;height:unset;margin:8px;transform:scale(1);transition:transform 0.2s ease-in-out}.search-content-product-root:first-child{margin-left:0}.search-content-product-root:last-child{margin-right:0}.search-content-product-root.selected{transform:scale(1.2)}.search-content-product-root.selected-neighbour{transform:scale(1.1)}.search-content-product-root .search-content-product-info-container{display:none}}\n",""]),e.exports=t},809:function(e,t,o){var n=o(88),r=o(810);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},81:function(e,t,o){"use strict";o.r(t),o.d(t,"SearchMenu",(function(){return Fi}));var n=o(87),r=o.n(n),i=o(97),s=o.n(i),a=o(4),c=o(11),l=o(91),u=o.n(l),d=o(143),h=(o(805),o(292)),p=o(107);class g{constructor(e,t,o){this.productId=e,this.productManningId=t,this.productTitle=o,this.results=[],this.score=0}}var m,f=o(93);class b{static convertRawProducts(e){if(!e||0===e.length)return[];const t={},o=e.map(e=>{const o=e.publishedDate||e.expectedPublishDate||e.lastSignificantDate,n=o?new Date(o):null;let r="";e.livebook?r="livebook":e.isConference?r="conference":e.isAuthorTalk?r="author talk":e.isLiveVideo?r="livevideo":e.isLiveProject?r="liveproject":-1!=(e.authors||e.authorshipDisplay||"").indexOf("chapters selected")&&(r="free");const i=null!=e.tags&&e.tags.length?e.tags.map(e=>e.name?e.name:e):[];let s=e.externalId;e.isBundle&&!s&&(s="bundle-"+e.id);const a={id:e.id,externalId:s,title:e.title,subtitle:e.subtitle,cleanTitle:p.a.cleanBookTitle(e.title),cruftlessTitle:p.a.removeCruftFromTitle(p.a.cleanBookTitle(e.title)),slug:e.slug,isbn:e.isbn,free:e.free,authors:e.authors||e.authorshipDisplay,link:"",coverPath:e.coverPath||e.imageUrl,description:(e.subtitle||"")+" "+(e.aboutProductDescription||e.description||""),dateDescription:f.a.getDateAsString(n),date:n,tags:i,tagsText:i.join(", "),seoKeywords:e.seoKeywords||"",isLivebook:!!e.livebook,isLivevideo:!!e.isLiveVideo,isLiveproject:!!e.isLiveproject||!!e.isLiveProject,productTypeDescription:r,isLiveaudio:!!e.hasAudio||!!e.isLiveaudio,isBundle:!!e.isBundle,isConference:!!e.isConference||!!e.conference,isAuthorTalk:!!e.isAuthorTalk||!!e.authorTalk,price:this.getRawProductPrice(e),priceWithoutDiscount:this.getRawProductPriceWithoutDiscount(e)};return t[a.cleanTitle]||(t[a.cleanTitle]=[]),t[a.cleanTitle].push(a),a});for(const e in t)if(t[e].length>1){const o=t[e];let n=o[0];n.isEarlierEdition=!1;for(let e=1;e<o.length;e++){const t=o[e];t.date>n.date?(n.isEarlierEdition=!0,n=t):t.isEarlierEdition=!0}}return o}static getRawProductPrice(e){return e.isBundle?e.price:e.isLiveVideo?this.getVideoPrice(e):e.isLiveProject?this.getLiveProjectPrice(e):this.getEbookPrice(e)}static getRawProductPriceWithoutDiscount(e){return this.getRawProductPrice(e)}static getEbookPrice(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;const t=e.productOfferings.find(e=>"EBOOK"==e.productType);return null!=t?t.price:0}static getLiveProjectPrice(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;const t=e.productOfferings.find(e=>"SOLO"==e.productType);return null!=t?t.price:0}static getVideoPrice(e){if(!e||!e.productOfferings||!e.productOfferings)return 0;const t=e.productOfferings.find(e=>"LIVEVIDEO"==e.productType);return null!=t?t.price:0}static createSpecialMeapProduct(){return this.createSpecialProduct("MEAP","Manning Publications","A book can take a year or more to write, so how do you learn that hot new technology today? The answer is MEAP, the Manning Early Access Program. In MEAP, you read a book chapter-by-chapter while it's being written and get the final eBook as soon as it's finished. If you pre-order the pBook, you'll get it long before it's available in stores.",this.getManningBaseUrl()+"/meap-catalog",this.getManningBaseUrl()+"/meap-catalog")}static createSpecialLiveprojectProduct(){return this.createSpecialProduct("liveProject","Manning Publications","In liveProject you complete a realistic project organized in achievable steps using carefully-selected book and video resources. You have the option to collaborate with other participants and a mentor. You learn by doing.","https://liveproject.manning.com","https://liveproject.manning.com")}static createSpecialLivevideoProduct(){return this.createSpecialProduct("liveVideo","Manning Publications","Manning video courses are crafted to serve you as excellent learning tools. They link to the video from its text, they help you learn with exercises, and they support executable code for many languages.","https://livevideo.manning.com","https://www.manning.com/livevideo-program")}static createSpecialLivebookProduct(){return this.createSpecialProduct("liveBook","Manning Publications","liveBooks are enhanced books. They add narration, interactive exercises, code execution, and other features to eBooks.","https://livebook.manning.com","https://www.manning.com/livebook-program#section-what-is-livebook")}static createSpecialManningSiteProduct(){return this.createSpecialProduct("Manning Home Site","Manning Publications","Manning is an independent publisher of computer books and video courses for software developers, engineers, architects, system administrators, managers and all who are professionally involved with the computer business. We also publish for students and young programmers, including occasionally for children. We are an entirely virtual organization based on Shelter Island, New York, with many staff working from far-flung places like Manila and Zagreb.","https://www.manning.com/","https://www.manning.com/",!1)}static createSpecialForumProduct(){return this.createSpecialProduct("Forum","Manning Publications","The Manning forums are a place for readers and technologists to engage in discussions about our books and the subjects they cover.","https://forums.manning.com/forums/list.page","https://forums.manning.com/forums/list.page",!1)}static createSpecialSupportProduct(){return this.createSpecialProduct("Support","Manning Publications","Do you have a question or problem with the site? Need help? The Manning FAQs provides answers to frequently asked questions. And if all else fails, you can always contact Manning support and we'll be happy to respond.",this.getManningBaseUrl()+"/support",this.getManningBaseUrl()+"/support",!1)}static createSpecialNewsletterProduct(){return this.createSpecialProduct("Newsletter","Manning Publications","Subscribe to our newsletter",this.getManningBaseUrl()+"/mail-preferences",this.getManningBaseUrl()+"/mail-preferences",!1)}static createSpecialContactProduct(){return this.createSpecialProduct("Contact","Manning Publications","Contact us: Manning Publications Co. 20 Baldwin Road; PO Box 761; Shelter Island, NY  11964",this.getManningBaseUrl()+"/contact",this.getManningBaseUrl()+"/contact",!1)}static createSpecialFreeContentProduct(){return this.createSpecialProduct("Free content center","Manning Publications","Manning Free Content Center","http://freecontent.manning.com/","http://freecontent.manning.com/",!1)}static createSpecialCatalogProduct(){return this.createSpecialProduct("Catalog","Manning Publications","The catalog shows all our books and videos in one place",this.getManningBaseUrl()+"/catalog",this.getManningBaseUrl()+"/catalog",!1)}static createSpecialDealOfTheDayProduct(){return this.createSpecialProduct("Deal of the Day","Manning Publications","Deal of the Day",this.getManningBaseUrl()+"/dotd",this.getManningBaseUrl()+"/dotd",!1)}static createSpecialTokenProduct(){return this.createSpecialProduct("tokens","Use tokens to unlock pieces of book content.","Use tokens to unlock pieces of book content.",this.getManningBaseUrl()+"/token",this.getManningBaseUrl()+"/token")}static createSpecialProduct(e,t,o,n,r,i=!0){const s=new b;return s.title=e,s.authors=t,s.coverPath=i?`https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/${e}.jpg`:"",s.description=o,s.externalId=e,s.link=n,s.marketplaceLink=r,s.slug="",s.tags=[],s.date=new Date,s.dateDescription=f.a.getDateAsString(new Date),s.isSpecialProduct=!0,s}static getManningBaseUrl(){try{const e=document.location.href;if(e.indexOf("www-qa.")>=0||e.indexOf("livebook-qa.")>=0||e.indexOf("livevideo-qa.")>=0)return"https://www-qa.manning.com"}catch(e){}return"https://www.manning.com"}}class v{constructor(e,t,o,n,r=""){this.id=e,this.title=t,this.link=o,this.children=n,this.shortName=r}}!function(e){e[e.library=0]="library",e[e.product=1]="product"}(m||(m={}));var w=o(17);class y{constructor(e,t){this.title=e,this.link=t}}class k extends y{constructor(e,t,o,n,r,i,s,a,c,l,u,d,h,p,g,m,f,b){super(o,""),this.externalId=e,this.slug=t,this.authors=n,this.dateDescription=r,this.date=b,this.coverPath=i,this.isLivebook=s,this.isLivevideo=a,this.isLiveproject=c,this.link=l,this.marketplaceLink=u||l,this.isLiveaudio=d,this.isBundle=h,this.id=p,this.price=g,this.priceWithoutDiscount=m,this.tags=f,this.isBundle&&!this.externalId&&(this.externalId=`b-${this.id}`)}getPrice(){return null!=this.productInfo&&this.productInfo.additionalProductInfo&&this.productInfo.additionalProductInfo.price?this.productInfo.additionalProductInfo.price:this.price}getPriceWithoutDiscount(){return null!=this.productInfo&&this.productInfo.additionalProductInfo&&this.productInfo.additionalProductInfo.priceWithoutDiscount?this.productInfo.additionalProductInfo.priceWithoutDiscount:this.priceWithoutDiscount}static fromProductInfo(e){const t=new k(e.externalId,e.slug,e.title,e.authors,e.dateDescription,p.a.adjustCoverPath(e.coverPath,172,216),e.isLivebook,e.isLivevideo,e.isLiveproject,e.link,e.marketplaceLink,e.isLiveaudio,e.isBundle,e.id,e.price,e.priceWithoutDiscount,e.tags,e.date);return t.isSpecial=e.isSpecialProduct,t.subtitle=e.subtitle,t.productInfo=e,t.isEarlierEdition=e.isEarlierEdition,t}static fromPlainObjects(e){return e.map(e=>{const t=new k(e.externalId,e.slug,e.title,e.authors,e.date,e.coverPath,e.isLivebook,e.isLivevideo,e.isLiveproject,e.link,e.marketplaceLink,e.isLiveaudio,e.isBundle,e.id,e.price,e.priceWithoutDiscount,e.tags,e.date);return t.subtitle=e.subtitle||"",t})}static findAll(e,t){const o=t.map(e=>e.externalId);return e.filter(e=>o.indexOf(e.externalId)>=0)}}class x extends y{constructor(e,t,o){super(e,""),this.titleHtml=this.title,this.childConcepts=o||[],this.links=t||[],null!=this.links&&this.links.length>0&&(this.link=this.links[0].link),!this.link&&this.childConcepts.length>0&&(this.link=this.getMostGeneralChildConceptLink());for(const e of this.childConcepts)e.parentConcept=this}getLevel(){let e=this.parentConcept,t=0;for(;null!=e;)t++,e=e.parentConcept;return t}isLastChildAndWithoutChildren(){return null!=this.parentConcept&&null!=this.parentConcept.childConcepts&&(!(null!=this.childConcepts&&this.childConcepts.length>0)&&this==this.parentConcept.childConcepts[this.parentConcept.childConcepts.length-1])}directlyContainsQuery(e){return-1!=this.title.toLowerCase().indexOf(e)}startsWithQuery(e){return 0==this.title.toLowerCase().indexOf(e)}getQueryExcess(e){const t=(e||"").toLowerCase(),o=this.title.toLowerCase().indexOf(t);return 0!=o?"":this.title.substring(o+e.length)}containsQuery(e){if(!e)return!1;const t=(e||"").toLowerCase();if(this.directlyContainsQuery(t))return!0;if(null!=this.childConcepts)for(let t of this.childConcepts)if(t.containsQuery(e))return!0;return!1}ancestorDirectlyContainsQuery(e){if(!e)return!1;const t=(e||"").toLowerCase();if(-1!=this.title.toLowerCase().indexOf(t))return!0;let o=this.parentConcept;for(;null!=o;){if(o.directlyContainsQuery(t))return!0;o=o.parentConcept}return!1}highlightQueryMatch(e){if(!e)return;const t=this.title.toLowerCase().indexOf(e.toLowerCase());if(t>-1){const o=this.title.substring(0,t),n=this.title.substring(t,t+e.length),r=this.title.substring(t+e.length,this.title.length);this.titleHtml=`${o}<strong>${n}</strong>${r}`}if(null!=this.childConcepts)for(let t of this.childConcepts)t.highlightQueryMatch(e)}getAllDescendants(){const e=[];if(null!=this.childConcepts)for(let t of this.childConcepts){e.push(t);for(let o of t.getAllDescendants())e.push(o)}return e}static flatten(e){const t=[];for(let o of e){t.push(o);for(let e of o.getAllDescendants())t.push(e)}return t}static fromRawData(e){return null==e||0==e.length?[]:e.map(e=>x.itemFromRawData(e))}static itemFromRawData(e){return new x(e.term,e.locations||[],x.fromRawData(e.children))}getMostGeneralChildConceptLink(){const e=this.childConcepts;if(null==e||0==e.length)return"";if(1==e.length)return e[0].link;for(let t of e){const e=(t.title||"").toLowerCase();if("overview"==e||"description"==e)return t.link}return e[0].link}static fromPlainObjects(e){return e.map(e=>x.fromPlainObject(e))}static fromPlainObject(e){return new x(e.title,e.links,x.fromPlainObjects(e.childConcepts))}static findAll(e,t){const o=t.map(e=>e.title),n=t.map(e=>e.link);return e.filter(e=>o.indexOf(e.title)>=0&&n.indexOf(e.link)>=0)}}class S{constructor(e,t,o){this.productSuggestions=e,this.conceptSuggestions=t,this.displayedProductSuggestions=o}getSuggestion(e){const t=this.productSuggestions.find(t=>t.title==e);return t||this.conceptSuggestions.find(t=>t.title==e)}getNextSuggestion(e){const t=[...this.conceptSuggestions,...this.productSuggestions];if(null==e)return t[0];const o=t.indexOf(e)+1;return o<t.length?t[o]:null}getPreviousSuggestion(e){const t=[...this.conceptSuggestions,...this.productSuggestions];if(null==e)return t[t.length-1];const o=t.indexOf(e)-1;return o>=0?t[o]:null}getFirstMatchingConceptExcess(e){if(this.isEmpty()||!e)return"";const t=e.toLowerCase();let o;for(let e of this.conceptSuggestions)if(e.startsWithQuery(t)){o=e;break}return o?o.getQueryExcess(e):""}static createEmpty(){return new S([],[],[])}static createCopy(e){return new S(e.productSuggestions.concat([]),e.conceptSuggestions.concat([]),e.displayedProductSuggestions.concat([]))}isEmpty(){return!(null!=this.conceptSuggestions&&0!=this.conceptSuggestions.length||null!=this.productSuggestions&&0!=this.productSuggestions.length)}static convert(e){return new S(k.fromPlainObjects(e.productSuggestions),x.flatten(x.fromPlainObjects(e.conceptSuggestions)),k.fromPlainObjects(e.displayedProductSuggestions))}static findAllMatching(e,t){return new S(k.findAll(e.productSuggestions,t.productSuggestions),x.findAll(e.conceptSuggestions,t.conceptSuggestions),k.findAll(e.displayedProductSuggestions,t.displayedProductSuggestions))}static findMatching(e,t){return t?t.externalId?e.productSuggestions.find(e=>e.externalId==t.externalId):e.conceptSuggestions.find(e=>e.title==t.title&&e.link==t.link):null}}var P=o(233);class C{static userOwnsProduct(e){return!(!this.userOwnedProducts||!this.userOwnedProducts[e]&&!this.userOwnedProducts["*"])}static assignAdditionalInfoToProductInfos(e,t){for(const o of e){const e=t[o.id]||null;if(o.additionalProductInfo=e,null!=e&&e.productOfferings)for(const t of e.productOfferings)if("EBOOK"==t.productType||"LIVEVIDEO"==t.productType||"LIVEPROJECT"==t.productType){let e=t.price-(t.unitAmountDiscounted?t.unitAmountDiscounted:0),n=t.price;o.additionalProductInfo.price=e,o.additionalProductInfo.priceWithoutDiscount=n,o.price=e,o.priceWithoutDiscount=n}}}static convertProductInfosToProductDescription(e){return(e||[]).map(e=>{const t=this.getAppropriateLink(e),o=p.a.getShortTitle(e.title),n=this.getPrice(e);let r="product";return e.isLivebook&&(r="book"),e.isLivevideo&&(r="video"),e.isLiveproject&&(r="project"),{id:e.externalId||e.id,manningId:e.id,title:o,link:t,price:n,priceWithoutDiscount:this.getPriceWithoutDiscount(e),coverPath:C.getCoverPath(e.coverPath,e.isAuthorTalk||e.isConference),description:this.getDescriptionHtml(e),rating:null!=e.additionalProductInfo?e.additionalProductInfo.rating:0,date:e.dateDescription,tags:e.tags,isWideCover:e.isAuthorTalk||e.isConference,isTwoLineTitle:o.length>=32,isExternalProduct:this.isExternalProduct(e),isFreeProduct:e.isAuthorTalk||e.isConference||e.free,productType:r}})}static isExternalProduct(e){return null==e||(this.sourceApp!=w.b.pbc||!e.isLiveproject)&&((this.sourceApp!=w.b.livevideo||!(e.isLivevideo||e.isConference||e.isAuthorTalk))&&(this.sourceApp!=w.b.livebook||!e.isLivebook))}static getCoverPath(e,t){return e?t?p.a.adjustCoverPath(e,185,104):p.a.adjustCoverPath(e,172,216):t?"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/wide-cover.png":"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/cover.png"}static getPriceWithoutDiscount(e){return null!=e&&e.additionalProductInfo&&e.additionalProductInfo.priceWithoutDiscount?e.additionalProductInfo.priceWithoutDiscount:null!=e?e.priceWithoutDiscount:0}static getPrice(e){return null!=e&&e.additionalProductInfo&&e.additionalProductInfo.price?e.additionalProductInfo.price:null!=e?e.price:0}static getDescriptionHtml(e,t=3){if(null==e)return"";if(void 0===e.additionalProductInfo)return f.a.createArrayFromItemsUpTo(t).map(e=>"<div class='search-loader-text-line'></div>").join("");if(null===e.additionalProductInfo||!e.additionalProductInfo.description)return"";if(e.additionalProductInfo.cleanDescription)return e.additionalProductInfo.cleanDescription;if(e.isLiveproject)return e.additionalProductInfo.description;const o=document.createElement("template");o.innerHTML=e.additionalProductInfo.description;const n=o.content.querySelectorAll("a");for(let e=0;e<n.length;e++){const t=document.createElement("span");t.innerHTML=n[e].innerHTML,n[e].replaceWith(t)}if(null!=o.content.querySelector("hr, .manual-productpage-video-container, br, b, iframe")){const e=o.content.children,t=[];for(let o=0;o<e.length;o++){const n=e[o];if("HR"==n.nodeName||n.classList.contains("manual-productpage-video-container"))for(let n=0;n<=o;n++)t.push(e[n]);else if("BR"==n.nodeName)t.push(n);else if("B"==n.nodeName){const e=document.createElement("span");e.innerHTML=n.innerHTML,n.replaceWith(e)}}for(const e of t)o.content.removeChild(e);const n=o.content.querySelectorAll("iframe");for(let e=0;e<n.length;e++)n[e].remove();const r=o.content.querySelectorAll("p");for(let e=0;e<r.length;e++){const t=r[e];t.innerHTML.trim()||t.remove()}}const r=o.content.querySelectorAll("p");for(let e=0;e<r.length;e++)r[e].removeAttribute("style");if(o.content.children.length==o.content.querySelectorAll("p").length){const e=[],t=o.content.children;for(let o=0;o<t.length;o++){const n=t[o];e.push(n.innerHTML)}let n=e.join("<br>");n.trim()&&(o.innerHTML=n)}return e.additionalProductInfo.cleanDescription=o.innerHTML?o.innerHTML:e.additionalProductInfo.description,e.additionalProductInfo.cleanDescription}static getAppropriateLink(e){if(this.sourceApp==w.b.livebook&&e.isLivebook)return e.link;if(this.sourceApp==w.b.livevideo){if(e.isAuthorTalk||e.isConference)return e.link;if(e.isLivevideo)return C.userOwnsProduct(e.id)||C.userOwnsProduct(e.externalId)?e.link:e.marketplaceLink}return this.sourceApp==w.b.pbc&&e.isLiveproject&&(C.userOwnsProduct(e.id)||C.userOwnsProduct(e.externalId))?e.link:e.marketplaceLink}static upgradeProductInfoPaths(e,t){return null==e||0==e.length?e:(e.forEach(e=>this.upgradeProductDescriptionPath(e,t)),e)}static upgradeProductDescriptionPath(e,t){if(null==e)return;const o=e.isLivebook,n=e.isLivevideo,r=e.isBundle,i=e.isLiveproject;e.coverPath&&!e.coverPath.startsWith("http")&&(e.coverPath=this.getAbsolutePath(t.images.marketplace,e.coverPath)),e.description&&(e.description=e.description.replace(/\.\.\/books\//gi,`${t.client.marketplace}/books/`)),(!e.link||0!=e.link.indexOf("http")&&0!=e.link.indexOf("file://"))&&(o?(e.link=p.a.isOnDevice?`#!/book/${e.slug}`:this.getAbsolutePath(t.client.livebook,`/book/${e.slug}`),e.marketplaceLink=this.getAbsolutePath(t.client.marketplace,`books/${e.slug}`),e.livebookLink=e.link):n?(e.link=this.getAbsolutePath(t.client.livevideo,`course/${e.externalId}`),e.marketplaceLink=this.getAbsolutePath(t.client.marketplace,`livevideo/${e.slug}`),e.livevideoLink=e.link):r?(e.link=this.getAbsolutePath(t.client.marketplace,`bundles/${e.slug}`),e.marketplaceLink=e.link):i?(e.link=this.getAbsolutePath(t.client.marketplace,`liveproject/${e.slug}`),e.marketplaceLink=e.link):(e.link=this.getAbsolutePath(t.client.marketplace,`books/${e.slug}`),e.marketplaceLink=e.link))}static getAbsolutePath(e,t){let o=e;return o.endsWith("/")||t.startsWith("/")||(o+="/"),o+t}}C.userOwnedProducts={};var T=new class{constructor(){this.mobileBreakpoint=950,this.bestsellers=[],this.PRODUCT_PAGE_KEY="Product page",this.INTRO_KEY="Intro",this.synonyms={},this.numberedIndexRegExp=/(\d+\.?)+/,this.appendixIndexRegExp=/[A-Z]\.(\d+\.?)*/}isDesktopWidth(){return window.innerWidth>this.mobileBreakpoint}convertProductSuggestionToProductDescription(e,t){return(e||[]).map(e=>{const o=C.getAppropriateLink(e.productInfo),n=(e.productInfo,p.a.getShortTitle(e.title)),r=e.getPrice();let i="product";return e.isLivebook?i="book":e.isLivevideo?i="video":e.isLiveproject&&(i="project"),{id:e.externalId||e.id,manningId:e.productInfo.id,title:n,link:t?`${o}?query=${t}`:o,price:r,priceWithoutDiscount:e.getPriceWithoutDiscount(),coverPath:e.coverPath,description:this.getDescriptionHtml(e.productInfo),rating:null!=e.productInfo.additionalProductInfo?e.productInfo.additionalProductInfo.rating:0,date:e.dateDescription,isWideCover:null!=e.productInfo&&(e.productInfo.isConference||e.productInfo.isAuthorTalk),isTwoLineTitle:n.length>=32,isExternalProduct:this.isExternalProduct(e.productInfo),isFreeProduct:null!=e.productInfo&&(e.productInfo.isConference||e.productInfo.isAuthorTalk||e.productInfo.free)||r<=0,productType:i}})}isExternalProduct(e){return null==e||(this.sourceApp!=w.b.livebook||!e.isLivebook)}extractLinkReference(e){if(!e)return"";const t=e.lastIndexOf("/");return-1==t?"":e.substring(t+1).replace(/search-/gi,"")}getEmphasizedWords(e){if(!e||null==e.results||0==e.results.length)return[];const t={};for(const o of e.results){const e=o.text.indexOf("<strong class='search-result'>");if(-1==e)continue;const n=o.text.indexOf("</strong>",e);-1!=n&&(t[o.text.substring(e+"<strong class='search-result'>".length,n).toLowerCase()]=!0)}const o=[];for(const e in t)o.push(e);return o.sort((e,t)=>t.length-e.length)}getDescriptionHtml(e,t=3){return C.getDescriptionHtml(e,t)}getAppropriateLinkFromProductInfo(e){return null==e?"":this.sourceApp==w.b.livebook&&e.isLivebook?e.link:e.marketplaceLink||e.link}getMatchingProductSuggestions(e,t){return this.getMatchingProducts(e,t).map((e,t)=>{const o=k.fromProductInfo(e);return o.searchOrder=t,o})}getMatchingProducts(e,t,o=.45){if(null==t||0==t.length)return[];if(""==e||0==e.length)return[];let n=[];const r={},i=this.expandQueryWithSynonyms(e);if(i.length<=1)n=this.searchWithFuse(e,t,o);else for(let e=0;e<i.length;e++){const s=i[e],a=this.searchWithFuse(s,t,o);if(0==e)for(let e=0;e<a.length;e++){const t=a[e];n.push(t),r[t.item.id]={score:t.score,index:n.length-1}}else for(let e=0;e<a.length;e++){const t=a[e];r[t.item.id]?t.score>r[t.item.id].score&&(r[t.item.id].score=t.score,n[r[t.item.id].index].score=t.score):(n.push(t),r[t.item.id]={score:t.score,index:n.length-1})}}const s=new Date;this.getBestsellersMap();n.forEach(t=>{const o=t.item,n=f.a.monthDiff(o.date,s);n>0&&(t.score+=n/(e.length<3?4e4:4e3),t.modifiedScore?t.modifiedScore+=n/(e.length<3?4e4:4e3):t.modifiedScore=t.score)}),n.forEach(e=>{const t=e.item;this.sourceApp==w.b.pbc&&t.isLiveproject?(e.modifiedScore*=.01,e.modifiedScore>o&&(e.modifiedScore=o)):this.sourceApp==w.b.livevideo&&t.isLivevideo&&(e.modifiedScore*=.01,e.modifiedScore>o&&(e.modifiedScore=o))});const a=(e,t)=>e.modifiedScore&&t.modifiedScore?e.modifiedScore-t.modifiedScore:e.score-t.score;if(n.sort((e,t)=>{if(this.sourceApp==w.b.pbc){const o=e.item,n=t.item;if(o.isLiveproject&&!n.isLiveproject){if(e.containsWholeQueryWord||e.containsQueryWord||e.containsWholeSeoKeyword)return-1}else if(!o.isLiveproject&&n.isLiveproject&&(t.containsWholeQueryWord||t.containsQueryWord||t.containsWholeSeoKeyword))return 1}return e.containsWholeQueryWord&&!t.containsWholeQueryWord?-1:!e.containsWholeQueryWord&&t.containsWholeQueryWord?1:e.containsWholeQueryWord&&t.containsWholeQueryWord?a(e,t):e.containsQueryWord&&!t.containsQueryWord?-1:!e.containsQueryWord&&t.containsQueryWord?1:e.containsQueryWord&&t.containsQueryWord?a(e,t):e.containsWholeSeoKeyword&&!t.containsWholeSeoKeyword?-1:!e.containsWholeSeoKeyword&&t.containsWholeSeoKeyword?1:(e.containsWholeSeoKeyword&&t.containsWholeSeoKeyword,a(e,t))}),n.length>50){const e=n.filter(e=>e.modifiedScore<=o||e.containsQueryWord||e.containsWholeQueryWord||e.containsWholeSeoKeyword);e.length>1&&(n=e)}return n.map(e=>e.item)}getBestsellersMap(){const e={};try{if(this.bestsellers&&this.bestsellers.length)for(let t=0;t<this.bestsellers.length;t++){const o=this.bestsellers[t];o.slug&&(e[o.slug]=t)}}catch(e){console.log(e)}return e}expandQueryWithSynonyms(e){if(!e)return[];const t=[];t.push(e);const o=(e||"").toLowerCase();if(this.synonyms&&this.synonyms[o])for(const e of this.synonyms[o])t.push(e);return t}searchWithFuse(e,t,o){let n,r=new P.a(t,{includeScore:!0,shouldSort:!0,threshold:o,maxPatternLength:32,tokenize:e.length>=3,keys:[{name:"cleanTitle",weight:.15},{name:"cruftlessTitle",weight:.35},{name:"seoKeywords",weight:.1},{name:"authors",weight:.05},{name:"description",weight:.05},{name:"subtitle",weight:.2},{name:"tagsText",weight:.01},{name:"isbn",weight:.05},{name:"productTypeDescription",weight:.05}]}).search(e);r.forEach(t=>{const r=t.item;if(null==r)return;const i=r.title||"";if(!i)return;const s=r.subtitle||"",a=r.seoKeywords||"",c=f.a.getWords(i.toLowerCase()),l=f.a.getWords(s.toLowerCase()),u=f.a.getWords(a.toLowerCase()),d=f.a.getWords(e.toLowerCase());if(t.modifiedScore=t.score,1==d.length)c.indexOf(e.toLowerCase())>=0&&(t.modifiedScore*=1==e.length?.001:.6,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0),l.indexOf(e.toLowerCase())>=0&&(t.modifiedScore*=1==e.length?.01:.8,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeQueryWord=!0),u.indexOf(e.toLowerCase())>=0&&(t.modifiedScore*=1==e.length?.1:.95,t.modifiedScore=Math.min(t.modifiedScore,o),t.containsWholeSeoKeyword=!0);else{const e=d.filter(e=>c.indexOf(e)>=0);let n=e.length;e.length>0&&(t.modifiedScore*=.8/n,t.containsQueryWord=!0),n>=d.length&&(t.containsWholeQueryWord=!0,t.modifiedScore*=.1),(e.length>0||n>=d.length)&&(t.modifiedScore=Math.min(t.modifiedScore,o));const r=d.filter(e=>l.indexOf(e)>=0);let i=r.length;r.length>0&&(t.modifiedScore*=1/n,t.containsQueryWord=!0),i>=d.length&&(t.modifiedScore*=.3,t.containsQueryWord=!0)}r.authors&&r.authors.toLowerCase&&e.length>3&&-1!=r.authors.toLowerCase().indexOf(e)&&(t.modifiedScore*=.5);const h=0==i.indexOf("Exploring")||(r.authors||"").indexOf("selected by")>=0||r.isAuthorTalk||r.isConference;h&&(i.toLowerCase()==e.toLowerCase()||"exploring"==e.toLowerCase())&&t.modifiedScore<o?(t.modifiedScore=o,t.score=o):h&&(t.modifiedScore=o,t.score=o),(null==n||t.modifiedScore<n.modifiedScore)&&(n=t)});const i={};for(const e of r)i[e.item.id]=!0;let s=o,a=o;if(this.sourceApp==w.b.livevideo){const e=r.filter(e=>e.item.isLivevideo).sort((e,t)=>e.modifiedScore-t.modifiedScore),t=e.filter(e=>e.containsWholeQueryWord||e.containsQueryWord),i=e.filter(e=>e.containsWholeSeoKeyword),c=i[i.length-1]||t[t.length-1]||e[e.length-1];null!=c?a=s=Math.min(c.modifiedScore+.1,o):null!=n&&(a=n.modifiedScore+.01)}else if(this.sourceApp==w.b.pbc){const e=r.filter(e=>e.item.isLiveproject).sort((e,t)=>e.modifiedScore-t.modifiedScore),t=e.filter(e=>e.containsWholeQueryWord||e.containsQueryWord),i=e.filter(e=>e.containsWholeSeoKeyword),c=i[i.length-1]||t[t.length-1]||e[e.length-1];null!=c?a=s=Math.min(c.modifiedScore+.1,o):null!=n&&(a=n.modifiedScore+.01)}for(const o of t){const t=o.title||"";if(!t)continue;const n=o.subtitle||"",c=o.seoKeywords||"",l=f.a.getWords(t.toLowerCase()),u=f.a.getWords(n.toLowerCase()),d=f.a.getWords(c.toLowerCase()),h=f.a.getWords(e.toLowerCase());if(1==h.length){if((l.indexOf(e.toLowerCase())>=0||u.indexOf(e.toLowerCase())>=0||d.indexOf(e.toLowerCase())>=0)&&!i[o.id]){i[o.id]=!0;const e={item:o,score:this.sourceApp==w.b.livevideo&&o.isLivevideo||this.sourceApp==w.b.pbc&&o.isLiveproject?a:s,refIndex:-1};r.push(e),e.modifiedScore=e.score;continue}}else{if(h.filter(e=>l.indexOf(e)>=0).length>0&&!i[o.id]){i[o.id]=!0;const e={item:o,score:this.sourceApp==w.b.livevideo&&o.isLivevideo||this.sourceApp==w.b.pbc&&o.isLiveproject?a-.05:s-.05,refIndex:-1};r.push(e),e.modifiedScore=e.score;continue}}}const c=r.filter(e=>e.containsWholeQueryWord||e.containsQueryWord).sort((e,t)=>e.score-t.score);if(c.length>=2){const e=c[c.length-1],t=c.filter(e=>f.a.daysFromNow(e.item.date)>=1825);for(const o of t)o.score=e.score,o.modifiedScore=e.modifiedScore}return r}getAbsoluteLivebookLink(e,t){return this.getAbsolutePath(e.client.livebook,p.a.adaptLinkFormat(t))}getAbsoluteLivevideoLink(e,t){return this.getAbsolutePath(e.client.livevideo,t)}getSearchResultsSourceString(e,t=!1){switch(e){case m.library:return"Everything";case m.product:return t?"This course":"This book";default:return"Everything"}}getSearchResultsSourceType(e){switch(e){case"This video":case"This book":return m.product;case"Everything":default:return m.library}}convertToShellProductSearchResults(e){const t={},o=[],n={};for(let r of e){const e=r.elementTitle||r.text,i=r.productId+r.elementTitle+r.text;if(e&&n[i])continue;if(n[i]=!0,!t[r.productId]){const e=new g(r.productId,r.productManningId,r.productTitle);t[r.productId]=e,o.push(e)}const s=t[r.productId];s.results.push(r);const a=parseFloat(r.score);r.score=Number.isNaN(a)?0:a,s.score+=a}return o}convertToProductSearchResults(e,t,o,n){const r=this.convertToShellProductSearchResults(e),i=[];for(const e of r){for(let o of t)if(e.productManningId==o.id||e.productId==o.externalId){e.productInfo=o,e.productTitle||(e.productTitle=o.title);break}e.productInfo||i.push(e)}for(let e of i){const t=r.indexOf(e);t>=0&&r.splice(t,1)}return this.sortProductSearchResults(r,o),this.insertSpecialResultsIfNecessary(r,o,n),this.updateProductSearchResultsLocations(r,n),r}containsQueryWord(e,t){const o=f.a.getWords((e||"").toLowerCase()),n=f.a.getWords((t||"").toLowerCase());return null!=o.find(e=>n.indexOf(e)>=0)}sortProductSearchResults(e,t=""){t=(t||"").toLowerCase(),e.sort((e,t)=>t.score-e.score)}convertToShellProductTreeResults(e){return O.constructShell(e)}convertToFullProductTreeResults(e,t){const o=this.getTitleSearchResultsMap("elementTitle",e.results,this.PRODUCT_PAGE_KEY);let n=null,r=0;t&&0==t.length&&(e.children=null);for(const i of t){const t=o[i.title],s=new I(i.title,p.a.extractBookElementIndex(i.title),i.link,t,i.shortName);if(i.children&&t&&t.length>0){if(i.children.length>0){"Intro"!=i.children[0].title&&i.children.unshift(new v("intro",this.INTRO_KEY,"",[]))}let e=null,o=0;for(const n of i.children){const r=this.getSearchResultsInTitle(n.title!=this.INTRO_KEY?n.title:"","subElementTitle",t),i=new R(n.title,p.a.extractBookElementIndex(n.title),n.link,r);if(n.children&&r.length>0){let e=null,t=0;for(const o of n.children){const n=new M(o.title,p.a.extractBookElementIndex(o.title),o.link,this.getSearchResultsInTitle(o.title,"subSubElementTitle",r));i.addSubSubElementTreeResult(n);let s=n.getDisplayedResultsCount();s>t&&(t=s,e=n)}null!=e&&(e.hasMostResults=!0)}s.addSubElementTreeResult(i);let a=i.getDisplayedResultsCount();a>o&&(o=a,e=i)}null!=e&&(e.hasMostResults=!0)}e.addElementTreeResult(s);let a=s.getDisplayedResultsCount();a>r&&(r=a,n=s)}return null!=n&&(n.hasMostResults=!0),this.sortProductPageResultsSoonerAndInsertProductPageResult(e),e}sortProductPageResultsSoonerAndInsertProductPageResult(e){try{const t=(e.children||[]).find(e=>e.name==this.PRODUCT_PAGE_KEY);null!=t&&t.results&&t.results.sort((e,t)=>e.productType==t.productType?t.score-e.score:"marketplaceProduct"==e.productType?-1:"marketplaceProduct"==t.productType?1:t.score-e.score)}catch(e){console.log(e)}}getTitleSearchResultsMap(e,t,o=""){const n={};for(let r of t){const t=r[e]||o;t&&(n[t]||(n[t]=[]),n[t].push(r))}return n}getSearchResultsInTitle(e,t,o){return o?o.filter(o=>o[t]===e):[]}convertLivebookTocToTocItems(e,t){const o=[];if(e.parts)for(const n of e.parts)if(n.chapters)for(const e of n.chapters)o.push(this.convertLiveBookElementToTocItem(e,t));if(e.backMatter)for(const n of e.backMatter)0===(n.title||"").indexOf("Appendix")&&o.push(this.convertLiveBookElementToTocItem(n,t));if(e.frontMatter)for(const n of e.frontMatter)0===(n.title||"").indexOf("Appendix")&&o.push(this.convertLiveBookElementToTocItem(n,t));return o}convertLiveVideoTocToTocItems(e,t){if(!e||!e.length)return e;for(let o of e)this.convertLiveVideoTocItem(o,null,t);return e.sort((e,t)=>e.unitIndex-t.unitIndex),e}convertLiveVideoTocItem(e,t,o){if(e.children){e.link=this.updateTocRelativeLinkPath(e.link,o),e.children.sort((e,t)=>(e.unitIndex||e.moduleIndex)-(t.unitIndex||t.moduleIndex));for(const t of e.children)this.convertLiveVideoTocItem(t,e,o),t.link=this.updateTocRelativeLinkPath(t.link,o)}}updateTocRelativeLinkPath(e,t){return e?e.startsWith("http")?e:t+e:t}updateProductSearchResultsLocations(e,t){for(const o of e){const e=o.productInfo,n=e.isLivebook,r=e.isLivevideo||e.isConference||e.isAuthorTalk,i=e.isLiveproject;e.link&&e.link.startsWith("http")||p.a.isOnDevice&&n||(e.link=this.getAbsolutePath(t.client.marketplace,`/${r?"livevideo":"books"}/${e.slug}`));for(let e of o.results){if(!e.link)continue;if(e.link=p.a.adaptLinkFormat(e.link),e.link.startsWith("http")||e.link.startsWith("file://"))continue;let o=e.link||"";const s=0==o.indexOf("books/")||0==o.indexOf("livevideo/")||0==o.indexOf("liveproject/");-1!=o.indexOf("#!/book=")&&(o=o.replace("#!/book=","/book/")),-1!=o.indexOf("/book=")&&(o=o.replace("/book=","/book/")),-1!=o.indexOf("book/search-")&&(o=o.replace("book/search-","book/")),n&&!s?p.a.isOnDevice?e.link=o:e.link=this.getAbsolutePath(t.client.livebook,o):e.link=r&&!s?this.getAbsolutePath(t.client.livevideo,o):i&&!s?this.getAbsolutePath(t.client.pbc,o):this.getAbsolutePath(t.client.marketplace,o)}}}getAbsolutePath(e,t){let o=e;return o.endsWith("/")||t.startsWith("/")||(o+="/"),o+t}convertLiveBookElementToTocItem(e,t){return e.link=this.updateTocRelativeLinkPath(e.link,t),new v(e.id,e.title,e.link,this.convertLivebookSectionsToTocItems(e.sections,t),e.shortName)}convertLivebookSectionsToTocItems(e,t){return e?e.map(e=>(e.link=this.updateTocRelativeLinkPath(e.link,t),new v(e.id,e.title,e.link,this.convertLivebookSubSectionsToTocItems(e.subsections,t)))):[]}convertLivebookSubSectionsToTocItems(e,t){return e?e.map(e=>(e.link=this.updateTocRelativeLinkPath(e.link,t),new v(e.id,e.title,e.link,[]))):[]}getLivebookLocation(e){const t={elementTitle:"",slug:"",element:""};if(null==e)return t;let o=null,n=null;return e instanceof M?o=(n=e.parent.parent).parent:e instanceof R?o=(n=e.parent).parent:e instanceof I?(n=e,o=e.parent):e instanceof O&&(n=null!=(o=e).children&&o.children.length?o.children[0]:null),null!=o&&(t.slug=o.productInfo.slug),null!=n&&(t.element=n.shortName,t.elementTitle=n.elementTitle),t}insertSpecialResultsIfNecessary(e,t,o){let n=[];this.isSpecialSearch(t,"meap")&&n.push(b.createSpecialMeapProduct()),(this.isSpecialSearch(t,"book")||this.isSpecialSearch(t,"live"))&&n.push(b.createSpecialLivebookProduct()),(this.isSpecialSearch(t,"video")||this.isSpecialSearch(t,"live"))&&n.push(b.createSpecialLivevideoProduct()),(this.isSpecialSearch(t,"project")||this.isSpecialSearch(t,"live"))&&n.push(b.createSpecialLiveprojectProduct()),(this.isSpecialSearch(t,"manning")||this.isSpecialSearch(t,"home")||this.isSpecialSearch(t,"site"))&&n.push(b.createSpecialManningSiteProduct()),this.isSpecialSearch(t,"forum")&&n.push(b.createSpecialForumProduct()),this.isSpecialSearch(t,"contact")&&n.push(b.createSpecialContactProduct()),this.isSpecialSearch(t,"support")&&n.push(b.createSpecialSupportProduct()),this.isSpecialSearch(t,"news")&&n.push(b.createSpecialNewsletterProduct()),(this.isSpecialSearch(t,"free")||this.isSpecialSearch(t,"content"))&&n.push(b.createSpecialFreeContentProduct()),this.isSpecialSearch(t,"catalog")&&n.push(b.createSpecialCatalogProduct()),(this.isSpecialSearch(t,"deal")||this.isSpecialSearch(t,"day"))&&n.push(b.createSpecialDealOfTheDayProduct()),this.isSpecialSearch(t,"token")&&n.push(b.createSpecialTokenProduct());for(const t of n)e.unshift(this.createSpecialProductResults(t,h.a.createSpecialResult(t.title,t.link,t.description)))}createSpecialProductResults(e,t){const o=new g(e.title,e.title,e.title);return o.productInfo=e,o.isSpecialProduct=!0,o.toc=null,o.score=5e4,o.results=[t],o}isSpecialSearch(e,t){return-1!==(e=e||"").toLowerCase().indexOf(t)}};function E(e){let t=!1,o=!1;if(null!=e&&e.length>0)for(let n of e)if(t=t||h.a.isIndexResult(n),o=o||h.a.isTocRangeResult(n),t&&o)break;return{containsIndexResult:t,containsTocRangeResult:o}}class L{isSpecialOrHasResults(){return!!(this instanceof O&&null!=this.productSearchResults&&this.productSearchResults.isSpecialProduct)||this.hasResults()}hasResults(){return null!=this.results&&this.results.length>0}hasNonProductPageResults(){return this.hasResults()&&null!=this.results.find(e=>!!(e.elementTitle||e.subElementTitle||e.subSubElementTitle))}hasChildrenWithResults(){return null!=this.getFirstChildWithResults()}getChildWithMostResults(){if(null==this.children||0==this.children.length)return null;let e=null;for(let t of this.children)null==e&&(e=t),null!=t.results&&t.results.length>e.results.length&&(e=t);return null!=e&&e.hasResults()?e:null}getFirstChildWithResults(){if(null==this.children||0==this.children.length)return null;for(let e of this.children)if(e.hasResults())return e;return null}getRoot(){let e=this;for(;null!=e.parent;)e=e.parent;return e}isLiveProduct(){const e=this.getRoot();return null!=e&&(e instanceof O&&(null!=e.productSearchResults&&(null!=e.productSearchResults.productInfo&&(e.productSearchResults.productInfo.isLivevideo||e.productSearchResults.productInfo.isLivebook))))}isLivevideo(){const e=this.getRoot();return null!=e&&(e instanceof O&&(null!=e.productSearchResults&&(null!=e.productSearchResults.productInfo&&e.productSearchResults.productInfo.isLivevideo)))}isLivebook(){const e=this.getRoot();return null!=e&&(e instanceof O&&(null!=e.productSearchResults&&(null!=e.productSearchResults.productInfo&&e.productSearchResults.productInfo.isLivebook)))}isProductPageElement(){return this instanceof I&&this.name==T.PRODUCT_PAGE_KEY}getDisplayedResultsCount(){return null!=this.results?this.results.length:0}}class O extends L{static constructShell(e){const t=new O;if(t.id=e.productId,t.productId=e.productId,t.productTitle=e.productTitle,t.productSearchResults=e,t.name=e.productTitle,t.results=e.results,t.link=e.productInfo&&e.productInfo.link,t.marketplaceLink=e.productInfo&&e.productInfo.marketplaceLink,t.coverPath=p.a.adjustCoverPath(e.productInfo.coverPath,120,150),t.isLiveaudio=e.productInfo&&e.productInfo.isLiveaudio,t.productInfo=e.productInfo,t.results&&t.results.length){const e=E(t.results);t.containsIndexResult=e.containsIndexResult,t.containsTocRangeResult=e.containsTocRangeResult}return t}addElementTreeResult(e){this.children||(this.children=[]),this.children.push(e),e.parent=this}findDescendantWithTitle(e){if(!e)return null;for(const t of this.children){const o=t.elementTitle==e?t:t.findDescendantWithTitle(e);if(o)return o}return null}getStrongestElementTitle(){if(null==this.results||0==this.results.length)return"";const e={};for(const t of this.results){const o=t.elementTitle;o&&(e[o]||(e[o]=0),e[o]++)}let t="",o=0;for(const n in e)t?e[n]>o&&(t=n,o=e[n]):(t=n,o=e[n]);return t}}class I extends L{constructor(e,t,o,n,r){super(),this.name=e,this.index=t,this.id=e,this.elementTitle=e,this.link=o,this.children=[],this.results=n||[],this.shortName=r}addSubElementTreeResult(e){e.containsIndexResult&&(this.containsIndexResult=!0),e.containsTocRangeResult&&(this.containsTocRangeResult=!0),e.parent=this,this.children.push(e)}findDescendantWithTitle(e){if(!e)return null;for(const t of this.children){const o=t.subElementTitle==e?t:t.findDescendantWithTitle(e);if(o)return o}return null}}class R extends L{constructor(e,t,o,n){if(super(),this.name=e,this.index=t,this.id=e,this.subElementTitle=e,this.link=o,this.children=[],this.results=n||[],n&&n.length){const e=E(n);this.containsIndexResult=e.containsIndexResult,this.containsTocRangeResult=e.containsTocRangeResult}}addSubSubElementTreeResult(e){e.containsIndexResult&&(this.containsIndexResult=!0),e.containsTocRangeResult&&(this.containsTocRangeResult=!0),e.parent=this,this.children.push(e)}findDescendantWithTitle(e){if(!e)return null;for(const t of this.children){const o=t.subSubElementTitle==e?t:null;if(o)return o}return null}}class M extends L{constructor(e,t,o,n){if(super(),this.name=e,this.id=e,this.index=t,this.subSubElementTitle=e,this.link=o,this.children=[],this.results=n||[],n&&n.length){const e=E(n);this.containsIndexResult=e.containsIndexResult,this.containsTocRangeResult=e.containsTocRangeResult}}}var A=o(293),F=o(477);class N extends n.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.scrollIntoView=this.scrollIntoView.bind(this)}scrollIntoView(){this.root&&this.root.scrollIntoView({behavior:"smooth",inline:"center"})}render(){const e=this.props.productTreeResult.productInfo;let t="product";return e.isLivebook&&(t="book"),e.isLivevideo&&(t="video"),e.isLiveproject&&(t="project"),n.createElement("div",{className:l("search-content-product-root",{selected:this.props.isSelected},{"selected-neighbour":this.props.isSelectedNeighbour}),onClick:this.handleClick,ref:e=>this.root=e},n.createElement("div",{className:"search-content-product-cover-container"},n.createElement(F.a,{placeholderImage:this.props.coverPlaceholder,imageDisplayType:A.a.Image,fullImage:this.props.productTreeResult.coverPath,className:"book-cover",height:92,width:74,alt:this.props.productTreeResult.productTitle,placeholderOnlyOnFail:!0})),n.createElement("div",{className:"search-content-product-info-container"},n.createElement("div",{className:"search-content-product-title",title:this.props.productTreeResult.productTitle},this.props.productTreeResult.productTitle),n.createElement("div",{className:"search-content-product-description",dangerouslySetInnerHTML:{__html:T.getDescriptionHtml(e)}}),C.userOwnsProduct(e.externalId||e.id)&&this.getPrice(e)>=0&&n.createElement("span",{className:"product-ownership-label"},"you own this ",t," ")))}getPrice(e){return null!=e&&e.additionalProductInfo&&e.additionalProductInfo.price?e.additionalProductInfo.price:0}handleClick(){this.props.onSelectSearchTreeItem&&this.props.onSelectSearchTreeItem(this.props.productTreeResult)}}o(807);class j extends n.Component{constructor(e){super(e),this.handleSelectSearchTreeItem=this.handleSelectSearchTreeItem.bind(this),this.handleOwnershipChange=this.handleOwnershipChange.bind(this),this.props.store.onOwnershipChanged(this.handleOwnershipChange)}render(){this.selectedProduct=null;const e=this.props.productTreeResults,t=this.shouldEmphasizeFirstResult();return n.createElement("div",{className:"search-content-products-list-root search-scroll-area"},e.map((e,o)=>{const r=this.isItemSelected(e),i=n.createElement(N,{key:e.id,productTreeResult:e,isSelected:r,ref:e=>{r&&(this.selectedProduct=e)},coverPlaceholder:this.props.coverPlaceholder,onSelectSearchTreeItem:this.handleSelectSearchTreeItem});return!t||o>0?i:n.createElement(n.Fragment,{key:"search-content-product-lists-current-product-messages"},n.createElement("div",{key:"search-content-product-lists-current-product-message",className:"search-content-products-list-message"},"results inside '",e.productTitle,"'"),i,n.createElement("div",{key:"search-content-product-lists-rest-products-message",className:"search-content-products-list-message-rest"},"results inside other products"))}))}shouldEmphasizeFirstResult(){return!(null==this.props.store.state.currentProduct||null==this.props.productTreeResults||this.props.productTreeResults.length<=1||!this.props.productTreeResults[0]||!this.props.productTreeResults[0].productInfo)&&this.props.productTreeResults[0].productInfo.id==this.props.store.state.currentProduct.id}componentDidMount(){this.hasBeenMounted=!0}componentWillUnmount(){this.hasBeenMounted=!1}handleOwnershipChange(){this.hasBeenMounted&&this.forceUpdate()}handleSelectSearchTreeItem(e){this.props.onSelectSearchTreeItem&&this.props.onSelectSearchTreeItem(e)}isItemSelected(e){return null!=e&&null!=this.props.selectedProductTreeResult&&e.productId==this.props.selectedProductTreeResult.productId}}var D=o(149);class _ extends n.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:this.props.intialIsOpen}}render(){const e=this.props.elementTreeResult,t=e.parent.isLiveProduct()&&e.hasChildrenWithResults();return n.createElement("div",{className:u()("search-toc-element-root",{selected:this.props.selectedSearchTreeItem==e})},n.createElement("div",{className:u()("search-toc-element-header-container",{open:this.state.isOpen})},n.createElement("div",{className:"search-toc-element-title-container",title:e.elementTitle,onClick:()=>this.props.onTreeItemSelected(e)},p.a.cleanBookElementTitle(e.elementTitle,!1)||e.elementTitle),t&&n.createElement("div",{className:"search-toc-element-toggle-container"},n.createElement("button",{className:u()("search-toc-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 0.666656C3.9499 0.666656 0.666656 3.9499 0.666656 7.99999C0.666656 12.0501 3.9499 15.3333 7.99999 15.3333C12.0501 15.3333 15.3333 12.0501 15.3333 7.99999C15.3333 3.9499 12.0501 0.666656 7.99999 0.666656ZM1.66666 7.99999C1.66666 4.50219 4.50219 1.66666 7.99999 1.66666C11.4978 1.66666 14.3333 4.50219 14.3333 7.99999C14.3333 11.4978 11.4978 14.3333 7.99999 14.3333C4.50219 14.3333 1.66666 11.4978 1.66666 7.99999Z",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672V11.1367Z",stroke:"currentColor",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))))),t&&n.createElement(D,{isOpened:this.state.isOpen},e.children.filter(e=>e.hasResults()).map(e=>n.createElement("div",{key:e.subElementTitle,className:u()("search-toc-sub-element-title-container",{selected:e==this.props.selectedSearchTreeItem}),onClick:()=>this.props.onTreeItemSelected(e)},e.subElementTitle))))}toggle(){this.setState({isOpen:!this.state.isOpen})}}o(809);var B=o(116),U=o(154);class W extends n.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.handleResize=this.handleResize.bind(this),this.handleSpacerClick=this.handleSpacerClick.bind(this),this.state={isOpen:window.innerWidth>T.mobileBreakpoint,isDetailed:!1}}UNSAFE_componentWillReceiveProps(e){this.props.selectedProductTreeResult!=e.selectedProductTreeResult&&this.state.isDetailed&&this.setState({isDetailed:!1})}componentDidMount(){this.isComponentMounted=!0,window.addEventListener("resize",this.handleResize)}componentWillUnmount(){this.isComponentMounted=!1,window.removeEventListener("resize",this.handleResize)}render(){return null==this.props.selectedProductTreeResult||null===this.props.selectedProductTreeResult.children?null:n.createElement("div",{className:"search-toc-root"},n.createElement("div",{className:"search-toc-wrapper"},this.renderHeader(),this.renderContent()),n.createElement("div",{className:"scroll-area-top-background"}))}renderHeader(){if(void 0===this.props.selectedProductTreeResult.children||null==this.props.selectedTreeItem)return null;const e=(this.props.selectedProductTreeResult.children||[]).filter(e=>e.hasResults()).length>1;return n.createElement("div",{className:"search-toc-header"},n.createElement("div",{className:"search-toc-header-title"},this.props.selectedTreeItem instanceof I?p.a.cleanBookElementTitle(this.props.selectedTreeItem.elementTitle,!1):"all results"),e&&n.createElement("div",{className:"search-toc-element-toggle-container"},n.createElement("button",{className:u()("search-toc-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 0.666656C3.9499 0.666656 0.666656 3.9499 0.666656 7.99999C0.666656 12.0501 3.9499 15.3333 7.99999 15.3333C12.0501 15.3333 15.3333 12.0501 15.3333 7.99999C15.3333 3.9499 12.0501 0.666656 7.99999 0.666656ZM1.66666 7.99999C1.66666 4.50219 4.50219 1.66666 7.99999 1.66666C11.4978 1.66666 14.3333 4.50219 14.3333 7.99999C14.3333 11.4978 11.4978 14.3333 7.99999 14.3333C4.50219 14.3333 1.66666 11.4978 1.66666 7.99999Z",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672",fill:"currentColor"}),n.createElement("path",{d:"M7.15234 11.1367L10.1523 8.13672L7.15234 5.13672V11.1367Z",stroke:"currentColor",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})))))}renderContent(){if(void 0===this.props.selectedProductTreeResult.children)return n.createElement(d.b,null);let e=this.getTocChildren(this.state.isDetailed);return 0!=e.length||this.state.isDetailed||(e=this.getTocChildren(!0)),n.createElement(D,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-toc-content"},e),!B.a.isTouch&&n.createElement(U.a,{effect:"solid",place:"left"}))}getTocChildren(e){const t=[],o=this.props.selectedProductTreeResult.children;let r="";for(let i=0;i<o.length;i++){const s=o[i];s.hasResults()||e?(t.push(n.createElement(_,{key:s.id+i,elementTreeResult:s,selectedSearchTreeItem:this.props.selectedTreeItem,onTreeItemSelected:this.props.onSearchTreeItemSelected})),r="toc-element"):"toc-element"==r&&(t.push(n.createElement("div",{"data-tip":"click for full toc",key:`spacer-${i}`,className:"search-tree-spacer",onClick:this.handleSpacerClick},n.createElement("div",{className:"search-tree-spacer-item"}),n.createElement("div",{className:"search-tree-spacer-item"}),n.createElement("div",{className:"search-tree-spacer-item"}))),r="spacer")}return"spacer"==r&&t.pop(),t.length>1&&t.unshift(n.createElement("div",{key:"toc-border",className:"search-toc-border"})),t}handleSpacerClick(){this.setState({isDetailed:!0})}toggle(){this.setState({isOpen:!this.state.isOpen})}handleResize(){this.isComponentMounted&&!this.state.isOpen&&window.innerWidth>T.mobileBreakpoint&&this.setState({isOpen:!0})}}o(811),o(813),o(815);class H extends n.Component{constructor(e){super(e),this.state={currentText:null!=this.props.artifactFeedback?this.props.artifactFeedback.feedback:"",isOpen:!1},this.toggleOpenClose=this.toggleOpenClose.bind(this),this.handleTextChange=this.handleTextChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleSave=this.handleSave.bind(this),this.handleUpVote=this.handleUpVote.bind(this),this.handleDownVote=this.handleDownVote.bind(this),this.handleArtifactFeedbackChange=this.handleArtifactFeedbackChange.bind(this)}componentDidMount(){this.props.store.onArtifactFeedbackChange(this.handleArtifactFeedbackChange)}componentWillUnmount(){this.props.store.offArtifactFeedbackChange(this.handleArtifactFeedbackChange)}render(){return n.createElement("div",{className:l("artifact-feedback-root",{"livebook-viewer-feedback":this.props.isLivebookViewerFeedback})},n.createElement("div",{className:"artifact-feedback-header"},this.renderHeaderContent()),n.createElement(D,{isOpened:this.state.isOpen},n.createElement("div",{className:"artifact-feedback-form-container"},n.createElement("textarea",{rows:3,value:this.state.currentText,onChange:this.handleTextChange,onKeyDown:this.handleKeyDown}),n.createElement("div",{className:"artifact-feedback-form-footer"},n.createElement("button",{onClick:this.handleSave},"save")))))}renderHeaderContent(){return n.createElement(n.Fragment,null,n.createElement("div",{className:"artifact-feedback-title-container"},"What do you think of this section?"),n.createElement("div",{className:l("artifact-feedback-icon-container")},n.createElement("div",{className:"artifact-feedback-icon",onClick:this.handleUpVote},n.createElement("svg",{className:l("thumbs-up-icon",{selected:this.props.artifactFeedback.vote>0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"M 480.34033,283.67059 C 489.5943,271.66941 494.64406,256 494.64406,236.86 494.64313,201.74017 464.7455,175.20907 426.8477,175.20907 h -79.39407 c 8.12881,-16.19051 25.29194,-42.27297 25.29194,-71.08365 9.4e-4,-54.448132 -7.72033,-88.769488 -63.28711,-88.769488 -27.96144,0 -30.33779,35.347288 -35.65415,62.670169 -3.17601,16.323815 -6.17678,31.743389 -15.40467,40.971269 -21.97202,21.97297 -71.5183,83.34161 -91.67068,94.17848 -2.04059,0.85949 -20.64796,5.53627 -23.48745,6.07229 -5.38161,-7.79695 -14.37365,-16.90916 -24.56353,-16.90916 H 41.186454 c -16.47483,0 -29.830508,13.35568 -29.830508,29.83051 v 238.64407 c 0,16.47483 13.355678,29.83051 29.830508,29.83051 h 77.491526 c 16.4748,0 29.83048,-13.35568 29.83048,-29.83051 V 454.6661 c 30.29194,0 111.86076,39.98449 183.42415,39.96492 5.13178,0.003 35.09746,0.028 38.23246,0 55.26288,0.0131 86.00042,-33.45399 84.21059,-83.70534 14.10144,-16.52517 21.01093,-40.3989 16.98941,-62.55551 11.61152,-18.2022 14.1005,-43.87881 8.97526,-64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 285.683C506.583 272.809 512 256 512 235.468c-.001-37.674-32.073-72.571-72.727-72.571h-70.15c8.72-17.368 20.695-38.911 20.695-69.817C389.819 34.672 366.518 0 306.91 0c-29.995 0-41.126 37.918-46.829 67.228-3.407 17.511-6.626 34.052-16.525 43.951C219.986 134.75 184 192 162.382 203.625c-2.189.922-4.986 1.648-8.032 2.223C148.577 197.484 138.931 192 128 192H32c-17.673 0-32 14.327-32 32v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-8.74c32.495 0 100.687 40.747 177.455 40.726 5.505.003 37.65.03 41.013 0 59.282.014 92.255-35.887 90.335-89.793 15.127-17.727 22.539-43.337 18.225-67.105 12.456-19.526 15.126-47.07 9.628-69.405zM32 480V224h96v256H32zm424.017-203.648C472 288 472 336 450.41 347.017c13.522 22.76 1.352 53.216-15.015 61.996 8.293 52.54-18.961 70.606-57.212 70.974-3.312.03-37.247 0-40.727 0-72.929 0-134.742-40.727-177.455-40.727V235.625c37.708 0 72.305-67.939 106.183-101.818 30.545-30.545 20.363-81.454 40.727-101.817 50.909 0 50.909 35.517 50.909 61.091 0 42.189-30.545 61.09-30.545 101.817h111.999c22.73 0 40.627 20.364 40.727 40.727.099 20.363-8.001 36.375-23.984 40.727zM104 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))),n.createElement("div",{className:"artifact-feedback-icon",onClick:this.handleDownVote},n.createElement("svg",{className:l("thumbs-down-icon",{selected:this.props.artifactFeedback.vote<0}),height:"16",width:"16",viewBox:"0 0 512 512"},n.createElement("path",{className:"inside",d:"m 483.34082,230.3294 c 9.25397,12.00118 14.30373,27.67059 14.30373,46.81059 -9.3e-4,35.11983 -29.89856,61.65093 -67.79636,61.65093 h -79.39407 c 8.12882,16.19051 25.29194,42.27297 25.29194,71.08365 9.4e-4,54.44813 -7.72033,88.76949 -63.28711,88.76949 -27.96144,0 -30.33779,-35.34729 -35.65415,-62.67017 -3.17601,-16.32382 -6.17678,-31.74339 -15.40467,-40.97127 -21.97202,-21.97297 -71.51829,-83.34161 -91.67068,-94.17848 -2.04059,-0.85949 -20.64796,-5.53627 -23.48745,-6.07229 -5.38161,7.79695 11.70541,46.90916 -24.56353,46.90916 H 44.186955 c -16.47483,0 -29.83051,-13.35568 -29.83051,-29.83051 V 73.186427 c 0,-16.47483 13.35568,-29.83051 29.83051,-29.83051 h 77.491515 c 30.48189,-1.214223 29.83048,4.707489 29.83048,15.97797 30.29194,0 111.86076,-39.98449 183.42415,-39.96492 5.13178,-0.003 35.09746,-0.028 38.23246,0 55.26288,-0.0131 86.00042,33.45399 84.21059,83.705343 14.10144,16.52517 21.01093,40.3989 16.98941,62.55551 11.61152,18.2022 14.1005,43.87881 8.97526,64.69958 z"}),n.createElement("path",{className:"outline",d:"M496.656 226.317c5.498-22.336 2.828-49.88-9.627-69.405 4.314-23.768-3.099-49.377-18.225-67.105C470.724 35.902 437.75 0 378.468.014c-3.363-.03-35.508-.003-41.013 0C260.593-.007 195.917 40 160 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v256c0 17.673 14.327 32 32 32h96c17.673 0 32-14.327 32-32v-12.481c.85.266 1.653.549 2.382.856C184 320 219.986 377.25 243.556 400.82c9.9 9.9 13.118 26.44 16.525 43.951C265.784 474.082 276.915 512 306.91 512c59.608 0 82.909-34.672 82.909-93.08 0-30.906-11.975-52.449-20.695-69.817h70.15c40.654 0 72.726-34.896 72.727-72.571-.001-20.532-5.418-37.341-15.345-50.215zM128 320H32V64h96v256zm311.273-2.898H327.274c0 40.727 30.545 59.628 30.545 101.817 0 25.574 0 61.091-50.909 61.091-20.363-20.364-10.182-71.272-40.727-101.817-28.607-28.607-71.272-101.818-101.818-101.818H160V72.74h4.365c34.701 0 101.818-40.727 173.09-40.727 3.48 0 37.415-.03 40.727 0 38.251.368 65.505 18.434 57.212 70.974 16.367 8.78 28.538 39.235 15.015 61.996C472 176 472 224 456.017 235.648 472 240 480.1 256.012 480 276.375c-.1 20.364-17.997 40.727-40.727 40.727zM104 272c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"}))),n.createElement("div",{className:"artifact-feedback-icon",onClick:this.toggleOpenClose},n.createElement("i",{className:l("fa",{"fa-chevron-down":!this.state.isOpen,"fa-chevron-up":this.state.isOpen})}))))}toggleOpenClose(){this.setState({isOpen:!this.state.isOpen})}handleTextChange(e){this.setState({currentText:e.target.value})}handleSave(){this.props.artifactFeedback.isBeingSynced||this.props.store.submitArtifactFeedback(this.props.artifactFeedback,this.state.currentText).then(()=>{this.toggleOpenClose(),this.props.onSaveSuccess&&this.props.onSaveSuccess()}).catch(e=>{this.props.onSaveError&&this.props.onSaveError()})}handleKeyDown(e){const t=e.keyCode||e.which;13==t&&(e.metaKey||e.ctrlKey)?this.handleSave():27==t&&this.toggleOpenClose()}handleUpVote(){this.props.artifactFeedback.isBeingSynced||(this.props.store.voteOnArtifact(this.props.artifactFeedback,1==this.props.artifactFeedback.vote?0:1),""!=this.state.currentText||this.state.isOpen||this.toggleOpenClose())}handleDownVote(){this.props.artifactFeedback.isBeingSynced||(this.props.store.voteOnArtifact(this.props.artifactFeedback,-1==this.props.artifactFeedback.vote?0:-1),""!=this.state.currentText||this.state.isOpen||this.toggleOpenClose())}handleArtifactFeedbackChange(e){null!=e&&e.artifactId==this.props.artifactFeedback.artifactId&&(""==this.state.currentText&&""!=e.feedback?this.setState({currentText:e.feedback}):this.forceUpdate())}}var z=o(120),V=o(479),q=o(142);const Q=new class{getCurrentReadingPosition(e,t,o){const n=this.getHeadings(),r=this.getLastHeading(n);if(null==r)return null;let i="",s=t.location;if(null!=r){i=p.a.extractNumbering(r.textContent.trim());const e=r.textContent.trim();if(e){let t=e.trim(),o=p.a.extractNumbering(t);if(o){let e=o.split(".");i=e[0]+"."+(e[1]?`${e[1]}.`:"")}}}return Object.assign(Object.assign({},t),{userOwnsBook:o.userOwnsBook,isOpenChapter:o.isOpenChapter,manningId:o.manningId,meapVersion:o.meapVersion,bookShortName:o.bookShortName,sisterLicenseId:o.sisterLicenseId,associatedLicenseId:o.associatedLicenseId,location:s||t.location,sessionId:e,bookSectionNumber:i})}getScrollContainer(){return q.a.getScrollParent(document.querySelector(this.specifiedBookmarkupClass||".search-root .book-markup-container.livebook-viewer-content, .livebook-viewer-product-page-root .book-markup-container.livebook-viewer-content"))}getLastHeading(e){const t=this.getScrollContainer();if(null==t)return null;const o=t.scrollTop;for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.offsetTop<=o)return n}return e[0]}getHeadings(){const e=document.querySelectorAll(this.specifiedHeadingClass||".search-root .livebook-viewer-root h1, .search-root .livebook-viewer-root h2, .search-root .livebook-viewer-root h3, .search-root .livebook-viewer-root h4, .search-root .livebook-viewer-root h5, .livebook-viewer-product-page-root .livebook-viewer-root h1, .livebook-viewer-product-page-root .livebook-viewer-root h2, .livebook-viewer-product-page-root .livebook-viewer-root h3, .livebook-viewer-product-page-root .livebook-viewer-root h4, .livebook-viewer-product-page-root .livebook-viewer-root h5"),t=[];for(let o=0;o<e.length;o++){const n=e[o],r=n.textContent.trim(),i=n.parentElement;null!=i&&i.classList.contains("readable-text")&&(p.a.isChapterOrAppendix(r)||p.a.isSection(r)||p.a.isSubsection(r))&&t.push(i)}return t}emphasizeWords(e,t){const o=document.createElement("div");o.innerHTML=e;try{const e=o.querySelectorAll(".readable-text");for(let o=0;o<e.length;o++){const n=e[o],r=n.textContent.toLowerCase();for(const e of t)if(r.indexOf(e)>=0){this.highlightWord(n,e);break}}}catch(e){console.log(e)}return o.innerHTML}highlightWord(e,t){const o=q.a.getAllDescendantTextNodes(e),n=q.a.createTextNodeTextRanges(o);let r=this.getStartIndex(n.value,t),i=r+t.length;if(-1===r)return;const s=q.a.splitRanges(n,r,i);this.liftWordsInMatchingRanges(s.matchingRanges,r,i,"search-query-word")}liftWordsInMatchingRanges(e,t,o,n){for(let r=0,i=e.length;r<i;r++){const s=e[r],a=s.textNode.nodeValue;if(0==r){const e=t-s.start,r=o-s.start,i=a.substring(0,e),c=a.substring(e,r),l=a.substring(r,s.end);$(s.textNode).replaceWith(i+q.a.wrapToHtmlElement("span",{class:n},c)+l)}else if(r==i-1){const e=o-s.start,t=a.substring(0,e),r=a.substring(e,a.length);$(s.textNode).replaceWith(q.a.wrapToHtmlElement("span",{class:n},t)+r)}else $(s.textNode).replaceWith(q.a.wrapToHtmlElement("span",{class:n},a))}}getAllIndexesOf(e,t){let o,n=0;const r=[];for(;(o=e.indexOf(t,n))>-1;)r.push(o),n=o+t.length;return r}getStartIndex(e,t){const o=this.getAllIndexesOf(e,t);return 0==o.length?-1:(o.length,o[0])}extractDataFromUrl(e){const t=(e||"").indexOf("/point-");if(-1==t)return null;const o=e.substr(t).split("-");if(null==o)return null;const n=o[1];let r=null,i=this.getFirstPreviousIndexOf(e,"/",t);if(-1==i)return null;let s=e.substring(i,t);if(s.startsWith("/v-")){const t=s.match(/[0-9]+/);t&&(r=t[0]);let o=this.getFirstPreviousIndexOf(e,"/",i);s=e.substring(o,i)}return{bookElementShortName:s.replace("/",""),meapVersion:r,pointingLinkId:n}}getFirstPreviousIndexOf(e,t,o){for(let n=o-1;n>=0;n--)if(e[n]==t)return n;return-1}fixHtml(e,t,o,n){const r=`${t}//book/`;let i=(e||"").replace(/{{BOOK_ROOT_FOLDER}}/g,o).replace(/#!\/book\//g,"/book/").replace(/\/book\//g,r).replace(/([^:]\/)\/+/g,"$1");if(n){let e=new RegExp("(<h([0-9]).*>)Chapter( |&nbsp;)+[0-9.]+( |&nbsp;)+","gi");i=i.replace(e,"$1 "),e=new RegExp("(<h[0-9].*chapter.*>)[0-9.]+ ","gi"),i=i.replace(e,"$1 "),e=new RegExp("(<h([0-9]).*>)Lesson( |&nbsp;)+[0-9.]+( |&nbsp;)+","gi"),i=i.replace(e,"$1 "),e=new RegExp('<h([0-9]) id="(.*)">(<a id="ch[0-9]*lev[0-9]*sec[0-9]*__title"></a>)?[0-9.]+( |&nbsp;)+',"gi"),i=i.replace(e,'<h$1 id="$2">$3'),e=new RegExp("(<h[0-9] .*/a>)[0-9.]+( |&nbsp;)+","gi"),i=i.replace(e,"$1 "),e=new RegExp('<h([0-9]) id="(.*)">Appendix [0-9A-Z]+.( |&nbsp;)+',"gi"),i=i.replace(e,'<h$1 id="$2">'),e=new RegExp("(<h[0-9]*.*?)(figure)( |&nbsp;)+[0-9.]*( |&nbsp;)+","gi"),i=i.replace(e,"$1"),e=new RegExp("(figure)( |&nbsp;)+[0-9.]+","g"),i=i.replace(e,"this $1"),e=new RegExp("(Figure)( |&nbsp;)+[0-9.]+","g"),i=i.replace(e,"This figure"),e=new RegExp("(<h[0-9]*.*?)(listing) [0-9.]*( |&nbsp;)+","gi"),i=i.replace(e,"$1"),e=new RegExp("(listing)( |&nbsp;)*[0-9.]+","g"),i=i.replace(e,"this $1"),e=new RegExp("(Listing)( |&nbsp;)+[0-9.]+","g"),i=i.replace(e,"This listing"),e=new RegExp("(<h[0-9]*.*?)(table)( |&nbsp;)+[0-9.]*( |&nbsp;)+","gi"),i=i.replace(e,"$1"),e=new RegExp("(table)( |&nbsp;)+[0-9.]+","g"),i=i.replace(e,"this $1"),e=new RegExp("(Table)( |&nbsp;)+[0-9.]+","g"),i=i.replace(e,"This table"),e=new RegExp("(<a.*>)(part [0-9]+)(</a>)","g"),i=i.replace(e,"$1this part$3"),e=new RegExp("(<a.*>)(Part [0-9]+)(</a>)","g"),i=i.replace(e,"$1This part$3"),e=new RegExp("(<a.*>)(chapter [0-9]+)(</a>)","g"),i=i.replace(e,"$1this chapter$3"),e=new RegExp("(<a.*>)(Chapter [0-9]+)(</a>)","g"),i=i.replace(e,"$1This chapter$3"),e=new RegExp("(<a.*>)(appendix [0-9A-Z]*)(</a>)","g"),i=i.replace(e,"$1this appendix$3"),e=new RegExp("(<a.*>)(Chapter [0-9A-Z]*)(</a>)","g"),i=i.replace(e,"$1This appendix$3")}return i}};var K=o(117);class Y{constructor(e,t){this.config=w.c.getConfig(e,t),this.webUtils=new K.a(this.config)}logReading(e){document.visibilityState;console.log("Logging reading time",e,(new Date).toUTCString())}searchProduct(e,t){return new Promise((o,n)=>{let r="search.json";switch((e||"").toLowerCase()){case"es6":r="search-es6.json";break;case"language models":r="search-language-models.json";break;case"android":r="search-android.json"}this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/search/${r}`),e=>{e&&e.results&&e.results.length?o(e.results.filter(e=>e.productId==t)):n([])},e=>n(e),{query:e,product:t})})}getPointedLinkHtmlContent(e){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/livebookViewer/pointedLink.json"),t=>e(t),e=>t(e))})}getHtmlContent(e){return new Promise((t,o)=>{setTimeout(()=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/livebookViewer/scrambledBookElements/${e.slug}/${e.element}.html`),o=>t({result:o,isPdfPath:"grokking-simplicity"==e.slug,userOwnsBook:!1,meapVersion:e.meapVersion,associatedLicenseId:null,bookShortName:e.slug,isOpenChapter:!1,manningId:-1,sisterLicenseId:null}),e=>o(e),{},!1,!1,!1)},350)})}getUnscrambledParagraphs(e,t){return new Promise((o,n)=>{setTimeout(()=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/livebookViewer/bookElements/${e.slug}/${e.element}.html`),e=>{const n=document.createElement("template");n.innerHTML=e;const r=[];for(const e of t){const t=n.content.querySelector(`[refid='${e}']`);null!=t&&r.push({content:t.innerHTML,paragraphID:t.getAttribute("refid"),hashID:t.getAttribute("data-hash")})}o(r)},e=>n(e),{},!0,!0,!1)},350)})}getToc(e){return e?new Promise((t,o)=>{setTimeout(()=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/toc/${e}.html`),e=>{e.toc?t(e.toc):t(e)},e=>o(e),{},!1,!1,!1)},250)}):Promise.reject("Empty product id")}}var G=o(215);let X=!1;class Z{constructor(e,t){this.sourceApp=e,this.config=w.c.getConfig(e,t),this.webUtils=new K.a(this.config)}logReading(e){if(X)return;if(!("visible"==document.visibilityState))return;let t="/api/events/view";this.sourceApp!=w.b.pbc&&this.sourceApp!=w.b.livevideo||(t="/livebookViewer/view"),X=!0,this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(t),e=>{X=!1},e=>{X=!1},e,!1,!0)}searchProduct(e,t){return new Promise((o,n)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/livebookViewer/search"),e=>{e&&e.results&&e.results.length?o(e.results.filter(e=>e.productId==t)):n([])},e=>n(e),{query:e,product:t})})}getPointedLinkHtmlContent(e){const t=Q.extractDataFromUrl(e);return null==t?Promise.reject():new Promise((e,o)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendLivebookUrl("/api/pointing/getPointedContentHTML"),t=>e(t),e=>o(e),t,!1,!0)})}getHtmlContent(e){return new Promise((t,o)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/livebookViewer/getBookElementHtml"),e=>{let n,r,i=!1,s=!1,a=0,c=0,l="";if(e){i=!(!e.book||!e.book.userOwnsBook),s=!(!e.bookElement||!e.bookElement.isOpen),a=null!=e.book?e.book.manningId:0,c=null!=e.bookElement?e.bookElement.meapVersion:0,l=null!=e.book?e.book.shortName:"",n=null!=e.book?e.book.sisterLicenseId:null,r=null!=e.book?e.book.associatedLicenseId:null;const u=!(!e.bookElement||!e.bookElement.pdf);if(e.content)return void t({result:e.content,isPdfPath:u,userOwnsBook:i,isOpenChapter:s,manningId:a,meapVersion:c,bookShortName:l,sisterLicenseId:n,associatedLicenseId:r});if(e.link)return void this.webUtils.ajax(e.link,e=>{t({result:e,isPdfPath:u,userOwnsBook:i,isOpenChapter:s,manningId:a,meapVersion:c,bookShortName:l,sisterLicenseId:n,associatedLicenseId:r})},e=>o(e));if(e.bookElement){if(e.bookElement.contentUrl&&!u)return void K.a.getS3FileContent(e.bookElement.contentUrl,e=>{t({result:e,isPdfPath:!1,userOwnsBook:i,isOpenChapter:s,manningId:a,meapVersion:c,bookShortName:l,sisterLicenseId:n,associatedLicenseId:r})},e=>o(e));if(e.bookElement.contentUrl&&u)return void t({result:e.bookElement.contentUrl,isPdfPath:!0,userOwnsBook:i,isOpenChapter:s,manningId:a,meapVersion:c,bookShortName:l,sisterLicenseId:n,associatedLicenseId:r});if(e.bookElement.content)return void t({result:e.bookElement.content,isPdfPath:u,userOwnsBook:i,isOpenChapter:s,manningId:a,meapVersion:c,bookShortName:l,sisterLicenseId:n,associatedLicenseId:r})}}o()},e=>o(e),{bookSlug:e.slug,bookElementShortName:e.element,meapVersion:e.meapVersion},!1,!0)})}getUnscrambledParagraphs(e,t){return new Promise((o,n)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/livebookViewer/unscrambleParagraphs"),e=>{e&&e.success&&e.unlockedParagraphs?o(e.unlockedParagraphs):e&&!e.success&&"Cannot free preview anymore"==e.reason?n(e):o([])},e=>n(e),{bookSlug:e.slug,bookElementShortName:e.element,meapVersion:e.meapVersion,paragraphIds:(t||[]).join(","),timezone:this.getTimezone()},!1,!0)})}getToc(e){return G.a.getProductToc(this.webUtils,e,!0,!1)}getTimezone(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return""}}}class J{constructor(e,t){this.config=t,this.provider=e}static createProvider(e,t){return e==w.b.demo?new Y(e,t):new Z(e,t)}searchProduct(e,t){return null!=this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this.searchPromise=Object(V.cancelable)(new Promise((o,n)=>{this.provider.searchProduct(e,t).then(e=>{const t=[],n={},r={};for(const o of e)if(!r[o.text]){if(!n[o.elementTitle]){const e={elementIndex:p.a.extractBookElementIndex(o.elementTitle),elementTitle:p.a.cleanBookElementTitle(o.elementTitle),elementLink:o.elementLink,results:[]};t.push(e),n[o.elementTitle]=e}n[o.elementTitle].results.push(o),r[o.text]=!0}t.sort((e,t)=>p.a.compareBookItemIndexes(e.elementTitle,t.elementTitle)),o(t)}).catch(e=>n(e))})),this.searchPromise}getHtmlContent(e){return this.provider.getHtmlContent(e)}getPointedLinkHtmlContent(e){return this.provider.getPointedLinkHtmlContent(e)}getToc(e){return this.provider.getToc(e)}getUnscrambledParagraphs(e,t){return new Promise((o,n)=>{this.provider.getUnscrambledParagraphs(e,t).then(e=>{for(const t of e)t.content=Q.fixHtml(t.content,this.config.client.livebook,this.config.aws.livebook,!1);o(e)}).catch(e=>n(e))})}logReading(e){this.provider.logReading(e)}}var ee,te=new Uint8Array(16);function oe(){if(!ee&&!(ee="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ee(te)}var ne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var re=function(e){return"string"==typeof e&&ne.test(e)},ie=[],se=0;se<256;++se)ie.push((se+256).toString(16).substr(1));var ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]).toLowerCase();if(!re(o))throw TypeError("Stringified UUID is invalid");return o};var ce=function(e,t,o){var n=(e=e||{}).random||(e.rng||oe)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return ae(n)};const le=new class{constructor(){this.readLoggingInterval=3e4,this.idleInterval=3e5,this.isIdle=!1,this.numIdledRequests=0,this.logReading=this.logReading.bind(this),this.handleAction=this.handleAction.bind(this),this.maxIdledRequests=this.idleInterval/this.readLoggingInterval}onSendLogRequest(e){this.sendLogRequestCallback=e}trackBasedOnChapterLocation(e,t){this.userAgentMatchesBot()||null==e||(null!=this.livebookLocation&&this.livebookLocation.slug==e.slug||(this.sessionId=ce()),this.isIdle=!1,this.livebookLocation=e,this.livebookReadingLogBaseInfo=t,this.logReading(),this.subscribeToActionEvents())}clear(){this.isIdle=!0,this.unsubscribeFromActionEvents(),clearTimeout(this.bookReadLogTimer),this.livebookLocation=null,this.livebookReadingLogBaseInfo=null}logReading(){if(null==this.livebookLocation||!q.a.isDocumentVisible())return void(this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval));if(this.isIdle&&(this.numIdledRequests++,this.numIdledRequests>=this.maxIdledRequests))return void(this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval));this.isIdle=!0;const e=Q.getCurrentReadingPosition(this.sessionId,this.livebookLocation,this.livebookReadingLogBaseInfo);null!=e&&this.sendLogRequestCallback&&this.sendLogRequestCallback(e),this.bookReadLogTimer=setTimeout(this.logReading,this.readLoggingInterval)}handleAction(){this.isIdle=!1,this.numIdledRequests=0}userAgentMatchesBot(){return/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)}subscribeToActionEvents(){this.unsubscribeFromActionEvents(),document.addEventListener("mousemove",this.handleAction,{passive:!0}),document.addEventListener("touchmove",this.handleAction,{passive:!0})}unsubscribeFromActionEvents(){document.removeEventListener("mousemove",this.handleAction),document.removeEventListener("touchmove",this.handleAction)}};var ue,de;!function(e){e[e.LoadingToc=0]="LoadingToc",e[e.ShowingToc=1]="ShowingToc",e[e.LoadingSearch=2]="LoadingSearch",e[e.ShowingSearch=3]="ShowingSearch"}(ue||(ue={})),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.ShowingHtml=2]="ShowingHtml",e[e.ShowingPdf=3]="ShowingPdf",e[e.ShowingError=4]="ShowingError"}(de||(de={}));class he{constructor(e,t,o,n=!1){this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.sourceApp=e,this.deploymentType=t,this.config=w.c.getConfig(this.sourceApp,this.deploymentType),this.provider=new J(o,this.config),this.changeEmitter=new z,this.excerptInfo=null,this.scrollToRefId="",this.handleLoadChapterRequest=this.handleLoadChapterRequest.bind(this),this.trackReadingTime=n,this.trackReadingTime&&le.onSendLogRequest(e=>{e&&this.provider.logReading(e)})}onChange(e){this.changeEmitter.addListener("change",e)}offChange(e){this.changeEmitter.removeListener("change",e)}onOutsideQuerySet(e){this.changeEmitter.addListener("outsideQuerySet",e)}offOutsideQuerySet(e){this.changeEmitter.removeListener("outsideQuerySet",e)}triggerOutsideQuerySet(e){this.changeEmitter.emit("outsideQuerySet",e)}onMenuInfoChange(e){this.changeEmitter.addListener("menuInfoChange",e)}offMenuInfoChange(e){this.changeEmitter.removeListener("menuInfoChange",e)}onViewInCart(e){this.changeEmitter.addListener("viewInCart",e)}onAddToCart(e){this.changeEmitter.addListener("addToCart",e)}onClose(e){this.changeEmitter.addListener("close",e)}onFreePreviewStateChange(e){this.changeEmitter.addListener("freePreview",e)}triggerChange(){this.changeEmitter.emit("change")}triggerMenuInfoChange(){this.changeEmitter.emit("menuInfoChange")}changeFreePreviewState(e){this.isFreePreviewRunning=e,this.changeEmitter.emit("freePreview")}viewInCart(){this.changeEmitter.emit("viewInCart")}addToCart(){this.changeEmitter.emit("addToCart")}closeLivebookViewer(){this.changeEmitter.emit("close")}loadLivebookLink(e,t){const o=p.a.getRouteInfo(e);null!=o&&this.loadChapterInFreePreview({slug:o.slug,elementTitle:t,element:o.bookElement,location:o.refId},this.getSearchEmphasizedWords(),o.refId)}handleLoadChapterRequest(e,t,o=!1){this.loadChapterInFreePreview(e,this.getSearchEmphasizedWords(),t,o)}setProductInfo(e){this.productInfo=e,this.triggerMenuInfoChange()}setAsLoading(e=""){this.contentPhase=de.Loading,this.html="",this.pdfPath="",this.excerptInfo=null,this.artifactFeedback=null,this.title=e,this.triggerChange()}showHtml(e){this.contentPhase=de.ShowingHtml,this.html=e,this.excerptInfo=null,this.artifactFeedback=null,this.title="",this.scrollToRefId="",this.cancelCurrentFetch(),this.triggerChange()}searchCurrentProduct(e){this.productInfo&&this.productInfo.externalId&&(this.menuPhase=ue.LoadingSearch,this.searchResults=[],this.provider.searchProduct(e,this.productInfo.externalId).then(e=>{if(this.menuPhase=ue.ShowingSearch,this.searchResults=e,this.triggerMenuInfoChange(),null!=this.searchResults&&this.searchResults.length&&this.searchResults[0].results&&this.searchResults[0].results.length){const e=this.searchResults[0].results[0],t=p.a.getRouteInfo(e.link);null!=t&&this.loadChapterInFreePreview({slug:t.slug,element:t.bookElement,elementTitle:e.elementTitle,location:t.refId},this.getSearchEmphasizedWords(),t.refId,!0)}}).catch(e=>{this.menuPhase=ue.ShowingToc,this.triggerMenuInfoChange()}),this.triggerMenuInfoChange())}clearSearch(){this.searchResults=null,this.menuPhase=ue.ShowingToc,this.triggerMenuInfoChange();try{(0,window.$)(".livebook-viewer-root .search-query-word").removeClass("search-query-word")}catch(e){}}getUnscrambledParagraphs(e){return e&&0!=e.length?(this.cancelCurrentUnscramble(),this.unscramblePromise=Object(V.cancelable)(this.provider.getUnscrambledParagraphs(this.lastChapterLocation,e)),this.unscramblePromise):Promise.resolve([])}loadPointedLinkHtml(e){e&&this.lastPointingLink!=e&&(this.contentPhase=de.Loading,this.html="",this.scrollToRefId="",this.lastPointingLink=e,this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.cancelCurrentFetch(),this.dataFetchPromise=Object(V.cancelable)(this.provider.getPointedLinkHtmlContent(e).then(e=>{this.contentPhase=de.ShowingHtml,this.html=Q.fixHtml(e.html,this.config.client.livebook,this.config.aws.livebook,!0),this.excerptInfo=e.excerptInfo,this.dataFetchPromise=null,this.title="",this.triggerChange(),this.onBookDetailsArrived&&e.excerptInfo&&this.onBookDetailsArrived(e.excerptInfo)}).catch(e=>{this.html='<div class="readable-text" refid="1" id="1">\n                            <h1 id="ch01">Error loading content</h1>\n                        </div>\n                        <div class="readable-text" refid="2" id="2">\n                            <p>Unfortunately, there was an error loading this chapter. The problem has been reported and we\'ll fix it as soon as possible. Try reloading the page later.</a>.</p>\n                        </div> ',this.contentPhase=de.ShowingError,this.lastPointingLink=null,this.dataFetchPromise=null,this.title="",this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.triggerChange(),this.onPointingErrorFailure&&this.onPointingErrorFailure()})),this.triggerChange())}loadToc(e){this.menuPhase=ue.LoadingToc,this.provider.getToc(e).then(e=>{this.menuPhase=ue.ShowingToc,this.toc=e,this.triggerMenuInfoChange()}).catch(e=>{this.menuPhase=ue.ShowingToc,this.toc=null,this.triggerMenuInfoChange()})}loadChapterInFreePreview(e,t=[],o="",n=!1){if(!e||!e.slug||!e.element)return null;if(null!=this.lastChapterLocation&&this.lastChapterLocation.slug==e.slug&&this.lastChapterLocation.element==e.element&&this.lastChapterLocation.meapVersion==e.meapVersion&&!n)return this.isDesktopWidth()&&(this.scrollToRefId=o),void this.triggerChange();this.contentPhase=de.Loading,this.html="",this.title=e.elementTitle,this.lastPointingLink=null,this.isDesktopWidth()&&(this.scrollToRefId=o),this.isFreePreviewRunning=!0,this.cancelCurrentFetch(),this.stopReadTracking();const r=()=>{console.log("Couldn't load chapters"),this.html=`<div class="readable-text" refid="1" id="1">\n                            <h1 id="ch01">${e.elementTitle}</h1>\n                        </div>\n                        <div class="readable-text" refid="2" id="2">\n                            <p>Unfortunately, there was an error loading this chapter. You can go directly to the <a href="https://livebook.manning.com/book/${e.slug}/${e.element}">livebook chapter</a> or learn more about <a href="https://www.manning.com/books/${e.slug}">this book</a>.</p>\n                        </div> `,this.contentPhase=de.ShowingError,this.dataFetchPromise=null,this.title="",this.lastChapterLocation=null,this.lastReadingLogBaseInfo=null,this.triggerChange(),this.stopReadTracking()};this.dataFetchPromise=Object(V.cancelable)(this.provider.getHtmlContent(e).then(o=>{if(o&&o.isPdfPath)this.contentPhase=de.ShowingPdf,this.pdfPath=o.result,this.html="",this.excerptInfo=null,this.dataFetchPromise=null,this.artifactFeedback=null,this.title="",this.lastChapterLocation=e,this.lastReadingLogBaseInfo=o,this.triggerChange();else{const n=null!=o?o.result:"";try{if(n&&0==n.indexOf('<?xml version="1.0" encoding="UTF-8"?>')&&n.indexOf("<Error><Code>AccessDenied</Code><Message>Access Denied</Message>")>0)return void r()}catch(e){}this.contentPhase=de.ShowingHtml,this.html=Q.fixHtml(n,this.config.client.livebook,this.config.aws.livebook,!1),t&&t.length&&(this.html=Q.emphasizeWords(this.html,t)),this.excerptInfo=null,this.dataFetchPromise=null,this.artifactFeedback=null,this.title="",this.lastChapterLocation=e,this.lastReadingLogBaseInfo=o,this.triggerChange(),this.trackReading()}}).catch(e=>r())),this.triggerChange()}trackReading(){null!=this.lastChapterLocation&&this.trackReadingTime&&le.trackBasedOnChapterLocation(this.lastChapterLocation,this.lastReadingLogBaseInfo)}stopReadTracking(){this.trackReadingTime&&le.clear()}setArtifactFeedback(e){this.artifactFeedback=e,this.triggerChange()}cancelCurrentFetch(){this.dataFetchPromise&&this.dataFetchPromise.cancel&&this.dataFetchPromise.cancel(),this.dataFetchPromise=null}cancelCurrentUnscramble(){this.unscramblePromise&&this.unscramblePromise.cancel&&this.unscramblePromise.cancel(),this.unscramblePromise=null}isDesktopWidth(){return window.innerWidth>950}getSearchEmphasizedWords(){if(null==this.searchResults||0==this.searchResults.length)return[];const e={};for(const t of this.searchResults)for(const o of t.results){const t=o.text.indexOf("<strong class='search-result'>");if(-1==t)continue;const n=o.text.indexOf("</strong>",t);-1!=n&&(e[o.text.substring(t+"<strong class='search-result'>".length,n).toLowerCase()]=!0)}const t=[];for(const o in e)t.push(o);return t.sort((e,t)=>t.length-e.length)}}var pe=o(480);var ge=new class{constructor(){this.windowResizeStopEmitter=new z,this.handleWindowResize()}registerResizeStartCallback(e){this.windowResizeStopEmitter.addListener("resizestart",e)}unregisterResizeStartCallback(e){this.windowResizeStopEmitter.removeListener("resizestart",e)}registerResizeEndCallback(e){this.windowResizeStopEmitter.addListener("resizestop",e)}unregisterResizeEndCallback(e){this.windowResizeStopEmitter.removeListener("resizestop",e)}handleWindowResize(){window.addEventListener("resize",()=>{clearTimeout(this.resizeEndTimeout),this.windowResizeStopEmitter.emit("resizestart"),this.resizeEndTimeout=setTimeout(()=>{this.windowResizeStopEmitter.emit("resizestop")},200)})}handleContainerScroll(e){const t=e.currentTarget,o=e.wheelDelta||-e.detail,n=parseFloat(window.getComputedStyle(t).height),r=t.scrollTop+n-t.scrollHeight>=0,i=t.scrollTop<=0;if(o<0&&r||o>0&&i){const t=e.deltaX||e.wheelDeltaX,o=e.deltaY||e.wheelDeltaY;if(null!=t&&null!=o&&Math.abs(t)>Math.abs(o))return;e.preventDefault()}else;}handleDragScroll(e){let t=!1,o=0,n=0;if(e.hasDragEvents)return;const r=r=>{if(t){Math.abs(n-r.pageX)>=Math.abs(o-r.pageY)?e.scrollLeft+=.1*(n-r.pageX):e.scrollTop+=.1*(o-r.pageY)}},i=()=>{t=!1,e.removeEventListener("mousemove",r)},s=i=>{t=!0,o=i.pageY,n=i.pageX,e.addEventListener("mousemove",r)};e.addEventListener("mousedown",s),e.addEventListener("mouseup",i),e.addEventListener("mouseleave",i),e.hasDragEvents=!0,e.mousedownHandler=s,e.mouseupleaveHandler=i}removeDragScrollEvents(e){e&&e.hasDragEvents&&(e.mousedownHandler&&e.removeEventListener("mousedown",e.mousedownHandler),e.mouseupleaveHandler&&(e.removeEventListener("mouseup",e.mouseupleaveHandler),e.removeEventListener("mouseleave",e.mouseupleaveHandler)),e.hasDragEvents=!1,delete e.hasDragEvents)}},me=o(817);const fe=/^\#([A-Z]|\d{1,2}):?\s+-?/,be=/#([0-9]{1,2}|[A-Z])\s*$/,ve=/group([0-9]{1,2}|[A-Z])/;class we{constructor(e){if(null==e||e.classList.contains("processed-listing"))return;let t="";this.handleAnnotationClick=this.handleAnnotationClick.bind(this),this.handleAnnotationMouseEnter=this.handleAnnotationMouseEnter.bind(this),this.handleAnnotationMouseLeave=this.handleAnnotationMouseLeave.bind(this),this.handleLineClick=this.handleLineClick.bind(this),this.handleLineContainerMouseEnter=this.handleLineContainerMouseEnter.bind(this),this.handleLineContainerMouseLeave=this.handleLineContainerMouseLeave.bind(this),this.codeArea=e.querySelector(".code-area"),this.codeArea&&(t=(this.codeArea.value||this.codeArea.textContent).trim()),this.rawSourceCode=t,this.listingContainer=e,this.listingContainer.annotatedListing=this,this.sourceLines=[],this.source="",this.annotations={},this.annotatedLines=[],this.references=[],this.annotationsLinesMap={},this.styles=[],this.createCodeAnnotationContainer(),this.createListingEnvironment(),this.highlightCodeArea(),this.handleClick=this.handleClick.bind(this),document.addEventListener("click",this.handleClick),e.classList.add("processed-listing")}clean(){this.unsubscribeEvents(),this.listingContainer=null,this.codeArea=null,this.annotations=null,this.annotatedLines=null,this.annotationsLinesMap=null}clearCodeHighligths(){const e=this.listingContainer.querySelectorAll(".listing-line-group");q.a.removeClassFromElements(e,"selected"),q.a.removeClassFromElements(e,"highlighted"),q.a.removeClassFromElements(e,"pre-selected"),q.a.removeClassFromElements(this.listingContainer.querySelectorAll(".hovered"),"hovered")}createCodeAnnotationContainer(){this.codeAnnotationContainer=document.createElement("div"),this.codeAnnotationContainer.classList.add("code-annotation-container"),this.codeAnnotationContainer.innerHTML="<div class='annotation-description'></div>",this.codeArea.parentElement.appendChild(this.codeAnnotationContainer)}createListingEnvironment(){if(null!=this.listingContainer.querySelector(".listing-environment-container"))return;const e=document.createElement("div");e.classList.add("listing-environment-container"),e.innerHTML='\n            <div class="listing-environment-toolbar" style="display:none;">\n                <span data-tooltip class="button-copy button radius clickable-link-like">copy</span>\n                <span class="listing-environment-toolbar-message-container"></span>\n            </div>\n        ',this.listingContainer.appendChild(e),this.createClipboard()}createClipboard(){try{const e=this.listingContainer.querySelector(".listing-environment-toolbar");if(me.isSupported()){e.style.display="inline-block";const t=new me(this.listingContainer.querySelector(".button-copy"),{text:()=>this.source});t.on("success",e=>{this.showMessageOnCopyButton("copied!"),e.clearSelection(),document.activeElement.blur()}),t.on("error",e=>{this.showMessageOnCopyButton("error"),document.activeElement.blur()})}}catch(e){}}showMessageOnCopyButton(e){const t=this.listingContainer.querySelector(".listing-environment-toolbar-message-container");t.textContent=e,setTimeout(()=>{t.textContent=""},1e3)}highlightCodeArea(){if(this.codeArea&&this.codeArea.classList&&this.codeArea.classList.contains("highlighted"))return;this.processLines(),this.buildReferenceAnnotatedLinesMap();const e=(this.source||"").replace(/\r/g,"").trim(),t=document.createElement("pre");t.classList.add("code-area");const o=document.createElement("code");o.classList.add("hljs"),o.textContent=e,t.appendChild(o),this.codeArea.parentNode.replaceChild(t,this.codeArea),this.codeArea=t,this.codeArea.classList.add("highlighted"),this.createLineNumbers(),this.createAnnotationsAndLines()}processLines(){if(!this.rawSourceCode)return;let e=this.rawSourceCode.trim();const t=this.listingContainer.querySelector(".code-annotations-overlay-container");t&&t.getAttribute("data-annotations")&&(e+="\n"+atob(t.getAttribute("data-annotations")));const o=e.split(/\r\n|\r|\n/g);let n,r=!1,i=!1,s=!1;for(let e=0;e<o.length;e++){const t=o[e];if(s=t.indexOf("!@%STYLE%@!")>-1,r&&!s);else{const o=t.trim(),r=t.match(fe),a=o.match(fe);r||a?(i=!0,null!=r&&r.length>=2?(n=r[1],this.annotations[n]={reference:n,descriptions:[t.substr(r[0].length).replace(/^:(\s)+/,"")]}):null!=a&&a.length>=2&&(n=a[1],this.annotations[n]={reference:n,descriptions:[o.substr(a[0].length).replace(/^:(\s)+/,"")]})):i&&n&&this.annotations[n]&&t.trim()?this.annotations[n].descriptions.push(t.trim().replace("!@%STYLE%@!","")):s||(this.sourceLines.push(t),this.annotatedLines.push({line:t,lineNumber:e,annotation:null,annotationElement:null}))}t.indexOf("!@%STYLE%@!")>-1&&(r=!r)}for(const e in this.annotations)this.annotations[e].description=this.annotations[e].descriptions.join(" ").trim();for(let e=0;e<this.sourceLines.length;e++){const t=this.sourceLines[e],o=t.match(be);if(o){const n=o[1];this.sourceLines[e]=f.a.trimEnd(t.substr(0,t.indexOf(o[0]))),this.annotations[n]||(this.annotations[n]={reference:n,description:""}),this.annotatedLines[e].annotation=this.annotations[n]}}this.source=this.sourceLines.join("\r\n")}buildReferenceAnnotatedLinesMap(){this.annotationsLinesMap={};for(let e=0;e<this.annotatedLines.length;e++){const t=this.annotatedLines[e],o=t.annotation;if(!o)continue;const n=o.reference;this.annotationsLinesMap[n]||(this.annotationsLinesMap[n]={annotatedLines:[],groups:[]}),this.annotationsLinesMap[n].annotatedLines.push(t)}for(let e in this.annotationsLinesMap){if(!this.annotationsLinesMap.hasOwnProperty(e))continue;const t=this.annotationsLinesMap[e],o=t.annotatedLines,n=t.groups=[];if(o.length<=0)continue;if(1===o.length){n.push([o[0]]);continue}const r=[];for(let e=0;e<o.length-1;e++){const t=o[e],n=o[e+1];let i=[];for(let e=t.lineNumber+1;e<n.lineNumber;e++){const t=this.annotatedLines[e];if(t){if(t.annotation){i=[];break}i.push(t)}}for(let e=0;e<i.length;e++)i[e].annotation=t.annotation;r.push(...i)}o.push(...r),o.sort((e,t)=>e.lineNumber-t.lineNumber),n.push([o[0]]);for(let e=1;e<o.length;e++){const t=o[e-1],r=o[e];t.lineNumber+1===r.lineNumber?n[n.length-1].push(r):n.push([r])}}}createLineNumbers(){const e=this.getCountLines(this.source);if(e>0){let t="";for(let o=0;o<e;o++)t+=`<div class="line-number line-number-${o+1}">${o+1}</div>`;const o=document.createElement("code");o.classList.add("hljs"),o.classList.add("hljs-line-numbers"),o.style.cssFloat="left",o.innerHTML=t,this.codeArea.insertBefore(o,this.codeArea.children[0])}}getCountLines(e){return 0===e.length?0:e.trim().split(/\r\n|\r|\n/g).length}createAnnotationsAndLines(){if(!this.listingContainer)return;const e=this.listingContainer.querySelector(".code-annotations-overlay-container");let t="";const o={};for(let e in this.annotationsLinesMap){const t=this.annotationsLinesMap[e];o[e]={};for(let n=0;n<t.groups.length;n++){const r=t.groups[n],i=r[0],s=r[r.length-1],a=this.codeArea.querySelector(`.line-number-${i.lineNumber+1}`),c=this.codeArea.querySelector(`.line-number-${s.lineNumber+1}`);null!=a&&null!=c?o[e][n]={firstLineOffset:q.a.getElementPosition(a).top,lastLineEnd:q.a.getElementPosition(c).top+q.a.getElementOuterHeight(c)}:console.log("Couldn't build all lines in listing",this.source)}}for(let n in this.annotationsLinesMap){const r=this.annotationsLinesMap[n],i=r.annotatedLines[0].annotation;for(let s=0;s<r.groups.length;s++){const a=r.groups[s];a[0],a[a.length-1];if(!o[n])continue;const c=o[n][s];if(!c)continue;t+=`<div class="line-container listing-line-group group${n}" \n                                   style="top: ${c.firstLineOffset}px; height:${c.lastLineEnd-c.firstLineOffset+1}px"></div>`;const l=document.createElement("div");l.classList.add("annotation-container"),l.setAttribute("title",i.description),l.style.top=`${c.firstLineOffset}px`,l.style.height=`${c.lastLineEnd-c.firstLineOffset+1}px`,l.innerHTML=`<span class='annotation-label'>${i.reference}</span>`,e.appendChild(l),i.labels||(i.labels=[]),i.labels.push(l);for(let e=0;e<a.length;e++)a[e].annotationElement=l}}const n=document.createElement("div");n.innerHTML=t;for(let e=n.children.length-1;e>=0;e--)this.codeArea.insertBefore(n.children[e],this.codeArea.children[0]);this.registerAnnotationEvents()}registerAnnotationEvents(){const e=this.listingContainer.querySelector(".code-annotations-overlay-container");if(null!=e){const t=e.children;for(let e=0;e<t.length;e++)t[e].addEventListener("click",this.handleAnnotationClick),t[e].addEventListener("mouseenter",this.handleAnnotationMouseEnter),t[e].addEventListener("mouseleave",this.handleAnnotationMouseLeave)}const t=this.listingContainer.querySelectorAll(".line-container");for(let e=0;e<t.length;e++)t[e].addEventListener("click",this.handleLineClick),t[e].addEventListener("mouseenter",this.handleLineContainerMouseEnter),t[e].addEventListener("mouseleave",this.handleLineContainerMouseLeave)}handleAnnotationClick(e){this.goToAnimationStep(e.currentTarget.textContent.trim(),!1,e.currentTarget)}handleLineClick(e){const t=this.getLineGroupReference(e.currentTarget);t&&this.goToAnimationStep(t)}handleLineContainerMouseEnter(e){this.handleLineWrapperEnter(e.currentTarget)}handleLineContainerMouseLeave(e){this.handleLineWrapperLeave(e.currentTarget)}handleAnnotationMouseEnter(e){const t=e.currentTarget;if(t.classList.contains("selected"))return;const o=this.getWholeLineGroup(t);null!=o&&this.handleLineWrapperEnter(o[0])}handleAnnotationMouseLeave(e){const t=e.currentTarget;if(t.classList.contains("selected"))return;const o=this.getWholeLineGroup(t);null!=o&&this.handleLineWrapperLeave(o[0])}getLineGroupReference(e){const t=this.getLineGroupClassMatch(e);return t?t[1]:""}getLineGroupClass(e){const t=this.getLineGroupClassMatch(e);return t?t[0]:""}getLineGroupClassMatch(e){if(!e)return null;const t=e.className.match(ve);return t&&t.length>=2?t:null}handleLineWrapperLeave(e){const t=this.getLineGroupClass(e);if(!t)return;q.a.removeClassFromElements(this.listingContainer.querySelectorAll("."+t),"highlighted");const o=this.getLineGroupReference(e);this.annotations[o]&&q.a.removeClassFromElements(this.listingContainer.querySelectorAll(".hovered"),"hovered")}removeHighlighted(e){if(!e)return;const t=e.querySelectorAll(".listing-line-group.highlighted");0!=t.length&&this.handleLineWrapperLeave(t[0])}handleLineWrapperEnter(e){this.removeHighlighted(this.listingContainer),this.getLineGroupClass(e)&&(e.classList.contains("selected")||this.highlight(this.getLineGroupReference(e)))}getWholeLineGroup(e){return e?this.listingContainer.querySelectorAll(".group"+e.textContent.trim()):null}goToAnimationStep(e,t=!1,o=null){const n=this.annotations[e];if(!n)return;this.hideAnnotations();const r=n.labels;this.showTip(r[0],this.codeAnnotationContainer,o);const i=this.listingContainer.querySelectorAll(".group"+e);q.a.addClassToElements(i,"selected")}unsubscribeEvents(){const e=this.listingContainer.querySelector(".code-annotations-overlay-container");if(null!=e){const t=e.children;for(let e=0;e<t.length;e++)t[e].removeEventListener("click",this.handleAnnotationClick),t[e].removeEventListener("mouseenter",this.handleAnnotationMouseEnter),t[e].removeEventListener("mouseleave",this.handleAnnotationMouseLeave)}const t=this.listingContainer.querySelectorAll(".line-container");for(let e=0;e<t.length;e++)t[e].removeEventListener("click",this.handleLineClick),t[e].removeEventListener("mouseenter",this.handleLineContainerMouseEnter),t[e].removeEventListener("mouseleave",this.handleLineContainerMouseLeave);document.removeEventListener("click",this.handleClick)}highlight(e){q.a.addClassToElements(this.listingContainer.querySelectorAll(".group"+e),"highlighted");const t=this.annotations[e];t&&q.a.addClassToElements(t.labels,"hovered")}showTip(e,t,o){if(!e)return;const n=e.getAttribute("title"),r=t.querySelector(".annotation-description");r.textContent=n,r.style.width="auto";let i={left:e.offsetLeft,top:e.offsetTop};q.a.addClassToElement(t,"shown"),q.a.addClassToElement(t,"show-tip"),q.a.addClassToElement(e,"selected"),q.a.addClassToElement(e,"show-tip"),q.a.addClassToElement(t,"vertical"),q.a.addClassToElement(e,"vertical"),i.top=e.offsetTop,t.style.left="50%",t.style.right="unset",t.style.transform="translate(-50%, -110%)",t.style.minHeight=e.offsetHeight+"px",t.style.top=i.top+"px"}hideAnnotations(){q.a.removeClassFromElements(this.listingContainer.querySelectorAll(".annotation-container.selected, .listing-line-group.selected"),"selected"),q.a.removeClassFromElements(this.listingContainer.querySelectorAll(".annotation-container.show-tip"),"show-tip");const e=this.listingContainer.querySelectorAll(".code-annotation-container");q.a.removeClassFromElements(e,"show-tip"),q.a.removeClassFromElements(e,"shown")}handleClick(e){q.a.closest(e.target,".browsable-container")!=this.listingContainer&&this.hideAnnotations()}}class ye{constructor(e=null){this.handleResize=this.handleResize.bind(this),this.annotatedCodeListings=[];const t=(e||document).querySelectorAll(".listing-container, .browsable-container, .term-viewer-html-content");for(let e=0;e<t.length;e++){const o=t[e];(o.classList.contains("listing-container")||null!=o.querySelector(".code-area-container"))&&this.annotatedCodeListings.push(new we(o))}ge.registerResizeStartCallback(this.handleResize)}clean(){this.hideAll(),this.annotatedCodeListings&&this.annotatedCodeListings.length&&this.annotatedCodeListings.forEach(e=>e.clean()),this.annotatedCodeListings=[],ge.unregisterResizeStartCallback(this.handleResize)}hideAll(){this.hideAnnotations()}hideAnnotations(){for(const e of this.annotatedCodeListings)e.hideAnnotations()}handleResize(){this.hideAll()}}class ke extends n.Component{constructor(e){super(e),this.previouslyVisibleParagraphs=[],this.onScrollContainerScroll=this.onScrollContainerScroll.bind(this),this.onScrollStop=this.onScrollStop.bind(this)}render(){return n.createElement("div",{ref:e=>this.handleBookMarkupContainerLoaded(e),className:"book-markup-container livebook-viewer-content",dangerouslySetInnerHTML:{__html:this.props.html}})}shouldComponentUpdate(e,t){return this.props.html!=e.html}componentDidMount(){this.props.onUpdate&&this.props.onUpdate()}componentDidUpdate(){this.props.onUpdate&&this.props.onUpdate()}handleBookMarkupContainerLoaded(e){null==this.bookMarkupContainer&&null!=e&&(null!=this.annotatedCodeListings&&this.annotatedCodeListings.clean(),this.annotatedCodeListings=new ye(e),this.props.freePreview&&(this.scrollContainer=q.a.getScrollParent(e),this.initializeHeadings(e),null!=this.scrollContainer&&this.scrollContainer.addEventListener("scroll",this.onScrollContainerScroll,{passive:!0}))),this.adjustImagesAndLinks(e),this.bookMarkupContainer=e,e||(null!=this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.onScrollContainerScroll),this.headings=[]),this.scrollContainer=null)}adjustImagesAndLinks(e){if(null!=e){const t=e.querySelectorAll("img[image-src]");for(let e=0;e<t.length;e++)t[e].src=t[e].getAttribute("image-src");const o=e.querySelectorAll("a");for(let e=0;e<o.length;e++){const t=o[e];t.hostname&&t.hostname!==location.hostname&&t.setAttribute("target","_blank")}}}onScrollContainerScroll(){clearTimeout(this.scrollStopTimeout),this.scrollStopTimeout=setTimeout(this.onScrollStop,50)}onScrollStop(){const e=this.getLastHeading();if(!e)return;const t=this.getVisibleParagraphs(e),o=f.a.arrayDifference(t,this.previouslyVisibleParagraphs),n=f.a.arrayDifference(this.previouslyVisibleParagraphs,t);this.isPerformingUnlocking?this.hasQueuedUnlocks=!0:(this.unlockElements(o),setTimeout(()=>this.lockElements(n),5),this.previouslyVisibleParagraphs=t)}unlockElements(e){if(!e||!e.length)return;this.props.store.changeFreePreviewState(!0);const t=e.filter(e=>e.classList.contains("scrambled"));if(!t.length)return;this.isPerformingUnlocking=!0,t.forEach(e=>e.classList.add("unlocking"));const o=t.map(e=>e.getAttribute("refid"));this.props.store.getUnscrambledParagraphs(o).then(e=>{this.isPerformingUnlocking=!1;const o={};for(const t of e)o[t.paragraphID]=t.content;t.forEach(e=>{let t=o[e.getAttribute("data-hash")]||o[e.getAttribute("refid")];t&&(e.orginalInnerHTML=e.innerHTML,e.innerHTML=t,e.classList.remove("scrambled"),e.classList.add("unscrambled"))})}).catch(e=>{e&&!e.success&&"Cannot free preview anymore"==e.reason&&null!=this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.onScrollContainerScroll),this.props.store.changeFreePreviewState(!1))}).finally(()=>{this.isPerformingUnlocking=!1,t.forEach(e=>e.classList.remove("unlocking")),this.hasQueuedUnlocks&&(this.hasQueuedUnlocks=!1,this.onScrollStop())})}lockElements(e){if(!e||!e.length)return;const t=e.filter(e=>e.classList.contains("unscrambled"));t.length&&t.forEach(e=>{e.orginalInnerHTML&&(e.innerHTML=e.orginalInnerHTML,e.classList.add("scrambled"),e.classList.remove("unscrambled"))})}getVisibleParagraphs(e){if(null==this.bookMarkupContainer||null==e||null==this.scrollContainer)return[];const t=parseInt(e.getAttribute("refid"));if(Number.isNaN(t))return[];const o=[];for(let e=t;e>=Math.max(t-30,0)&&t>=0;e--){const t=this.bookMarkupContainer.querySelector(`[refid='${e}']`);if(t){if(!q.a.isElementVisible(t,this.scrollContainer))break;o.push(t)}}for(let e=t+1;e<t+250;e++){const t=this.bookMarkupContainer.querySelector(`[refid='${e}']`);t&&(q.a.isElementVisible(t,this.scrollContainer)&&o.push(t))}return o}initializeHeadings(e){const t=e.querySelectorAll("h1, h2, h3, h4, h5"),o=[];for(let e=0;e<t.length;e++){const n=t[e],r=n.textContent.trim(),i=n.parentElement;null!=i&&i.classList.contains("readable-text")&&(p.a.isChapterOrAppendix(r)||p.a.isSection(r)||p.a.isSubsection(r))&&o.push(i)}this.headings=o}getLastHeading(){const e=this.headings,t=this.scrollContainer;if(null==t)return null;const o=t.scrollTop;for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.offsetTop<=o)return n}return e[0]}}const xe=window;xe.fallbackToImageSrcPlaceholder=xe.fallbackToImageSrcPlaceholder||function(){};class Se extends n.Component{constructor(e){super(e),this.onStoreChange=this.onStoreChange.bind(this)}onStoreChange(){this.hasBeenMounted&&this.forceUpdate()}render(){return n.createElement("div",{className:l("livebook-viewer-root",this.props.className),ref:e=>this.handleLivebookContentRef(e)},this.renderContent())}componentDidMount(){this.hasBeenMounted=!0,this.props.store.onChange(this.onStoreChange)}componentWillUnmount(){this.hasBeenMounted=!1,this.props.store.stopReadTracking(),this.props.store.offChange(this.onStoreChange)}renderContent(){if(this.props.store.contentPhase==de.Loading)return n.createElement(pe.a,{title:this.props.store.title});if(this.props.store.contentPhase==de.ShowingError&&this.props.children)try{if(this.props.children.length&&this.props.children.length>1)return this.props.children}catch(e){}return this.props.store.contentPhase==de.ShowingPdf&&this.props.store.pdfPath?n.createElement("iframe",{className:"livebook-viewer-frame",src:this.props.store.pdfPath}):n.createElement(n.Fragment,null,this.renderExcerptInfo(),this.renderArtifactFeedback(),n.createElement(ke,{html:this.props.store.html,freePreview:this.props.freePreview,store:this.props.store}))}renderExcerptInfo(){const e=this.props.store.excerptInfo;return null==e?null:n.createElement("div",{className:"livebook-viewer-excerpt-container"},n.createElement("span",{className:"livebook-viewer-excerpt-container-icon"},n.createElement("img",{src:"https://lx-common-resources.s3-us-west-2.amazonaws.com/resources/manning-M.svg"})),n.createElement("span",{className:"livebook-viewer-excerpt-container-info",title:e.bookTitle},"excerpt from ",n.createElement("span",{dangerouslySetInnerHTML:{__html:e.bookTitle}})," | ",n.createElement("span",{dangerouslySetInnerHTML:{__html:e.author}})),n.createElement("a",{className:"livebook-viewer-excerpt-link",href:e.link},"go to book ",n.createElement("i",{className:"fa fa-arrow-right"})))}renderArtifactFeedback(){const e=this.props.store.artifactFeedback;return null==e?null:n.createElement(H,{artifactFeedback:e,store:this.props.contentFeedbackStore,isLivebookViewerFeedback:!0,onSaveSuccess:this.props.onFeedbackSaveSuccess,onSaveError:this.props.onFeedbackSaveError})}handleLivebookContentRef(e){this.root=e;const t=this.props.store.scrollToRefId;if(t&&e)try{let o=null;(o="string"==typeof t&&t.indexOf("section-")>=0?this.getSectionHeading(t):e.querySelector(`[refid='${t}'], [data-hash='${t}'], [id='${this.props.store.scrollToRefId}'], [name='${this.props.store.scrollToRefId}']`))&&o.scrollIntoView({behavior:"smooth"})}catch(e){console.log("Couldn't scroll to ",t)}}getSectionHeading(e=""){let t=e.substring("section-".length);return t=t.replace(/\-/g,"."),this.getSectionTitle(t)}getSectionTitle(e){const t=this.root.querySelectorAll("h1, h2, h3, h4, h5"),o=[];for(let e=0;e<t.length;e++){if(0===e)continue;const n=t[e],r=n.textContent.trim();if(r.startsWith("Table")||r.startsWith("Figure")||r.startsWith("Listing"))continue;const i=$(n);i.is(".intro-header")||i.closest(".callout-container").length||o.push(n)}for(let t=0;t<o.length;t++){const n=o[t],r=n.textContent.trim(),i=p.a.extractBookElementIndex(r);if(i===e)return n;if(i===e+".")return n}return this.fallbackForGetSectionTitle(o,e)}fallbackForGetSectionTitle(e,t){if(!e||0===e.length)return null;let o=p.a.extractSegmentedBookElementIndex(t);!!t.match(/^[A-Z]/i)||o.shift();const n=e[0].nodeName,r=[];if(e.forEach(e=>{e.nodeName===n?r.push({heading:e,children:[]}):r[r.length-1]&&r[r.length-1].children.push(e)}),0===o.length)return null;if(1===o.length){const e=+o[0]-1;return r[e]?r[e].heading:null}{const e=+o[0]-1;if(r[e]){const t=+o[1]-1;return r[e].children[t]?r[e].children[t]:r[e].heading}}return null}}class Pe extends n.Component{constructor(e){super(e)}render(){return n.createElement("svg",{onClick:this.props.onClick,className:"star",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M8.24141 0.934184L9.98882 5.22066L10.0706 5.42135L10.2866 5.43901L14.8384 5.81133L11.3651 8.84693L11.2055 8.98639L11.2538 9.19274L12.3126 13.7216L8.42792 11.3007L8.24141 11.1845L8.0549 11.3007L4.17023 13.7216L5.22905 9.19274L5.2773 8.98639L5.11773 8.84693L1.64442 5.81133L6.19619 5.43901L6.41219 5.42135L6.494 5.22066L8.24141 0.934184Z",stroke:"#F1C644",strokeWidth:.705298,fill:this.props.isFull?"#F1C644":"transparent"}))}}class Ce extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:"rating-root"},f.a.createArrayFromItemsUpTo(5).map(e=>n.createElement(Pe,{isFull:e<this.props.rating,key:e,onClick:()=>this.handleStarClick(e+1)})))}handleStarClick(e){this.props.onRatingChange&&this.props.onRatingChange(e)}}o(818);class Te extends n.Component{constructor(e){super(e)}render(){const e=this.props.productTreeResult,t=e.productInfo,o=p.a.getShortTitle(t.title),r=T.getAppropriateLinkFromProductInfo(t),i=null!=t&&null!=t.additionalProductInfo?t.additionalProductInfo.price:t.price,s=null!=t&&null!=t.additionalProductInfo?t.additionalProductInfo.priceWithoutDiscount:t.priceWithoutDiscount;return n.createElement("div",{className:l("selected-product-info-root"),ref:e=>this.root=e},null!=e.productInfo.additionalProductInfo&&e.productInfo.additionalProductInfo.rating>0&&n.createElement(Ce,{rating:e.productInfo.additionalProductInfo.rating}),n.createElement("div",{className:"selected-product-info-price-date"},i>0?n.createElement("span",{className:"selected-product-info-price"},s>i?n.createElement("span",{className:"selected-product-info-original-price"},"$",f.a.formatMoney(s)):null,"$",f.a.formatMoney(i),","):null," ",n.createElement("span",{className:""},t.dateDescription)),n.createElement("div",{className:"selected-product-info-title",title:o},n.createElement("a",{href:r},o)),n.createElement("div",{className:"selected-product-info-description",dangerouslySetInnerHTML:{__html:T.getDescriptionHtml(t)}}))}}class Ee extends n.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.props.store.onChange(this.handleChange),this.props.store.onFreePreviewStateChange(this.handleChange)}render(){const e=this.getLink();if(!e)return null;const t=this.getLinkText();return t?n.createElement("a",{className:"livebook-viewer-go-to-livebook-link",href:e,target:"_blank",dangerouslySetInnerHTML:{__html:t}}):null}getLinkText(){return this.props.store.isFreePreviewRunning?this.props.store.sourceApp==w.b.livebook?"go to book":"read in <strong>livebook</strong>":this.props.store.sourceApp==w.b.livebook?this.props.store.isUserLoggedIn?"go to book":"go to book and login for more preview":"login to livebook for more preview"}getLink(){const e=this.props.store.lastChapterLocation;return null==e?null:`https://livebook.manning.com/${e.slug}/${e.element}?origin=${this.props.origin}`}handleChange(){this.hasBeenMounted&&this.forceUpdate()}componentDidMount(){this.hasBeenMounted=!0}componentWillUnmount(){this.hasBeenMounted=!1}}o(820);var Le={lastUnmountedSelectedTreeItem:null,scrollOffset:0};class Oe extends n.Component{constructor(e){super(e),this.state={},this.handleScroll=this.handleScroll.bind(this),this.handleRootRef=this.handleRootRef.bind(this)}render(){return null==this.props.selectedTreeItem?null:n.createElement("div",{className:"search-results-list-wrapper",ref:this.handleRootRef},n.createElement("ul",{className:l("search-results-list",{"search-scroll-area":this.props.isScrollArea}),onScroll:this.handleScroll},n.createElement("li",{key:"heading",className:"search-results-list-heading search-result-item"},n.createElement("strong",null,"showing ",this.props.productTreeItem==this.props.selectedTreeItem?"all":""," results in ",this.getPreciseLocationDescription())),this.props.selectedTreeItem.results.map(e=>n.createElement("li",{key:e.id,className:"search-result-item"},n.createElement("div",{className:"search-result-item-header"},this.generateBreadcrumbs(e)),n.createElement("a",{className:this.props.overrideLinkClicks?"dont-propagate-click":"",href:e.link,dangerouslySetInnerHTML:{__html:e.text},onClick:t=>this.handleResultListClick(t,e)})))))}getPreciseLocationDescription(){return null==this.props.selectedTreeItem?"":this.props.selectedTreeItem==this.props.productTreeItem?n.createElement("em",null,this.props.productTreeItem.productTitle):this.props.selectedTreeItem.name?this.props.selectedTreeItem.name:""}handleRootRef(e){if(null!=e&&this.props.isScrollArea&&null!=Le.lastUnmountedSelectedTreeItem&&Le.lastUnmountedSelectedTreeItem==this.props.selectedTreeItem){const t=e.querySelector(".search-scroll-area");null!=t&&(t.scrollTop=Le.scrollOffset)}}handleScroll(e){Le.scrollOffset=e.target.scrollTop}componentDidMount(){}componentWillUnmount(){Le.lastUnmountedSelectedTreeItem=this.props.selectedTreeItem}generateBreadcrumbs(e){let t=[];const o=this.props.selectedTreeItem;if(o instanceof O){const o=this.getMaxWidth(1+(e.indexTerm?1:0)+(e.subElementTitle?1:0)+(e.subSubElementTitle?1:0));t=[e.elementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:o},title:e.elementTitle,key:"1"},e.elementTitle.replace("Chapter ","")),e.subElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:o},title:e.subElementTitle,key:"2"},e.subElementTitle)]}else if(o instanceof I){const o=this.getMaxWidth((e.indexTerm?1:0)+(e.subElementTitle?1:0)+(e.subSubElementTitle?1:0));t=[e.subElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:o},title:e.subElementTitle,key:"1"},e.subElementTitle)]}else if(o instanceof R){const o=this.getMaxWidth((e.indexTerm?1:0)+(e.subSubElementTitle?1:0));t=[e.subSubElementTitle&&n.createElement("span",{className:"result-item-book-element-link",style:{maxWidth:o},title:e.subSubElementTitle,key:"2"},e.subSubElementTitle)]}else o instanceof M&&(t=[]);return t}getMaxWidth(e){let t="100%";return 2==e?t="calc(50% - 1em - 25px)":3==e?t="calc(33% - 1em - 18px)":4==e&&(t="calc(25% - 1em - 15px)"),t}getResultTypeLabel(e){let t="";switch((e.productType||"").toLowerCase()){case"livebook":t="livebook";break;case"livevideo":t="livevideo";break;case"marketplace":default:t="product"}return this.props.sourceApp==w.b.marketplace&&"product"==t?null:this.props.sourceApp==w.b.livebook&&"livebook"==t?null:this.props.sourceApp==w.b.livevideo&&"livevideo"==t?null:n.createElement("span",{key:`label-${e.id}`,className:`${t}-label`},t)}handleResultListClick(e,t){if(!this.props.overrideLinkClicks)return!0;const o=this.getMatchingElementTreeResult(t);return null==o?(window.open(t.link,"_blank"),!0):(this.props.onLivebookLocationUpdate(o,{slug:null!=o.parent.productInfo?o.parent.productInfo.slug:"",element:o.shortName,elementTitle:o.elementTitle,location:this.getRefIdFromLink(t.link)}),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1)}getRefIdFromLink(e){if(!e)return"1";const t=(e||"").lastIndexOf("search-");return-1==t?"1":(e||"").substring(t).substring("search-".length)||""}getMatchingElementTreeResult(e){const t=this.props.productTreeItem;if(null==t||null==e||!e.elementTitle)return null;for(const o of t.children){if((o.elementTitle||"").replace(/[\W_]+/g,"").toLowerCase().replace("chapter","").replace("appendix","")==(e.elementTitle||"").replace(/[\W_]+/g,"").toLowerCase().replace("chapter","").replace("appendix",""))return o}return null}}class Ie extends n.Component{constructor(e){super(e),this.scrollLimit=140,this.handlePossibleSearchStoreUpdate=this.handlePossibleSearchStoreUpdate.bind(this),this.handleLivebookViewerStoreUpdate=this.handleLivebookViewerStoreUpdate.bind(this),this.updateSelectedTreeItem=this.updateSelectedTreeItem.bind(this),this.handleScroll=this.handleScroll.bind(this),this.updateLivebookLocation=this.updateLivebookLocation.bind(this),this.state=this.constructStateFromProps(e),this.updateLivebookViewerStore()}shouldComponentUpdate(e,t){return this.shouldUpdateOccur(this.props.store.state,e.store.state)}handlePossibleSearchStoreUpdate(e,t){this.shouldUpdateOccur(e,t)&&this.forceUpdate()}shouldUpdateOccur(e,t){return this.componentHasBeenMounted}componentDidMount(){this.componentHasBeenMounted=!0,this.props.store.onPropertyChanged(this.handlePossibleSearchStoreUpdate),this.props.store.livebookViewerStore.onChange(this.handleLivebookViewerStoreUpdate)}componentWillUnmount(){this.componentHasBeenMounted=!1,this.removeSearchContentTabClasses(),this.props.store.offPropertyChanged(this.handlePossibleSearchStoreUpdate),this.props.store.livebookViewerStore.offChange(this.handleLivebookViewerStoreUpdate)}UNSAFE_componentWillUpdate(){this.removeSearchContentTabClasses()}UNSAFE_componentWillReceiveProps(e){this.setState(this.constructStateFromProps(e)),this.updateLivebookViewerStore()}render(){const e=this.props.store.state;return e.isWaitingForResults?(this.searchContentProductsList=null,e.query?n.createElement("div",{className:"search-content-tab-root"},n.createElement(d.b,null)):n.createElement("div",{className:"search-initial-message-container"},"Type in the search bar to find anything")):e.errorMessage?(this.searchContentProductsList=null,n.createElement("div",{className:"search-initial-message-container search-message-container search-error-container"},e.errorMessage)):e.productTreeResults?0===e.productTreeResults.length?(this.searchContentProductsList=null,n.createElement("div",{className:"search-initial-message-container search-message-container"},"Search query yielded no results.")):n.createElement("div",{className:"search-content-tab-root"},n.createElement(j,{store:this.props.store,productTreeResults:this.props.store.state.productTreeResults,selectedProductTreeResult:this.state.selectedProductTreeResults,coverPlaceholder:this.props.store.coverPlaceholder,onSelectSearchTreeItem:this.updateSelectedTreeItem,ref:e=>this.searchContentProductsList=e}),n.createElement("div",{className:"search-content-tab-body",onScroll:this.handleScroll},n.createElement(Te,{productTreeResult:this.state.selectedProductTreeResults}),n.createElement(W,{selectedProductTreeResult:this.state.selectedProductTreeResults,selectedTreeItem:this.getLastSelectedTreeItem(),onSearchTreeItemSelected:this.updateSelectedTreeItem}),this.renderSearchResults())):(this.searchContentProductsList=null,n.createElement("div",null))}renderSearchResults(){const e=this.getLastSelectedTreeItem();return this.state.selectedProductTreeResults.isLivebook()?e instanceof O?n.createElement(Oe,{isScrollArea:!0,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation}):n.createElement("div",{className:"search-content-tab-livebook-viewer-wrapper"},n.createElement(Se,{className:"search-scroll-area",store:this.props.store.livebookViewerStore,freePreview:!0},n.createElement(Oe,{isScrollArea:!1,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation}),";"),n.createElement(Ee,{store:this.props.store.livebookViewerStore,origin:"search"})):n.createElement(Oe,{isScrollArea:!0,sourceApp:this.props.store.sourceApp,selectedTreeItem:e,productTreeItem:this.state.selectedProductTreeResults,overrideLinkClicks:this.shouldProcessResultListClicks(),onLivebookLocationUpdate:this.updateLivebookLocation})}updateLivebookLocation(e,t){this.setState({selectedElementTreeResult:e,selectedSubElementTreeResult:null}),this.updateLivebookViewerStore(t.location),this.props.store.livebookViewerStore.loadChapterInFreePreview(t,T.getEmphasizedWords(this.state.selectedProductTreeResults),t.location)}handleLivebookViewerStoreUpdate(){const e=document.querySelector(".search-root");if(null==e)return;const t=this.props.store.livebookViewerStore.lastChapterLocation,o=this.getLastSelectedTreeItem();if(null==t||!this.state.selectedProductTreeResults.isLivebook()||o instanceof O)return e.classList.remove("is-showing-livebook-viewer"),null;e.classList.add("is-showing-livebook-viewer")}removeSearchContentTabClasses(){const e=document.querySelector(".search-root");null!=e&&e.classList.remove("is-showing-livebook-viewer")}shouldProcessResultListClicks(){return!(null==this.state||null==this.state.selectedProductTreeResults||!this.state.selectedProductTreeResults.isLivebook())}constructStateFromProps(e){const t=e.store.state.productTreeResults;if(null==t||0==t.length)return{selectedProductTreeResults:null,selectedElementTreeResult:null,selectedSubElementTreeResult:null};let o=e.store.state.productTreeResults[0];if(null!=e.store.state.currentProduct){const n=e.store.state.currentProduct.externalId,r=t.find(e=>e.productId==n);null!=r&&(o=r)}return this.fetchProductAdditionalInfoIfNecessary(o),{selectedProductTreeResults:o||t[0],selectedElementTreeResult:null,selectedSubElementTreeResult:null}}fetchProductAdditionalInfoIfNecessary(e){return null!=this.getFullProductTreeResultsPromise&&this.getFullProductTreeResultsPromise.cancel(),null==e||e.children?Promise.resolve(!0):null!=e.productSearchResults&&e.productSearchResults.isSpecialProduct?(e.children=[],Promise.resolve(!0)):new Promise((t,o)=>{this.getFullProductTreeResultsPromise=this.props.store.getFullProductTreeResults(e),this.getFullProductTreeResultsPromise.then(e=>{this.getFullProductTreeResultsPromise=null,this.componentHasBeenMounted&&this.forceUpdate(),t(!0)}).catch(e=>{this.getFullProductTreeResultsPromise=null,this.componentHasBeenMounted&&this.forceUpdate(),t(!1)})})}getLastSelectedTreeItem(){const e=this.state;return e.selectedSubElementTreeResult||e.selectedElementTreeResult||e.selectedProductTreeResults}resetToCurrentProductTreeResults(){this.updateSelectedTreeItem(null)}updateSelectedTreeItem(e){e instanceof R?(this.setState({selectedSubElementTreeResult:e}),this.updateLivebookViewerStore("Intro"==e.name?"1":T.extractLinkReference(e.link))):e instanceof I?(this.setState({selectedElementTreeResult:e,selectedSubElementTreeResult:null}),this.updateLivebookViewerStore(T.extractLinkReference(e.results&&e.results[0]&&e.results[0].link))):e instanceof O?(this.setState({selectedProductTreeResults:e,selectedElementTreeResult:null,selectedSubElementTreeResult:null}),this.fetchProductAdditionalInfoIfNecessary(e),this.updateLivebookViewerStore()):null==e&&this.setState({selectedElementTreeResult:null,selectedSubElementTreeResult:null})}updateLivebookViewerStore(e=""){setTimeout(()=>{const t=this.getLastSelectedTreeItem();this.props.store.livebookViewerStore.loadChapterInFreePreview(T.getLivebookLocation(t),T.getEmphasizedWords(this.state.selectedProductTreeResults),e)},16)}handleScroll(e){const t=e.target,o=t.scrollTop;(this.lastScrollTop||0)<=this.scrollLimit&&o>this.scrollLimit?t.classList.add("scroll-top-background-shown"):o<this.scrollLimit&&this.lastScrollTop>=this.scrollLimit&&t.classList.remove("scroll-top-background-shown"),this.lastScrollTop=o}}const Re=10;class Me{constructor(e){this.parentStore=e,this.changeEmitter=new z,this.state=this.constructEmptyState()}empty(){const e=this.constructEmptyState();e.isDoneFetchingProducts=!1,this.updateState(e)}show(){this.state.isShown||this.updateState({isShown:!0})}hide(){this.state.isShown&&this.updateState({isShown:!1})}removeSelectedSuggestion(){this.updateState({selectedSuggestion:null})}setNewSuggestions(e){const t=this.state.isShown,o=this.constructEmptyState();o.autocompleteSuggestions=e,o.displayedAutocompleteSuggestions=new S(e.productSuggestions,e.conceptSuggestions.slice(0,Re),e.displayedProductSuggestions),o.isDoneFetchingProducts=!0,o.isShown=t,this.updateState(o)}setNewSuggestion(e,t){this.updateState({selectedSuggestion:e,isShown:!1},t)}setIsDoneFetchingProducts(e){this.updateState({isDoneFetchingProducts:e})}selectPreviousSuggestion(e=!1){const t=this.state.selectedSuggestion,o=[...e?[]:this.state.displayedAutocompleteSuggestions.conceptSuggestions,...this.state.displayedAutocompleteSuggestions.productSuggestions];let n=null;if(null==t)return!1;{const e=o.indexOf(t)-1;if(e<0)return this.updateState({selectedSuggestion:null}),!0;n=o[e]}return this.updateState({selectedSuggestion:n}),!0}selectNextSuggestion(e=!1){let t=this.state.selectedSuggestion;const o=[...e?[]:this.state.displayedAutocompleteSuggestions.conceptSuggestions,...this.state.displayedAutocompleteSuggestions.productSuggestions],n=o.indexOf(t)+1;if(n>=o.length)return this.updateState({selectedSuggestion:null}),!0;let r=o[n];return this.updateState({selectedSuggestion:r}),!0}selectAlternativeTypeSuggestionOnSameLevel(){let e=this.state.selectedSuggestion;if(null==e)return;const t=this.state.displayedAutocompleteSuggestions.conceptSuggestions,o=this.state.displayedAutocompleteSuggestions.productSuggestions;let n=null;e instanceof x?n=o[0]:e instanceof k&&(n=t[0]),null!=n&&this.updateState({selectedSuggestion:n})}hasAtLeastOneTypeOfAutocompletes(){return null!=this.state.autocompleteSuggestions&&(null!=this.state.autocompleteSuggestions.conceptSuggestions&&this.state.autocompleteSuggestions.conceptSuggestions.length>0||null!=this.state.autocompleteSuggestions.productSuggestions&&this.state.autocompleteSuggestions.productSuggestions.length>0)}hasBothProductsAndConcepts(){return null!=this.state.autocompleteSuggestions&&null!=this.state.autocompleteSuggestions.conceptSuggestions&&this.state.autocompleteSuggestions.conceptSuggestions.length>0&&null!=this.state.autocompleteSuggestions.productSuggestions&&this.state.autocompleteSuggestions.productSuggestions.length>0}constructEmptyState(){const e=S.createEmpty();return{isShown:!1,autocompleteSuggestions:e,displayedAutocompleteSuggestions:e,selectedSuggestion:null,isFullTextSearchSelected:!1,isDoneFetchingProducts:!1}}updateState(e,t=!0){const o=this.state;this.state=Object.assign({},this.state,e),t&&this.triggerChange(o,this.state)}onPropertyChanged(e){this.changeEmitter.addListener("change",e)}offPropertyChanged(e){this.changeEmitter.removeListener("change",e)}triggerRerender(){this.changeEmitter.emit("change",this.state,Object.assign(Object.assign({},this.state),{autocompleteSuggestions:S.createCopy(this.state.autocompleteSuggestions)}))}triggerChange(e,t){this.changeEmitter.emit("change",e,t)}}class Ae{constructor(e,t,o){this.type=e,this.label=t,this.resultCount=o}static groupSearchFiltersByType(e){if(!e||!e.length)return[];const t=[],o={};for(const t of e)o[t.type]||(o[t.type]=[]),o[t.type].push(t);for(const e in o)t.push(o[e]);return t}}class Fe extends Ae{constructor(e,t=0){super("category",e,t)}matchesProduct(e){return!!(e&&e.tags&&e.tags.length)&&-1!=e.tags.indexOf(this.label)}}class Ne extends Ae{constructor(e,t,o,n=t,r=o){super("price",e,0),this.min=t,this.max=o,this.lowerBound=n,this.upperBound=r}isWithinBounds(e){return void 0===e||e>=this.lowerBound&&e<=this.upperBound}matchesProduct(e){return!!e&&this.isWithinBounds(e.getPrice())}static createCopy(e,t,o){return new Ne(e.label,e.min,e.max,t,o)}static createPriceSearchFilter(e,t){if(null==e||0==e.length)return null==t?new Ne("$0 - $200",0,200):t;let o=e[0].getPriceWithoutDiscount()||e[0].getPrice();for(let t=1;t<e.length;t++){const n=e[t],r=n.getPriceWithoutDiscount()||n.getPrice();r>o&&(o=r)}return o<1&&(o=200),new Ne(`$0 - $${o}`,0,o,null!=t?t.min:0,null!=t?t.max:o)}}class je extends Ae{constructor(e,t=0){super("product",e,t)}static createBookProductTypeSearchFilter(){return new je("book")}static createVideoProductTypeSearchFilter(){return new je("liveVideo")}static createBundleTypeSearchFilter(){return new je("bundle")}static createLiveProjectTypeSearchFilter(){return new je("liveProject")}static createEarlierEditionTypeSearchFilter(){return new je("Earlier editions")}matchesProduct(e){return!!e&&("book"==this.label?!e.isLivevideo&&!e.isBundle&&!e.isEarlierEdition:"liveVideo"==this.label?e.isLivevideo:"bundle"==this.label?e.isBundle:"liveProject"==this.label?e.isLiveproject:"Earlier editions"==this.label&&e.isEarlierEdition)}}class De extends Ae{constructor(e,t,o=0){super("customer rating",e,o),this.minimumRating=t}matchesProduct(e){if(!(e&&e.productInfo&&e.productInfo.additionalProductInfo&&e.productInfo.additionalProductInfo.rating))return!0;return Math.max(e.productInfo.additionalProductInfo.rating,0)>=this.minimumRating}static create(e=0){return new De("customer rating",e)}}var _e,Be;!function(e){e[e.BestMatch=0]="BestMatch",e[e.PriceFromLowest=1]="PriceFromLowest",e[e.PriceFromHighest=2]="PriceFromHighest",e[e.NewestFirst=3]="NewestFirst"}(_e||(_e={})),function(e){e[e.Products=0]="Products",e[e.Content=1]="Content"}(Be||(Be={}));const Ue=!1;class We{constructor(e,t,o,n,r,i,s,a,c=!1){this.searchCategories=["Java",".NET","Web","Data","Mobile","Enterprise"],this.coverPlaceholder="assets/images/cover.png",this.bookshelfImage="assets/images/bookshelf.png",this.bookImage="assets/images/book.png",this.changeEmitter=new z,this.searchProvider=o,this.sourceApp=e,this.deploymentType=t,this.getFullProductTreeResults=this.getFullProductTreeResults.bind(this),this.openSuggestion=n,this.onCloseMenu=r,this.onSearchMade=i,this.onDisplayProducts=a,this.autocompleteStore=new Me(this),this.livebookViewerStore=new he(this.sourceApp,this.deploymentType,J.createProvider(this.sourceApp,this.deploymentType),!0),this.livebookViewerStore.isUserLoggedIn=c,this.state=We.createInitialState(s),this.handleResizeEnd=this.handleResizeEnd.bind(this),this.closeMenu=this.closeMenu.bind(this),this.toggleShowFilter=this.toggleShowFilter.bind(this),this.toggleShowSort=this.toggleShowSort.bind(this),ge.registerResizeEndCallback(this.handleResizeEnd),T.sourceApp=e,C.sourceApp=e}loadOwnership(){this.searchProvider.getOwnershipInfo().then(e=>{C.userOwnedProducts=e,this.triggerOwnershipChange()})}changeSortOrder(e){this.updateState({sortOrder:e,isShowingSort:!1}),this.autocompleteStore.setNewSuggestions(new S(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))}changeSearchFilterSelection(e,t){const o=null!=this.state.selectedSearchFilters&&this.state.selectedSearchFilters.find(t=>t.label==e.label);let n=[],r=!1;t?o||(n=this.state.selectedSearchFilters.concat([e]),r=!0):o&&(n=this.state.selectedSearchFilters.filter(t=>t.label!=e.label),r=!0),r&&(this.updateState(Object.assign({selectedSearchFilters:n},this.getDerivedFiltersAndCategories(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,n))),this.autocompleteStore.setNewSuggestions(new S(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions))))}handleSearchInputKeyDown(e){const t=40==e.keyCode,o=38==e.keyCode,n=27==e.keyCode;if(t||o||n)return o?this.autocompleteStore.selectPreviousSuggestion():t?this.autocompleteStore.selectNextSuggestion():n&&this.autocompleteStore.hide(),e.preventDefault(),!1}isSearchingWithinContent(){return this.state.searchSource==Be.Content}isSearchingWithinProducts(){return this.state.searchSource==Be.Products}handleResizeEnd(){this.updateScreenSize(We.areScreenDimensionsSmall(),We.areScreenDimensionsMedium())}static createInitialState(e){const t=null==e||void 0===e.tabs?[{title:"books"},{title:"inside books"}]:e.tabs,o=null==e||void 0===e.selectedTab?t[0]:e.selectedTab;return{currentProduct:null==e||void 0===e.currentProduct?null:e.currentProduct,isTyping:null!=e&&void 0!==e.isTyping&&e.isTyping,query:null==e||void 0===e.query?"":e.query,isSearchAllSelected:null==e||void 0===e.isSearchAllSelected||e.isSearchAllSelected,selectedSearchCategories:null==e||void 0===e.selectedSearchCategories?[]:e.selectedSearchCategories,isShowingResults:null!=e&&void 0!==e.isShowingResults&&e.isShowingResults,items:null==e||void 0===e.items?null:e.items,productTreeResults:null==e||(e.productTreeResults,1)?null:e.productTreeResults,isWaitingForResults:null!=e&&void 0!==e.isWaitingForResults&&e.isWaitingForResults,errorMessage:null==e||void 0===e.errorMessage?"":e.errorMessage,allCategories:null==e||void 0===e.allCategories?[]:e.allCategories,openLinksInNewTab:null!=e&&void 0!==e.openLinksInNewTab&&e.openLinksInNewTab,defaultShowTreeItemsWithoutResults:null!=e&&void 0!==e.defaultShowTreeItemsWithoutResults&&e.defaultShowTreeItemsWithoutResults,isMobileDisplayMode:null==e||void 0===e.isMobileDisplayMode?this.areScreenDimensionsSmall():e.isMobileDisplayMode,isTabletDisplayMode:null==e||void 0===e.isTabletDisplayMode?this.areScreenDimensionsMedium():e.isTabletDisplayMode,sortOrder:_e.BestMatch,selectedSearchFilters:[],availableCategorySearchFilters:[],priceSearchFilter:null,availableProductTypeSearchFilers:[],searchSource:Be.Products,isShowingFilter:!1,isShowingSort:!1,ratingSearchFilter:null,tabs:t,selectedTab:o}}getCurrentProductResultTypes(e){const t=this.state.items;if(null==t||0==t.length)return"";let o=!1,n=!1,r=!1,i=!1;for(const e of this.state.items)if(e.productInfo.isLivebook?o=!0:e.productInfo.isLivevideo?n=!0:e.productInfo.isLiveproject?r=!0:i=!0,o&&n&&r)break;return(o||i)&&n?e?"books/videos":"books and videos":n?"videos":"books"}generateSearchMadeQuery(e){let t=e||this.state.query;return t+=null!=this.state.currentProduct?`--${this.state.currentProduct.externalId}--`:"",t+=this.state.selectedSearchCategories.join("--")}updateState(e,t=!0){const o=this.state;this.state=Object.assign({},this.state,e),t&&this.triggerChange(o,this.state)}isInDemoApp(){return this.sourceApp==w.b.demo}isInLivevideo(){return this.sourceApp==w.b.livevideo}isInLivebook(){return this.sourceApp==w.b.livebook}isInMarketplace(){return this.sourceApp==w.b.marketplace}enterShowingResultsState(){this.state.isShowingResults||this.updateState({isShowingResults:!0})}leaveShowingResultsState(){this.state.isShowingResults&&(this.updateState({isShowingResults:!1}),setTimeout(()=>this.setTypingFinished(!0),100))}openLink(e,t,o){this.openSuggestion(null,e,t,o)}toggleShowFilter(){this.updateState({isShowingFilter:!this.state.isShowingFilter,isShowingSort:!1})}toggleShowSort(){this.updateState({isShowingFilter:!1,isShowingSort:!this.state.isShowingSort})}updateSearchSource(e){this.state.searchSource!=e&&(clearTimeout(this.tabsIdTimeout),this.updateState({searchSource:e,selectedTab:e==Be.Products?this.state.tabs[0]:this.state.tabs[1]}))}setProduct(e,t){null==this.state.currentProduct&&null!=e||null!=this.state.currentProduct&&this.state.currentProduct.externalId!==e?(this.autocompleteStore.empty(),e?this.searchProvider.getProductInfo(e).then(e=>{this.updateState({currentProduct:e}),t&&t()}).catch(e=>{console.log("Error when fetching product info: ",e),t&&t()}):(this.updateState({currentProduct:null}),t&&t()),""!=this.state.query&&this.setTypingFinished(!0)):t&&t()}setIsTypingQuery(e=""){if(!this.state.isTyping||this.state.query!=e){if(this.cancelPromises(),""==e)return void this.clearSearch();this.autocompleteStore.removeSelectedSuggestion(),this.updateState({isTyping:!0,query:e})}}setTypingFinished(e=!1){clearTimeout(this.saleInfoTimeout),this.state.searchSource==Be.Content&&(this.autocompleteStore.show(),this.startSearch()),(this.state.isTyping||e)&&(this.autocompleteStore.removeSelectedSuggestion(),this.updateState({isTyping:!1}),this.cancelPromises(),this.autocompleteStore.setIsDoneFetchingProducts(!1),this.autocompleteSuggestionsPromise=Object(V.cancelable)(this.searchProvider.autocompleteProducts(this.state.query)),this.autocompleteSuggestionsPromise.then(e=>{this.state.hasAutocompleteProductsInfo||this.updateState({hasAutocompleteProductsInfo:!0});const t=this.getDisplayedProductSuggestions(e);this.autocompleteStore.setNewSuggestions(new S(e,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,t)),this.deriveFiltersAndCategories(e),this.onDisplayProducts&&this.onDisplayProducts(t.slice(0,15).map(e=>{let t="book";return e.isBundle&&(t="bundle"),e.isLiveaudio&&(t="liveAudio"),e.isLivebook&&(t="book"),e.isLiveproject&&(t="liveProject"),e.isLivevideo&&(t="liveVideo"),{id:e.id,title:e.title,category:e.tags.join(","),brand:t}})),this.fillDisplayedProductsWithAdditionalInfo(e,t)}).catch(e=>{console.log("Error getting product autocompletions",e)}),this.state.query&&(this.autocompleteProductsThroughFullTextSearchPromise=Object(V.cancelable)(this.searchProvider.fullTextAutocompleteProducts(this.state.query)),this.autocompleteProductsThroughFullTextSearchPromise.then(e=>{this.state.hasAutocompleteProductsInfo||this.updateState({hasAutocompleteProductsInfo:!0});const t=this.mergeAutocompleteProducts(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,e),o=this.getDisplayedProductSuggestions(t);this.autocompleteStore.setNewSuggestions(new S(t,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,o)),this.deriveFiltersAndCategories(t),this.fillDisplayedProductsWithAdditionalInfo(t,o),this.state.query&&this.onSearchMade&&this.onSearchMade(this.state.query,null!=this.state.currentProduct?this.state.currentProduct.id:"-1",!1,this.state.searchSource==Be.Content),this.onDisplayProducts&&this.onDisplayProducts(o.slice(0,15).map(e=>{let t="book";return e.isBundle&&(t="bundle"),e.isLiveaudio&&(t="liveAudio"),e.isLivebook&&(t="book"),e.isLiveproject&&(t="liveProject"),e.isLivevideo&&(t="liveVideo"),{id:e.id,title:e.title,category:e.tags.join(","),brand:t}}))})),Ue&&(this.autocompleteConceptsPromise=Object(V.cancelable)(this.searchProvider.autocompleteConcepts(this.state.query,null!=this.state.currentProduct?this.state.currentProduct.externalId:void 0,null!=this.state.currentProduct?this.state.currentProduct.isLivebook:void 0,null!=this.state.currentProduct?this.state.currentProduct.isLivevideo:void 0)),this.autocompleteConceptsPromise.then(e=>{e&&e.length&&e.forEach(e=>e.highlightQueryMatch(this.state.query)),this.autocompleteStore.setNewSuggestions(new S(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,e,this.autocompleteStore.state.autocompleteSuggestions.displayedProductSuggestions))}).catch(e=>{console.log("Error getting concept autocompletions",e)})))}cancelPromises(){try{this.autocompleteSuggestionsPromise&&this.autocompleteSuggestionsPromise.cancel&&this.autocompleteSuggestionsPromise.isCanceled&&!this.autocompleteSuggestionsPromise.isCanceled()&&this.autocompleteSuggestionsPromise&&this.autocompleteSuggestionsPromise.cancel(),this.autocompleteProductsThroughFullTextSearchPromise&&this.autocompleteProductsThroughFullTextSearchPromise.cancel&&this.autocompleteProductsThroughFullTextSearchPromise.isCanceled&&!this.autocompleteProductsThroughFullTextSearchPromise.isCanceled()&&this.autocompleteProductsThroughFullTextSearchPromise.cancel(),this.autocompleteConceptsPromise&&this.autocompleteConceptsPromise.cancel&&this.autocompleteConceptsPromise.isCanceled&&!this.autocompleteConceptsPromise.isCanceled()&&this.autocompleteConceptsPromise.cancel()}catch(e){console.log("Error when canceling promises",e)}}fillDisplayedProductsWithAdditionalInfo(e,t){const o=this.state.query;this.searchProvider.fillWithAdditionalInfo(t.map(e=>e.productInfo)).then(()=>{o==this.state.query?(this.updateState(this.getDerivedFiltersAndCategories(e,this.state.selectedSearchFilters),!0),this.autocompleteStore.triggerRerender()):this.autocompleteStore.triggerRerender()})}fillSearchContentResultsWithAdditionalInfo(e){const t=this.state.query;this.searchProvider.fillWithAdditionalInfo(e.map(e=>e.productInfo)).then(()=>{t==this.state.query&&this.updateState({items:(e||[]).concat([]),productTreeResults:(e||[]).map(e=>T.convertToShellProductTreeResults(e))})})}setQuery(e){if(this.state.query!=e){if(""==e)return void this.clearSearch();this.updateState({query:e})}}clearAutosuggestionsAndHide(){this.autocompleteStore.empty()}clearProduct(){this.updateState({currentProduct:null})}clearSearchAndProduct(){this.updateState({query:"",items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,currentProduct:null,errorMessage:null,isLastSearchDeep:!1,allCategories:[]}),this.autocompleteStore.empty(),this.cancelPromises()}clearSearchKeepQuery(){this.autocompleteStore.empty(),this.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,errorMessage:null,isLastSearchDeep:!1,allCategories:[]}),setTimeout(()=>this.setTypingFinished(!0),100)}clearSearch(){this.cancelPromises(),this.autocompleteStore.empty(),this.updateState({query:"",items:null,productTreeResults:null,isWaitingForResults:!1,isShowingResults:!1,errorMessage:null,allCategories:[],isLastSearchDeep:!1,availableCategorySearchFilters:[],priceSearchFilter:null,ratingSearchFilter:null,availableProductTypeSearchFilers:[]})}clearSearchResults(){this.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,errorMessage:null,isLastSearchDeep:!1,allCategories:[]})}selectSuggestionAndStartSearch(e){e=this.getSuggestion(e),setTimeout(()=>{this.onSuggestionSelected&&this.onSuggestionSelected(e)},5),this.autocompleteStore.setNewSuggestion(e),e instanceof x&&this.autocompleteStore.parentStore.setQuery(e.title),setTimeout(()=>this.startSearch(),100)}closeMenu(){this.onCloseMenu&&this.onCloseMenu()}selectSuggestion(e){this.autocompleteStore.setNewSuggestion(this.getSuggestion(e))}getSuggestion(e){return"string"==typeof e?this.autocompleteStore.state.autocompleteSuggestions.getSuggestion(e):e}getFullProductTreeResults(e){return Object(V.cancelable)(this.searchProvider.getFullProductTreeResults(e))}startSearch(e=!1,t){let o="";o||(o=this.state.query.trim()),this.cancelPromises(),this.autocompleteStore.hide(),o?(this.searchProvider.search(o,this.getCurrentProductId(),this.state.selectedSearchCategories.join(";"),this.getBoostedProductType(),e).then(o=>{if(null!=this.state.currentProduct){const e=o.find(e=>null!=e.productInfo&&e.productInfo.id==this.state.currentProduct.id);null!=e&&(f.a.removeItemFromArray(o,e),o.unshift(e))}this.updateState({items:o,productTreeResults:(o||[]).map(e=>T.convertToShellProductTreeResults(e)),isWaitingForResults:!1,isLastSearchDeep:e,errorMessage:""}),this.fillSearchContentResultsWithAdditionalInfo(o||[]),t&&setTimeout(()=>{t&&t(!0)},100),this.onDisplayProducts&&this.onDisplayProducts(o.map(e=>{let t="book";return e.productInfo&&(e.productInfo.isBundle&&(t="bundle"),e.productInfo.isLiveaudio&&(t="liveAudio"),e.productInfo.isLivebook&&(t="book"),e.productInfo.isLiveproject&&(t="liveProject"),e.productInfo.isLivevideo&&(t="liveVideo")),{id:+e.productManningId,title:e.productTitle,category:null!=e.productInfo&&null!=e.productInfo.tags?e.productInfo.tags.join(","):"",brand:t}}))}).catch(e=>{this.updateState({items:null,productTreeResults:null,isWaitingForResults:!1,allCategories:this.state.allCategories||[],isLastSearchDeep:!1,errorMessage:e}),t&&setTimeout(()=>{t&&t(!1)},100)}),this.updateState({allCategories:this.state.allCategories||[],isShowingResults:!0,items:null,productTreeResults:null,isWaitingForResults:!0,errorMessage:""}),setTimeout(()=>{this.onSearchMade&&this.onSearchMade(this.state.query,null!=this.state.currentProduct?this.state.currentProduct.externalId:"",e)},50)):this.updateState({query:o})}getBoostedProductType(){return this.sourceApp==w.b.livevideo?"liveVideo":this.sourceApp==w.b.pbc?"liveProject":""}getCurrentProductId(){return null==this.state.currentProduct?"":this.state.currentProduct.externalId}updateScreenSize(e,t){this.state.isMobileDisplayMode==e&&this.state.isTabletDisplayMode==t||this.updateState({isMobileDisplayMode:e,isTabletDisplayMode:t})}changeCategorySelection(e,t){if("All"==e)this.updateState({isSearchAllSelected:t,selectedSearchCategories:t?[]:this.state.selectedSearchCategories});else{const o=this.state.selectedSearchCategories.concat([]),n=o.indexOf(e);if(n>-1!=t)if(t){let t=!1,n=o.concat([e]);n.length==this.searchCategories.length&&(n=[],t=!0),this.updateState({selectedSearchCategories:n,isSearchAllSelected:t})}else o.splice(n,1),this.updateState({selectedSearchCategories:o,isSearchAllSelected:0==o.length})}}mergeAutocompleteProducts(e,t){if(null==t||0==t.length)return e;if(null==e||0==e.length)return t;const o=(this.state.query||"").toLowerCase(),n=[],r={};for(const t of e)(T.containsQueryWord(t.title.toLowerCase(),o)||T.containsQueryWord((t.authors||"").toLowerCase(),o)||T.containsQueryWord((t.subtitle||"").toLowerCase(),o))&&(n.push(t),r[t.externalId]=!0);if(0==n.length&&o.length>=3)for(const t of e)(-1!=t.title.toLowerCase().indexOf(o)||t.authors&&t.authors.toLowerCase&&-1!=t.authors.toLowerCase().indexOf(o))&&(n.push(t),r[t.externalId]=!0);if(this.sourceApp==w.b.livevideo||this.sourceApp==w.b.pbc){const e=t.slice(0,5);for(let o=5;o<t.length;o++){const n=t[o];(this.sourceApp==w.b.livevideo&&n.isLivevideo||this.sourceApp==w.b.pbc&&n.isLiveproject)&&e.push(n)}t=e}else t=t.slice(0,10);for(const e of t)r[e.externalId]||(n.push(e),r[e.externalId]=!0);for(const t of e)r[t.externalId]||(n.push(t),r[t.externalId]=!0);return n}static areScreenDimensionsMedium(){return window.innerWidth<=700}static areScreenDimensionsSmall(){return window.innerWidth<=500}onPropertyChanged(e){this.changeEmitter.addListener("change",e)}offPropertyChanged(e){this.changeEmitter.removeListener("change",e)}onOwnershipChanged(e){this.changeEmitter.addListener("ownershipChange",e)}offOwnershipChanged(e){this.changeEmitter.removeListener("ownershipChange",e)}triggerOwnershipChange(){this.changeEmitter.emit("ownershipChange")}triggerChange(e,t){this.changeEmitter.emit("change",e,t)}onLayoutRecalc(e){this.changeEmitter.addListener("layout",e)}offLayoutRecalc(e){this.changeEmitter.removeListener("layout",e)}triggerLayoutRecalc(){this.changeEmitter.emit("layout")}initialAutocompleteProducts(){this.searchProvider.autocompleteProducts("").then(()=>{this.updateState({hasAutocompleteProductsInfo:!0})}),this.searchProvider.getBestsellers().then(e=>{T.bestsellers=e})}initialPopulateSynonyms(){this.searchProvider.getSynonymsMap().then(e=>{T.synonyms=e})}updatePriceRange(e,t){this.updateState({priceSearchFilter:Ne.createCopy(this.state.priceSearchFilter,e,t)}),this.autocompleteStore.setNewSuggestions(new S(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))}updateRating(e){this.updateState({ratingSearchFilter:De.create(e)}),this.autocompleteStore.setNewSuggestions(new S(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions,this.autocompleteStore.state.autocompleteSuggestions.conceptSuggestions,this.getDisplayedProductSuggestions(this.autocompleteStore.state.autocompleteSuggestions.productSuggestions)))}deriveFiltersAndCategories(e,t){this.updateState(this.getDerivedFiltersAndCategories(e,this.state.selectedSearchFilters),t)}getDerivedFiltersAndCategories(e,t){return{availableCategorySearchFilters:this.getAvailableCategorySearchFilters(e,t),priceSearchFilter:this.getPriceSearchFilter(e),ratingSearchFilter:this.getRatingSearchFilter(e),availableProductTypeSearchFilers:this.getAvailableProductTypeSearchFilters(e,t)}}getAvailableCategorySearchFilters(e,t){if(!e||0==e.length)return[];const o=t&&t[0];null==o||o instanceof Fe||(e=e.filter(e=>o.matchesProduct(e)));const n={};for(const t of e)if(t.tags&&t.tags.length&&!t.isEarlierEdition)for(const e of t.tags)n[e]||(n[e]=0),n[e]++;const r=[];for(const e in n)r.push(new Fe(e,n[e]));return 1==r.length?[]:r.sort((e,t)=>t.resultCount-e.resultCount)}getPriceSearchFilter(e){return Ne.createPriceSearchFilter(e,this.state.priceSearchFilter)}getRatingSearchFilter(e){return De.create(null!=this.state.ratingSearchFilter?this.state.ratingSearchFilter.minimumRating:0)}getAvailableProductTypeSearchFilters(e,t){if(!e||0==e.length)return[];const o=t&&t[0];null==o||o instanceof je||(e=e.filter(e=>o.matchesProduct(e)));const n=je.createBookProductTypeSearchFilter(),r=je.createVideoProductTypeSearchFilter(),i=je.createBundleTypeSearchFilter(),s=je.createLiveProjectTypeSearchFilter(),a=je.createEarlierEditionTypeSearchFilter();for(const t of e)t.isBundle?i.resultCount++:t.isLivevideo?r.resultCount++:t.isLiveproject?s.resultCount++:t.isEarlierEdition||n.resultCount++,t.isEarlierEdition&&a.resultCount++;const c=[];return n.resultCount>0&&c.push(n),r.resultCount>0&&c.push(r),i.resultCount>0&&c.push(i),s.resultCount>0&&c.push(s),a.resultCount>0&&c.push(a),1==c.length?[]:c.sort((e,t)=>t.resultCount-e.resultCount)}getDisplayedProductSuggestions(e){let t=e.concat([]);if(null!=this.state.priceSearchFilter){const e=t.filter(e=>this.state.priceSearchFilter.matchesProduct(e));e.length>0&&(t=e)}if(null!=this.state.ratingSearchFilter){const e=t.filter(e=>this.state.ratingSearchFilter.matchesProduct(e));e.length>0&&(t=e)}if(null==this.state.selectedSearchFilters||0==this.state.selectedSearchFilters.length)return this.sortBySortOrder(this.removeEarlierEditions(t));const o=Ae.groupSearchFiltersByType(this.state.selectedSearchFilters);for(const e of o){const o={},n=[];for(const r of e)for(const e of t)r.matchesProduct(e)&&!o[e.id]&&(o[e.id]=!0,n.push(e));t=n}return this.sortBySortOrder(t)}removeEarlierEditions(e){return e.filter(e=>!e.isEarlierEdition)}sortBySortOrder(e){switch(this.state.sortOrder){case _e.NewestFirst:return e.sort((e,t)=>t.date.getTime()-e.date.getTime());case _e.PriceFromHighest:return e.sort((e,t)=>t.getPrice()-e.getPrice());case _e.PriceFromLowest:return e.sort((e,t)=>e.getPrice()-t.getPrice());case _e.BestMatch:return e.sort((e,t)=>e.searchOrder-t.searchOrder);default:return e}}changeBaseUrl(e){const t=this.searchProvider;null!=t&&t.changeBaseUrl&&t.changeBaseUrl(e)}}o(822);class He extends n.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={isOpen:this.props.initialIsOpen}}render(){return n.createElement("div",{className:l("search-filters-group-root",{"has-heading":!this.props.hideHeading})},!this.props.hideHeading&&n.createElement("div",{className:l("search-filters-group-heading",`search-filters-group-heading-${(this.props.categoryTitle||"").replace(/\s+/,"-")}`)},n.createElement("div",null,this.props.categoryTitle),n.createElement("button",{className:l("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(D,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-group-items-container"},this.props.searchFilters.map(e=>n.createElement("div",{key:e.label,className:"search-filters-group-item",onClick:t=>this.handleSearchFilterClick(e)},n.createElement("div",null,n.createElement("input",{type:"checkbox",checked:this.isSelected(e),onChange:e=>void 0}),n.createElement("span",{className:"search-filters-group-label"},e.label)),n.createElement("span",{className:"search-filters-group-count"},e.resultCount))))))}shouldComponentUpdate(e,t){return this.props.categoryTitle!=e.categoryTitle||this.props.searchFilters!=e.searchFilters||this.props.selectedSearchFilters!=e.selectedSearchFilters||this.state.isOpen!=t.isOpen}handleSearchFilterClick(e){this.props.onSelectionChange&&this.props.onSelectionChange(e,!this.isSelected(e))}isSelected(e){return null!=this.props.selectedSearchFilters&&0!=this.props.selectedSearchFilters.length&&null!=e&&null!=this.props.selectedSearchFilters.find(t=>t.label==e.label)}toggle(){this.setState({isOpen:!this.state.isOpen})}}o(824);function ze(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ve(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function $e(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(o),!0).forEach((function(t){ze(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ve(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t,o){return t&&Qe(e.prototype,t),o&&Qe(e,o),e}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Xe(e);if(t){var r=Xe(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Je(this,o)}}var tt={};function ot(e,t){0}function nt(e,t,o){t||tt[o]||(e(!1,o),tt[o]=!0)}var rt=function(e,t){nt(ot,e,t)},it=function(e){var t,o,n=e.className,i=e.included,s=e.vertical,a=e.style,c=e.length,l=e.offset,u=e.reverse;c<0&&(u=!u,c=Math.abs(c),l=100-l);var d=s?(ze(t={},u?"top":"bottom","".concat(l,"%")),ze(t,u?"bottom":"top","auto"),ze(t,"height","".concat(c,"%")),t):(ze(o={},u?"right":"left","".concat(l,"%")),ze(o,u?"left":"right","auto"),ze(o,"width","".concat(c,"%")),o),h=$e($e({},a),d);return i?r.a.createElement("div",{className:n,style:h}):null};function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function lt(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ct(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t,o){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xe(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(o):r.value}})(e,t,o||e)}function dt(e,t,o,n){var r=s.a.unstable_batchedUpdates?function(e){s.a.unstable_batchedUpdates(o,e)}:o;return e.addEventListener&&e.addEventListener(t,r,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,r)}}}var ht=function(e){var t=e.prefixCls,o=e.vertical,n=e.reverse,i=e.marks,s=e.dots,a=e.step,c=e.included,l=e.lowerBound,d=e.upperBound,h=e.max,p=e.min,g=e.dotStyle,m=e.activeDotStyle,f=h-p,b=function(e,t,o,n,r,i){rt(!o||n>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var s=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(o&&n)for(var a=r;a<=i;a+=n)-1===s.indexOf(a)&&s.push(a);return s}(0,i,s,a,p,h).map((function(e){var i,s="".concat(Math.abs(e-p)/f*100,"%"),a=!c&&e===d||c&&e<=d&&e>=l,h=$e($e({},g),{},ze({},o?n?"top":"bottom":n?"right":"left",s));a&&(h=$e($e({},h),m));var b=u()((ze(i={},"".concat(t,"-dot"),!0),ze(i,"".concat(t,"-dot-active"),a),ze(i,"".concat(t,"-dot-reverse"),n),i));return(r.a.createElement("span",{className:b,style:h,key:e}))}));return r.a.createElement("div",{className:"".concat(t,"-step")},b)},pt=function(e){var t=e.className,o=e.vertical,n=e.reverse,i=e.marks,s=e.included,a=e.upperBound,c=e.lowerBound,l=e.max,d=e.min,h=e.onClickLabel,p=Object.keys(i),g=l-d,m=p.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,p=i[e],m="object"===Ze(p)&&!r.a.isValidElement(p),f=m?p.label:p;if(!f&&0!==f)return null;var b=!s&&e===a||s&&e<=a&&e>=c,v=u()((ze(l={},"".concat(t,"-text"),!0),ze(l,"".concat(t,"-text-active"),b),l)),w=ze({marginBottom:"-50%"},n?"top":"bottom","".concat((e-d)/g*100,"%")),y=ze({transform:"translateX(".concat(n?"50%":"-50%",")"),msTransform:"translateX(".concat(n?"50%":"-50%",")")},n?"right":"left","".concat((e-d)/g*100,"%")),k=o?w:y,x=m?$e($e({},k),p.style):k;return r.a.createElement("span",{className:v,style:x,key:e,onMouseDown:function(t){return h(t,e)},onTouchStart:function(t){return h(t,e)}},f)}));return r.a.createElement("div",{className:t},m)},gt=function(e){Ge(o,e);var t=et(o);function o(){var e;return qe(this,o),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return Ke(o,[{key:"componentDidMount",value:function(){this.onMouseUpListener=dt(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,o,n=this.props,i=n.prefixCls,s=n.vertical,a=n.reverse,c=n.offset,l=n.style,d=n.disabled,h=n.min,p=n.max,g=n.value,m=n.tabIndex,f=n.ariaLabel,b=n.ariaLabelledBy,v=n.ariaValueTextFormatter,w=at(n,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),y=u()(this.props.className,ze({},"".concat(i,"-handle-click-focused"),this.state.clickFocused)),k=s?(ze(e={},a?"top":"bottom","".concat(c,"%")),ze(e,a?"bottom":"top","auto"),ze(e,"transform",a?null:"translateY(+50%)"),e):(ze(t={},a?"right":"left","".concat(c,"%")),ze(t,a?"left":"right","auto"),ze(t,"transform","translateX(".concat(a?"+":"-","50%)")),t),x=$e($e({},l),k),S=m||0;return(d||null===m)&&(S=null),v&&(o=v(g)),r.a.createElement("div",st({ref:this.setHandleRef,tabIndex:S},w,{className:y,style:x,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":h,"aria-valuemax":p,"aria-valuenow":g,"aria-disabled":!!d,"aria-label":f,"aria-labelledby":b,"aria-valuetext":o}))}}]),o}(r.a.Component),mt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=mt.F1&&t<=mt.F12)return!1;switch(t){case mt.ALT:case mt.CAPS_LOCK:case mt.CONTEXT_MENU:case mt.CTRL:case mt.DOWN:case mt.END:case mt.ESC:case mt.HOME:case mt.INSERT:case mt.LEFT:case mt.MAC_FF_META:case mt.META:case mt.NUMLOCK:case mt.NUM_CENTER:case mt.PAGE_DOWN:case mt.PAGE_UP:case mt.PAUSE:case mt.PRINT_SCREEN:case mt.RIGHT:case mt.SHIFT:case mt.UP:case mt.WIN_KEY:case mt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=mt.ZERO&&e<=mt.NINE)return!0;if(e>=mt.NUM_ZERO&&e<=mt.NUM_MULTIPLY)return!0;if(e>=mt.A&&e<=mt.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case mt.SPACE:case mt.QUESTION_MARK:case mt.NUM_PLUS:case mt.NUM_MINUS:case mt.NUM_PERIOD:case mt.NUM_DIVISION:case mt.SEMICOLON:case mt.DASH:case mt.EQUALS:case mt.COMMA:case mt.PERIOD:case mt.SLASH:case mt.APOSTROPHE:case mt.SINGLE_QUOTE:case mt.OPEN_SQUARE_BRACKET:case mt.BACKSLASH:case mt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ft=mt;function bt(e,t){try{return Object.keys(t).some((function(o){return e.target===Object(i.findDOMNode)(t[o])}))}catch(e){return!1}}function vt(e,t){var o=t.min,n=t.max;return e<o||e>n}function wt(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function yt(e,t){var o=t.marks,n=t.step,r=t.min,i=t.max,s=Object.keys(o).map(parseFloat);if(null!==n){var a=Math.pow(10,kt(n)),c=Math.floor((i*a-r*a)/(n*a)),l=Math.min((e-r)/n,c),u=Math.round(l)*n+r;s.push(u)}var d=s.map((function(t){return Math.abs(e-t)}));return s[d.indexOf(Math.min.apply(Math,lt(d)))]}function kt(e){var t=e.toString(),o=0;return t.indexOf(".")>=0&&(o=t.length-t.indexOf(".")-1),o}function xt(e,t){return e?t.clientY:t.pageX}function St(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Pt(e,t){var o=t.getBoundingClientRect();return e?o.top+.5*o.height:window.pageXOffset+o.left+.5*o.width}function Ct(e,t){var o=t.max,n=t.min;return e<=n?n:e>=o?o:e}function Tt(e,t){var o=t.step,n=isFinite(yt(e,t))?yt(e,t):0;return null===o?n:parseFloat(n.toFixed(kt(o)))}function Et(e){e.stopPropagation(),e.preventDefault()}function Lt(e,t,o){var n="increase";switch(e.keyCode){case ft.UP:n=t&&o?"decrease":"increase";break;case ft.RIGHT:n=!t&&o?"decrease":"increase";break;case ft.DOWN:n=t&&o?"increase":"decrease";break;case ft.LEFT:n=!t&&o?"increase":"decrease";break;case ft.END:return function(e,t){return t.max};case ft.HOME:return function(e,t){return t.min};case ft.PAGE_UP:return function(e,t){return e+2*t.step};case ft.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,o){var n={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},r=n[e](Object.keys(o.marks).indexOf(JSON.stringify(t)),1),i=Object.keys(o.marks)[r];return o.step?n[e](t,o.step):Object.keys(o.marks).length&&o.marks[i]?o.marks[i]:t}(n,e,t)}}function Ot(){}function It(e){var t;return(t=function(e){Ge(o,e);var t=et(o);function o(e){var n;qe(this,o),(n=t.call(this,e)).onDown=function(e,t){var o=t,r=n.props,i=r.draggableTrack,s=r.vertical,a=n.state.bounds,c=i&&n.positionGetValue&&n.positionGetValue(o)||[],l=bt(e,n.handlesRefs);if(n.dragTrack=i&&a.length>=2&&!l&&!c.map((function(e,t){var o=!!t||e>=a[t];return t===c.length-1?e<=a[t]:o})).some((function(e){return!e})),n.dragTrack)n.dragOffset=o,n.startBounds=lt(a);else{if(l){var u=Pt(s,e.target);n.dragOffset=o-u,o=u}else n.dragOffset=0;n.onStart(o)}},n.onMouseDown=function(e){if(0===e.button){n.removeDocumentEvents();var t=xt(n.props.vertical,e);n.onDown(e,t),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!wt(e)){var t=St(n.props.vertical,e);n.onDown(e,t),n.addDocumentTouchEvents(),Et(e)}},n.onFocus=function(e){var t=n.props,o=t.onFocus,r=t.vertical;if(bt(e,n.handlesRefs)&&!n.dragTrack){var i=Pt(r,e.target);n.dragOffset=0,n.onStart(i),Et(e),o&&o(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.dragTrack||n.onEnd(),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=xt(n.props.vertical,e);n.onMove(e,t-n.dragOffset,n.dragTrack,n.startBounds)}else n.onEnd()},n.onTouchMove=function(e){if(!wt(e)&&n.sliderRef){var t=St(n.props.vertical,e);n.onMove(e,t-n.dragOffset,n.dragTrack,n.startBounds)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&bt(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t}),n.setState({value:t},(function(){return n.onEnd(!0)}))},n.saveSlider=function(e){n.sliderRef=e};var r=e.step,i=e.max,s=e.min,a=!isFinite(i-s)||(i-s)%r==0;return rt(!r||Math.floor(r)!==r||a,"Slider[max] - Slider[min] (".concat(i-s,") should be a multiple of Slider[step] (").concat(r,")")),n.handlesRefs={},n}return Ke(o,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,o=e.disabled;t&&!o&&this.focus()}},{key:"componentWillUnmount",value:function(){ut(Xe(o.prototype),"componentWillUnmount",this)&&ut(Xe(o.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,o=t.vertical,n=t.reverse,r=e.getBoundingClientRect();return o?n?r.bottom:r.top:window.pageXOffset+(n?r.right:r.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=dt(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=dt(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=dt(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=dt(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var o,n;null===(o=e.handlesRefs[t])||void 0===o||null===(n=o.blur)||void 0===n||n.call(o)}))}},{key:"calcValue",value:function(e){var t=this.props,o=t.vertical,n=t.min,r=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return o?(1-i)*(r-n)+n:i*(r-n)+n}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,o=t.min,n=(e-o)/(t.max-o);return Math.max(0,100*n)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,s=t.marks,a=t.dots,c=t.step,l=t.included,d=t.disabled,h=t.vertical,p=t.reverse,g=t.min,m=t.max,f=t.children,b=t.maximumTrackStyle,v=t.style,w=t.railStyle,y=t.dotStyle,k=t.activeDotStyle,x=ut(Xe(o.prototype),"render",this).call(this),S=x.tracks,P=x.handles,C=u()(n,(ze(e={},"".concat(n,"-with-marks"),Object.keys(s).length),ze(e,"".concat(n,"-disabled"),d),ze(e,"".concat(n,"-vertical"),h),ze(e,i,i),e));return r.a.createElement("div",{ref:this.saveSlider,className:C,onTouchStart:d?Ot:this.onTouchStart,onMouseDown:d?Ot:this.onMouseDown,onMouseUp:d?Ot:this.onMouseUp,onKeyDown:d?Ot:this.onKeyDown,onFocus:d?Ot:this.onFocus,onBlur:d?Ot:this.onBlur,style:v},r.a.createElement("div",{className:"".concat(n,"-rail"),style:$e($e({},b),w)}),S,r.a.createElement(ht,{prefixCls:n,vertical:h,reverse:p,marks:s,dots:a,step:c,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:g,dotStyle:y,activeDotStyle:k}),P,r.a.createElement(pt,{className:"".concat(n,"-mark"),onClickLabel:d?Ot:this.onClickMarkLabel,vertical:h,marks:s,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:g,reverse:p}),f)}}]),o}(e)).displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=$e($e({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,o=at(e,["index"]);return delete o.dragging,null===o.value?null:r.a.createElement(gt,st({},o,{key:t}))},onBeforeChange:Ot,onChange:Ot,onAfterChange:Ot,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var Rt=It(function(e){Ge(o,e);var t=et(o);function o(e){var n;qe(this,o),(n=t.call(this,e)).positionGetValue=function(e){return[]},n.onEnd=function(e){var t=n.state.dragging;n.removeDocumentEvents(),(t||e)&&n.props.onAfterChange(n.getValue()),n.setState({dragging:!1})};var r=void 0!==e.defaultValue?e.defaultValue:e.min,i=void 0!==e.value?e.value:r;return n.state={value:n.trimAlignValue(i),dragging:!1},rt(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),rt(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),n}return Ke(o,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var o=this.props,n=o.min,r=o.max,i=o.value,s=o.onChange;if("min"in this.props||"max"in this.props){var a=void 0!==i?i:t.value,c=this.trimAlignValue(a,this.props);c!==t.value&&(this.setState({value:c}),n===e.min&&r===e.max||!vt(a,this.props)||s(c))}}},{key:"onChange",value:function(e){var t=this.props,o=!("value"in t),n=e.value>this.props.max?$e($e({},e),{},{value:this.props.max}):e;o&&this.setState(n);var r=n.value;t.onChange(r)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,o=this.getValue();t.onBeforeChange(o);var n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e,n!==o&&(this.prevMovedHandleIndex=0,this.onChange({value:n}))}},{key:"onMove",value:function(e,t){Et(e);var o=this.state.value,n=this.calcValueByPos(t);n!==o&&this.onChange({value:n})}},{key:"onKeyboard",value:function(e){var t=this.props,o=t.reverse,n=Lt(e,t.vertical,o);if(n){Et(e);var r=this.state.value,i=n(r,this.props),s=this.trimAlignValue(i);if(s===r)return;this.onChange({value:s}),this.props.onAfterChange(s),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var o=$e($e({},this.props),t),n=Ct(e,o);return Tt(n,o)}},{key:"render",value:function(){var e=this,t=this.props,o=t.prefixCls,n=t.vertical,i=t.included,s=t.disabled,a=t.minimumTrackStyle,c=t.trackStyle,l=t.handleStyle,u=t.tabIndex,d=t.ariaLabelForHandle,h=t.ariaLabelledByForHandle,p=t.ariaValueTextFormatterForHandle,g=t.min,m=t.max,f=t.startPoint,b=t.reverse,v=t.handle,w=this.state,y=w.value,k=w.dragging,x=this.calcOffset(y),S=v({className:"".concat(o,"-handle"),prefixCls:o,vertical:n,offset:x,value:y,dragging:k,disabled:s,min:g,max:m,reverse:b,index:0,tabIndex:u,ariaLabel:d,ariaLabelledBy:h,ariaValueTextFormatter:p,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),P=void 0!==f?this.calcOffset(f):0,C=c[0]||c;return{tracks:r.a.createElement(it,{className:"".concat(o,"-track"),vertical:n,included:i,offset:P,reverse:b,length:x-P,style:$e($e({},a),C)}),handles:S}}}]),o}(r.a.Component)),Mt=function(e){var t=e.value,o=e.handle,n=e.bounds,r=e.props,i=r.allowCross,s=r.pushable,a=Number(s),c=Ct(t,r),l=c;return i||null==o||void 0===n||(o>0&&c<=n[o-1]+a&&(l=n[o-1]+a),o<n.length-1&&c>=n[o+1]-a&&(l=n[o+1]-a)),Tt(l,r)},At=function(e){Ge(o,e);var t=et(o);function o(e){var n;qe(this,o),(n=t.call(this,e)).positionGetValue=function(e){var t=n.getValue(),o=n.calcValueByPos(e),r=n.getClosestBound(o),i=n.getBoundNeedMoving(o,r);if(o===t[i])return null;var s=lt(t);return s[i]=o,s},n.onEnd=function(e){var t=n.state.handle;n.removeDocumentEvents(),t||(n.dragTrack=!1),(null!==t||e)&&n.props.onAfterChange(n.getValue()),n.setState({handle:null})};var r=e.count,i=e.min,s=e.max,a=Array.apply(void 0,lt(Array(r+1))).map((function(){return i})),c="defaultValue"in e?e.defaultValue:a,l=(void 0!==e.value?e.value:c).map((function(t,o){return Mt({value:t,handle:o,props:e})})),u=l[0]===s?0:l.length-1;return n.state={handle:null,recent:u,bounds:l},n}return Ke(o,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var o=this,n=this.props,r=n.onChange,i=n.value,s=n.min,a=n.max;if(("min"in this.props||"max"in this.props)&&(s!==e.min||a!==e.max)){var c=i||t.bounds;if(c.some((function(e){return vt(e,o.props)})))r(c.map((function(e){return Ct(e,o.props)})))}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var o={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(o[t]=e[t])})),Object.keys(o).length&&this.setState(o)}var n=$e($e({},this.state),e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,o=this.state,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var i=this.getClosestBound(r);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,i),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r!==n[this.prevMovedHandleIndex]){var s=lt(o.bounds);s[this.prevMovedHandleIndex]=r,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t,o,n){Et(e);var r=this.state,i=this.props,s=i.max||100,a=i.min||0;if(o){var c=i.vertical?-t:t;c=i.reverse?-c:c;var l=s-Math.max.apply(Math,lt(n)),u=a-Math.min.apply(Math,lt(n)),d=Math.min(Math.max(c/(this.getSliderLength()/100),u),l),h=n.map((function(e){return Math.floor(Math.max(Math.min(e+d,s),a))}));r.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var p=this.calcValueByPos(t);p!==r.bounds[r.handle]&&this.moveTo(p)}}},{key:"onKeyboard",value:function(e){var t=this.props,o=t.reverse,n=Lt(e,t.vertical,o);if(n){Et(e);var r=this.state,i=this.props,s=r.bounds,a=r.handle,c=s[null===a?r.recent:a],l=n(c,i),u=Mt({value:l,handle:a,bounds:r.bounds,props:i});if(u===c)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,o=0,n=1;n<t.length-1;n+=1)e>=t[n]&&(o=n);return Math.abs(t[o+1]-e)<Math.abs(t[o]-e)&&(o+=1),o}},{key:"getBoundNeedMoving",value:function(e,t){var o=this.state,n=o.bounds,r=o.recent,i=t,s=n[t+1]===n[t];return s&&n[r]===n[t]&&(i=r),s&&e!==n[t+1]&&(i=e<n[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,o=e.step,n=e.min,r=e.max,i=this.internalPointsCache;if(!i||i.marks!==t||i.step!==o){var s=$e({},t);if(null!==o)for(var a=n;a<=r;a+=o)s[a]=a;var c=Object.keys(s).map(parseFloat);c.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:o,points:c}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var o=this,n=this.state,r=this.props,i=lt(n.bounds),s=null===n.handle?n.recent:n.handle;i[s]=e;var a=s;!1!==r.pushable?this.pushSurroundingHandles(i,a):r.allowCross&&(i.sort((function(e,t){return e-t})),a=i.indexOf(e)),this.onChange({recent:a,handle:a,bounds:i}),t&&(this.props.onAfterChange(i),this.setState({},(function(){o.handlesRefs[a].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var o=e[t],n=this.props.pushable,r=Number(n),i=0;if(e[t+1]-o<r&&(i=1),o-e[t-1]<r&&(i=-1),0!==i){var s=t+i,a=i*(e[s]-o);this.pushHandle(e,s,i,r-a)||(e[t]=e[s]-i*r)}}},{key:"pushHandle",value:function(e,t,o,n){for(var r=e[t],i=e[t];o*(i-r)<n;){if(!this.pushHandleOnePoint(e,t,o))return e[t]=r,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,o){var n=this.getPoints(),r=n.indexOf(e[t])+o;if(r>=n.length||r<0)return!1;var i=t+o,s=n[r],a=this.props.pushable,c=Number(a),l=o*(e[i]-s);return!!this.pushHandle(e,i,o,c-l)&&(e[t]=s,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,o=t.handle,n=t.bounds;return Mt({value:e,handle:o,bounds:n,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,o=t.handle,n=t.bounds,i=this.props,s=i.prefixCls,a=i.vertical,c=i.included,l=i.disabled,d=i.min,h=i.max,p=i.reverse,g=i.handle,m=i.trackStyle,f=i.handleStyle,b=i.tabIndex,v=i.ariaLabelGroupForHandles,w=i.ariaLabelledByGroupForHandles,y=i.ariaValueTextFormatterGroupForHandles,k=n.map((function(t){return e.calcOffset(t)})),x="".concat(s,"-handle"),S=n.map((function(t,n){var r,i=b[n]||0;(l||null===b[n])&&(i=null);var c=o===n;return g({className:u()((r={},ze(r,x,!0),ze(r,"".concat(x,"-").concat(n+1),!0),ze(r,"".concat(x,"-dragging"),c),r)),prefixCls:s,vertical:a,dragging:c,offset:k[n],value:t,index:n,tabIndex:i,min:d,max:h,reverse:p,disabled:l,style:f[n],ref:function(t){return e.saveHandle(n,t)},ariaLabel:v[n],ariaLabelledBy:w[n],ariaValueTextFormatter:y[n]})}));return{tracks:n.slice(0,-1).map((function(e,t){var o,n=t+1,i=u()((ze(o={},"".concat(s,"-track"),!0),ze(o,"".concat(s,"-track-").concat(n),!0),o));return r.a.createElement(it,{className:i,vertical:a,reverse:p,included:c,offset:k[n-1],length:k[n]-k[n-1],style:m[t],key:n})})),handles:S}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var o=e.value||t.bounds,n=o.map((function(o,n){return Mt({value:o,handle:n,bounds:t.bounds,props:e})}));if(t.bounds.length===n.length){if(n.every((function(e,o){return e===t.bounds[o]})))return null}else n=o.map((function(t,o){return Mt({value:t,handle:o,props:e})}));return $e($e({},t),{},{bounds:n})}}]),o}(r.a.Component);At.displayName="Range",At.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var Ft=It(At);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Dt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function _t(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Bt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ut(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Wt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(o),!0).forEach((function(t){Bt(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ut(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ht(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?zt(e):t}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=$t(e);if(t){var r=$t(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Qt(this,o)}}var Yt=function(e){return+setTimeout(e,16)},Gt=function(e){return clearTimeout(e)};function Xt(e){return Yt(e)}function Zt(e,t){return!!e&&e.contains(t)}function Jt(e){return e instanceof HTMLElement?e:s.a.findDOMNode(e)}"undefined"!=typeof window&&"requestAnimationFrame"in window&&(Yt=function(e){return window.requestAnimationFrame(e)},Gt=function(e){return window.cancelAnimationFrame(e)}),Xt.cancel=Gt;var eo=o(826);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){"function"==typeof e?e(t):"object"===to(e)&&e&&"current"in e&&(e.current=t)}function no(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){t.forEach((function(t){oo(t,e)}))}}function ro(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var io=Object(n.forwardRef)((function(e,t){var o=e.didUpdate,r=e.getContainer,i=e.children,a=Object(n.useRef)();Object(n.useImperativeHandle)(t,(function(){return{}}));var c=Object(n.useRef)(!1);return!c.current&&ro()&&(a.current=r(),c.current=!0),Object(n.useEffect)((function(){null==o||o(e)})),Object(n.useEffect)((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?s.a.createPortal(i,a.current):null}));function so(e,t,o){return o?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function uo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function ho(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function po(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(o),!0).forEach((function(t){uo(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ho(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function mo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit".concat(e)]="webkit".concat(t),o["Moz".concat(e)]="moz".concat(t),o["ms".concat(e)]="MS".concat(t),o["O".concat(e)]="o".concat(t.toLowerCase()),o}var vo=function(e,t){var o={animationend:bo("Animation","AnimationEnd"),transitionend:bo("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete o.animationend.animation,"TransitionEvent"in t||delete o.transitionend.transition),o}(ro(),"undefined"!=typeof window?window:{}),wo={};if(ro()){var yo=document.createElement("div");wo=yo.style}var ko={};function xo(e){if(ko[e])return ko[e];var t=vo[e];if(t)for(var o=Object.keys(t),n=o.length,r=0;r<n;r+=1){var i=o[r];if(Object.prototype.hasOwnProperty.call(t,i)&&i in wo)return ko[e]=t[i],ko[e]}return""}var So=xo("animationend"),Po=xo("transitionend"),Co=!(!So||!Po),To=So||"animationend",Eo=Po||"transitionend";function Lo(e,t){return e?"object"===fo(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var Oo="none",Io="appear",Ro="enter",Mo="leave",Ao="prepare",Fo="start",No="active",jo="end";function Do(e){var t=Object(n.useRef)(!1),o=mo(Object(n.useState)(e),2),r=o[0],i=o[1];return Object(n.useEffect)((function(){return function(){t.current=!0}}),[]),[r,function(e){t.current||i(e)}]}var _o=ro()?n.useLayoutEffect:n.useEffect,Bo=[Ao,Fo,No,jo],Uo=!1,Wo=!0;function Ho(e){return e===No||e===jo}var zo=function(e,t){var o=mo(n.useState("none"),2),r=o[0],i=o[1],s=mo(function(){var e=n.useRef(null);function t(){Xt.cancel(e.current)}return n.useEffect((function(){return function(){t()}}),[]),[function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=Xt((function(){r<=1?n({isCanceled:function(){return i!==e.current}}):o(n,r-1)}));e.current=i},t]}(),2),a=s[0],c=s[1];return _o((function(){if("none"!==r&&r!==jo){var e=Bo.indexOf(r),o=Bo[e+1],n=t(r);n===Uo?i(o):a((function(e){function t(){e.isCanceled()||i(o)}!0===n?t():Promise.resolve(n).then(t)}))}}),[e,r]),n.useEffect((function(){return function(){c()}}),[]),[function(){i(Ao)},r]},Vo=function(e){var t=Object(n.useRef)(),o=Object(n.useRef)(e);o.current=e;var r=n.useCallback((function(e){o.current(e)}),[]);function i(e){e&&(e.removeEventListener(Eo,r),e.removeEventListener(To,r))}return n.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(Eo,r),e.addEventListener(To,r),t.current=e)},i]};function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qo(e,t,o){return t&&qo(e.prototype,t),o&&qo(e,o),e}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Go(e);if(t){var r=Go(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Xo(this,o)}}var Jo=function(e){Yo(o,e);var t=Zo(o);function o(){return $o(this,o),t.apply(this,arguments)}return Qo(o,[{key:"render",value:function(){return this.props.children}}]),o}(n.Component);var en=function(e){var t=e;function o(e){return!(!e.motionName||!t)}"object"===fo(e)&&(t=e.transitionSupport);var r=n.forwardRef((function(e,t){var r=e.visible,i=void 0===r||r,s=e.removeOnLeave,a=void 0===s||s,c=e.forceRender,l=e.children,d=e.motionName,h=e.leavedClassName,p=e.eventProps,g=o(e),m=Object(n.useRef)(),f=Object(n.useRef)();var b=function(e,t,o,r){var i=r.motionEnter,s=void 0===i||i,a=r.motionAppear,c=void 0===a||a,l=r.motionLeave,u=void 0===l||l,d=r.motionDeadline,h=r.motionLeaveImmediately,p=r.onAppearPrepare,g=r.onEnterPrepare,m=r.onLeavePrepare,f=r.onAppearStart,b=r.onEnterStart,v=r.onLeaveStart,w=r.onAppearActive,y=r.onEnterActive,k=r.onLeaveActive,x=r.onAppearEnd,S=r.onEnterEnd,P=r.onLeaveEnd,C=r.onVisibleChanged,T=mo(Do(),2),E=T[0],L=T[1],O=mo(Do(Oo),2),I=O[0],R=O[1],M=mo(Do(null),2),A=M[0],F=M[1],N=Object(n.useRef)(!1),j=Object(n.useRef)(null),D=Object(n.useRef)(!1),_=Object(n.useRef)(null);function B(){return o()||_.current}var U=Object(n.useRef)(!1);function W(e){var t,o=B();e&&!e.deadline&&e.target!==o||(I===Io&&U.current?t=null==x?void 0:x(o,e):I===Ro&&U.current?t=null==S?void 0:S(o,e):I===Mo&&U.current&&(t=null==P?void 0:P(o,e)),!1===t||D.current||(R(Oo),F(null)))}var H=mo(Vo(W),1)[0],z=n.useMemo((function(){var e,t,o;switch(I){case"appear":return uo(e={},Ao,p),uo(e,Fo,f),uo(e,No,w),e;case"enter":return uo(t={},Ao,g),uo(t,Fo,b),uo(t,No,y),t;case"leave":return uo(o={},Ao,m),uo(o,Fo,v),uo(o,No,k),o;default:return{}}}),[I]),V=mo(zo(I,(function(e){if(e===Ao){var t=z[Ao];return t?t(B()):Uo}var o;q in z&&F((null===(o=z[q])||void 0===o?void 0:o.call(z,B(),null))||null);return q===No&&(H(B()),d>0&&(clearTimeout(j.current),j.current=setTimeout((function(){W({deadline:!0})}),d))),Wo})),2),$=V[0],q=V[1],Q=Ho(q);U.current=Q,_o((function(){if(L(t),e){var o,n=N.current;N.current=!0,!n&&t&&c&&(o=Io),n&&t&&s&&(o=Ro),(n&&!t&&u||!n&&h&&!t&&u)&&(o=Mo),o&&(R(o),$())}}),[t]),Object(n.useEffect)((function(){(I===Io&&!c||I===Ro&&!s||I===Mo&&!u)&&R(Oo)}),[c,s,u]),Object(n.useEffect)((function(){return function(){clearTimeout(j.current),D.current=!0}}),[]),Object(n.useEffect)((function(){void 0!==E&&I===Oo&&(null==C||C(E))}),[E,I]);var K=A;return z[Ao]&&q===Fo&&(K=po({transition:"none"},K)),[I,q,K,null!=E?E:t]}(g,i,(function(){try{return Jt(m.current||f.current)}catch(e){return null}}),e),v=mo(b,4),w=v[0],y=v[1],k=v[2],x=v[3],S=Object(n.useRef)(t);S.current=t;var P,C=n.useCallback((function(e){m.current=e,oo(S.current,e)}),[]),T=po(po({},p),{},{visible:i});if(l)if(w!==Oo&&o(e)){var E,L;y===Ao?L="prepare":Ho(y)?L="active":y===Fo&&(L="start"),P=l(po(po({},T),{},{className:u()(Lo(d,w),(E={},uo(E,Lo(d,"".concat(w,"-").concat(L)),L),uo(E,d,"string"==typeof d),E)),style:k}),C)}else P=x?l(po({},T),C):a?c?l(po(po({},T),{},{style:{display:"none"}}),C):null:l(po(po({},T),{},{className:h}),C);else P=null;return(n.createElement(Jo,{ref:f},P))}));return r.displayName="CSSMotion",r}(Co);function tn(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var on="add",nn="keep",rn="remove",sn="removed";function an(e){var t;return po(po({},t=e&&"object"===fo(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function cn(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(an)}var ln=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en,o=function(e){Yo(r,e);var o=Zo(r);function r(){var e;return $o(this,r),(e=o.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:po(po({},e),{},{status:sn})}))}}))},e}return Qo(r,[{key:"render",value:function(){var e=this,o=this.state.keyEntities,r=this.props,i=r.component,s=r.children,a=r.onVisibleChanged,c=tn(r,["component","children","onVisibleChanged"]),l=i||n.Fragment,u={};return ln.forEach((function(e){u[e]=c[e],delete c[e]})),delete c.keys,n.createElement(l,Object.assign({},c),o.map((function(o){var r=o.status,i=tn(o,["status"]),c=r===on||r===nn;return n.createElement(t,Object.assign({},u,{key:i.key,visible:c,eventProps:i,onVisibleChanged:function(t){null==a||a(t,{key:i.key}),t||e.removeKey(i.key)}}),s)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.keys,n=t.keyEntities,r=cn(o);return{keyEntities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[],n=0,r=t.length,i=cn(e),s=cn(t);i.forEach((function(e){for(var t=!1,i=n;i<r;i+=1){var a=s[i];if(a.key===e.key){n<i&&(o=o.concat(s.slice(n,i).map((function(e){return po(po({},e),{},{status:on})}))),n=i),o.push(po(po({},a),{},{status:nn})),n+=1,t=!0;break}}t||o.push(po(po({},e),{},{status:rn}))})),n<r&&(o=o.concat(s.slice(n).map((function(e){return po(po({},e),{},{status:on})}))));var a={};return o.forEach((function(e){var t=e.key;a[t]=(a[t]||0)+1})),Object.keys(a).filter((function(e){return a[e]>1})).forEach((function(e){(o=o.filter((function(t){var o=t.key,n=t.status;return o!==e||n!==rn}))).forEach((function(t){t.key===e&&(t.status=nn)}))})),o}(n,r).filter((function(e){var t=n.find((function(t){var o=t.key;return e.key===o}));return!t||t.status!==sn||e.status!==rn}))}}}]),r}(n.Component);o.defaultProps={component:"div"}}(Co);var un=en;function dn(e){var t=e.prefixCls,o=e.motion,n=e.animation,r=e.transitionName;return o||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function hn(e){var t=e.prefixCls,o=e.visible,r=e.zIndex,i=e.mask,s=e.maskMotion,a=e.maskAnimation,c=e.maskTransitionName;if(!i)return null;var l={};return(s||c||a)&&(l=Wt({motionAppear:!0},dn({motion:s,prefixCls:t,transitionName:c,animation:a}))),n.createElement(un,Object.assign({},l,{visible:o,removeOnLeave:!0}),(function(e){var o=e.className;return n.createElement("div",{style:{zIndex:r},className:u()("".concat(t,"-mask"),o)})}))}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(o.push(s.value),!t||o.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?pn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function wn(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var yn={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function kn(){if(void 0!==fn)return fn;fn="";var e=document.createElement("p").style;for(var t in yn)t+"Transform"in e&&(fn=t);return fn}function xn(){return kn()?"".concat(kn(),"TransitionProperty"):"transitionProperty"}function Sn(){return kn()?"".concat(kn(),"Transform"):"transform"}function Pn(e,t){var o=xn();o&&(e.style[o]=t,"transitionProperty"!==o&&(e.style.transitionProperty=t))}function Cn(e,t){var o=Sn();o&&(e.style[o]=t,"transform"!==o&&(e.style.transform=t))}var Tn,En=/matrix\((.*)\)/,Ln=/matrix3d\((.*)\)/;function On(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function In(e,t,o){var n=o;if("object"!==bn(t))return void 0!==n?("number"==typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):Tn(e,t);for(var r in t)t.hasOwnProperty(r)&&In(e,r,t[r])}function Rn(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof o){var r=e.document;"number"!=typeof(o=r.documentElement[n])&&(o=r.body[n])}return o}function Mn(e){return Rn(e)}function An(e){return Rn(e,!0)}function Fn(e){var t=function(e){var t,o,n,r=e.ownerDocument,i=r.body,s=r&&r.documentElement;return o=(t=e.getBoundingClientRect()).left,n=t.top,{left:o-=s.clientLeft||i.clientLeft||0,top:n-=s.clientTop||i.clientTop||0}}(e),o=e.ownerDocument,n=o.defaultView||o.parentWindow;return t.left+=Mn(n),t.top+=An(n),t}function Nn(e){return null!=e&&e==e.window}function jn(e){return Nn(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Dn=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),_n=/^(top|right|bottom|left)$/,Bn="currentStyle",Un="runtimeStyle",Wn="left",Hn="px";function zn(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Vn(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function $n(e,t,o){"static"===In(e,"position")&&(e.style.position="relative");var n=-999,r=-999,i=zn("left",o),s=zn("top",o),a=Vn(i),c=Vn(s);"left"!==i&&(n=999),"top"!==s&&(r=999);var l,u="",d=Fn(e);("left"in t||"top"in t)&&(u=(l=e).style.transitionProperty||l.style[xn()]||"",Pn(e,"none")),"left"in t&&(e.style[a]="",e.style[i]="".concat(n,"px")),"top"in t&&(e.style[c]="",e.style[s]="".concat(r,"px")),On(e);var h=Fn(e),p={};for(var g in t)if(t.hasOwnProperty(g)){var m=zn(g,o),f="left"===g?n:r,b=d[g]-h[g];p[m]=m===g?f+b:f-b}In(e,p),On(e),("left"in t||"top"in t)&&Pn(e,u);var v={};for(var w in t)if(t.hasOwnProperty(w)){var y=zn(w,o),k=t[w]-d[w];v[y]=w===y?p[y]+k:p[y]-k}In(e,v)}function qn(e,t){var o=Fn(e),n=function(e){var t=window.getComputedStyle(e,null),o=t.getPropertyValue("transform")||t.getPropertyValue(Sn());if(o&&"none"!==o){var n=o.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}(e),r={x:n.x,y:n.y};"left"in t&&(r.x=n.x+t.left-o.left),"top"in t&&(r.y=n.y+t.top-o.top),function(e,t){var o=window.getComputedStyle(e,null),n=o.getPropertyValue("transform")||o.getPropertyValue(Sn());if(n&&"none"!==n){var r,i=n.match(En);if(i)(r=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,r[5]=t.y,Cn(e,"matrix(".concat(r.join(","),")"));else(r=n.match(Ln)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,r[13]=t.y,Cn(e,"matrix3d(".concat(r.join(","),")"))}else Cn(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,r)}function Qn(e,t){for(var o=0;o<e.length;o++)t(e[o])}function Kn(e){return"border-box"===Tn(e,"boxSizing")}"undefined"!=typeof window&&(Tn=window.getComputedStyle?function(e,t,o){var n=o,r="",i=jn(e);return(n=n||i.defaultView.getComputedStyle(e,null))&&(r=n.getPropertyValue(t)||n[t]),r}:function(e,t){var o=e[Bn]&&e[Bn][t];if(Dn.test(o)&&!_n.test(t)){var n=e.style,r=n[Wn],i=e[Un][Wn];e[Un][Wn]=e[Bn][Wn],n[Wn]="fontSize"===t?"1em":o||0,o=n.pixelLeft+Hn,n[Wn]=r,e[Un][Wn]=i}return""===o?"auto":o});var Yn=["margin","border","padding"],Gn=-1,Xn=2,Zn=1;function Jn(e,t,o){var n,r,i,s=0;for(r=0;r<t.length;r++)if(n=t[r])for(i=0;i<o.length;i++){var a=void 0;a="border"===n?"".concat(n).concat(o[i],"Width"):n+o[i],s+=parseFloat(Tn(e,a))||0}return s}var er={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function tr(e,t,o){var n=o;if(Nn(e))return"width"===t?er.viewportWidth(e):er.viewportHeight(e);if(9===e.nodeType)return"width"===t?er.docWidth(e):er.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,s=(Tn(e),Kn(e)),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=Tn(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=s?Zn:Gn);var c=void 0!==i||s,l=i||a;return n===Gn?c?l-Jn(e,["border","padding"],r):a:c?n===Zn?l:l+(n===Xn?-Jn(e,["border"],r):Jn(e,["margin"],r)):a+Jn(e,Yn.slice(n),r)}Qn(["Width","Height"],(function(e){er["doc".concat(e)]=function(t){var o=t.document;return Math.max(o.documentElement["scroll".concat(e)],o.body["scroll".concat(e)],er["viewport".concat(e)](o))},er["viewport".concat(e)]=function(t){var o="client".concat(e),n=t.document,r=n.body,i=n.documentElement[o];return"CSS1Compat"===n.compatMode&&i||r&&r[o]||i}}));var or={position:"absolute",visibility:"hidden",display:"block"};function nr(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n,r=t[0];return 0!==r.offsetWidth?n=tr.apply(void 0,t):function(e,t,o){var n,r={},i=e.style;for(n in t)t.hasOwnProperty(n)&&(r[n]=i[n],i[n]=t[n]);for(n in o.call(e),t)t.hasOwnProperty(n)&&(i[n]=r[n])}(r,or,(function(){n=tr.apply(void 0,t)})),n}function rr(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}Qn(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);er["outer".concat(t)]=function(t,o){return t&&nr(t,e,o?0:Zn)};var o="width"===e?["Left","Right"]:["Top","Bottom"];er[e]=function(t,n){var r=n;if(void 0===r)return t&&nr(t,e,Gn);if(t){Tn(t);return Kn(t)&&(r+=Jn(t,["padding","border"],o)),In(t,e,r)}}}));var ir={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:jn,offset:function(e,t,o){if(void 0===t)return Fn(e);!function(e,t,o){if(o.ignoreShake){var n=Fn(e),r=n.left.toFixed(0),i=n.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(r===s&&i===a)return}o.useCssRight||o.useCssBottom?$n(e,t,o):o.useCssTransform&&Sn()in document.body.style?qn(e,t):$n(e,t,o)}(e,t,o||{})},isWindow:Nn,each:Qn,css:In,clone:function(e){var t,o={};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(o.overflow[t]=e.overflow[t]);return o},mix:rr,getWindowScrollLeft:function(e){return Mn(e)},getWindowScrollTop:function(e){return An(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)ir.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};rr(ir,er);var sr=ir.getParent;function ar(e){if(ir.isWindow(e)||9===e.nodeType)return null;var t,o=ir.getDocument(e).body,n=ir.css(e,"position");if(!("fixed"===n||"absolute"===n))return"html"===e.nodeName.toLowerCase()?null:sr(e);for(t=sr(e);t&&t!==o&&9!==t.nodeType;t=sr(t))if("static"!==(n=ir.css(t,"position")))return t;return null}var cr=ir.getParent;function lr(e,t){for(var o={left:0,right:1/0,top:0,bottom:1/0},n=ar(e),r=ir.getDocument(e),i=r.defaultView||r.parentWindow,s=r.body,a=r.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===s||n===a||"visible"===ir.css(n,"overflow")){if(n===s||n===a)break}else{var c=ir.offset(n);c.left+=n.clientLeft,c.top+=n.clientTop,o.top=Math.max(o.top,c.top),o.right=Math.min(o.right,c.left+n.clientWidth),o.bottom=Math.min(o.bottom,c.top+n.clientHeight),o.left=Math.max(o.left,c.left)}n=ar(n)}var l=null;ir.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===ir.css(e,"position")&&(e.style.position="fixed"));var u=ir.getWindowScrollLeft(i),d=ir.getWindowScrollTop(i),h=ir.viewportWidth(i),p=ir.viewportHeight(i),g=a.scrollWidth,m=a.scrollHeight,f=window.getComputedStyle(s);if("hidden"===f.overflowX&&(g=i.innerWidth),"hidden"===f.overflowY&&(m=i.innerHeight),e.style&&(e.style.position=l),t||function(e){if(ir.isWindow(e)||9===e.nodeType)return!1;var t=ir.getDocument(e).body,o=null;for(o=cr(e);o&&o!==t;o=cr(o)){if("fixed"===ir.css(o,"position"))return!0}return!1}(e))o.left=Math.max(o.left,u),o.top=Math.max(o.top,d),o.right=Math.min(o.right,u+h),o.bottom=Math.min(o.bottom,d+p);else{var b=Math.max(g,u+h);o.right=Math.min(o.right,b);var v=Math.max(m,d+p);o.bottom=Math.min(o.bottom,v)}return o.top>=0&&o.left>=0&&o.bottom>o.top&&o.right>o.left?o:null}function ur(e){var t,o,n;if(ir.isWindow(e)||9===e.nodeType){var r=ir.getWindow(e);t={left:ir.getWindowScrollLeft(r),top:ir.getWindowScrollTop(r)},o=ir.viewportWidth(r),n=ir.viewportHeight(r)}else t=ir.offset(e),o=ir.outerWidth(e),n=ir.outerHeight(e);return t.width=o,t.height=n,t}function dr(e,t){var o=t.charAt(0),n=t.charAt(1),r=e.width,i=e.height,s=e.left,a=e.top;return"c"===o?a+=i/2:"b"===o&&(a+=i),"c"===n?s+=r/2:"r"===n&&(s+=r),{left:s,top:a}}function hr(e,t,o,n,r){var i=dr(t,o[1]),s=dr(e,o[0]),a=[s.left-i.left,s.top-i.top];return{left:Math.round(e.left-a[0]+n[0]-r[0]),top:Math.round(e.top-a[1]+n[1]-r[1])}}function pr(e,t,o){return e.left<o.left||e.left+t.width>o.right}function gr(e,t,o){return e.top<o.top||e.top+t.height>o.bottom}function mr(e,t,o){var n=[];return ir.each(e,(function(e){n.push(e.replace(t,(function(e){return o[e]})))})),n}function fr(e,t){return e[t]=-e[t],e}function br(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function vr(e,t){e[0]=br(e[0],t.width),e[1]=br(e[1],t.height)}function wr(e,t,o,n){var r=o.points,i=o.offset||[0,0],s=o.targetOffset||[0,0],a=o.overflow,c=o.source||e;i=[].concat(i),s=[].concat(s);var l={},u=0,d=lr(c,!(!(a=a||{})||!a.alwaysByViewport)),h=ur(c);vr(i,h),vr(s,t);var p=hr(h,t,r,i,s),g=ir.merge(h,p);if(d&&(a.adjustX||a.adjustY)&&n){if(a.adjustX&&pr(p,h,d)){var m=mr(r,/[lr]/gi,{l:"r",r:"l"}),f=fr(i,0),b=fr(s,0);(function(e,t,o){return e.left>o.right||e.left+t.width<o.left})(hr(h,t,m,f,b),h,d)||(u=1,r=m,i=f,s=b)}if(a.adjustY&&gr(p,h,d)){var v=mr(r,/[tb]/gi,{t:"b",b:"t"}),w=fr(i,1),y=fr(s,1);(function(e,t,o){return e.top>o.bottom||e.top+t.height<o.top})(hr(h,t,v,w,y),h,d)||(u=1,r=v,i=w,s=y)}u&&(p=hr(h,t,r,i,s),ir.mix(g,p));var k=pr(p,h,d),x=gr(p,h,d);if(k||x){var S=r;k&&(S=mr(r,/[lr]/gi,{l:"r",r:"l"})),x&&(S=mr(r,/[tb]/gi,{t:"b",b:"t"})),r=S,i=o.offset||[0,0],s=o.targetOffset||[0,0]}l.adjustX=a.adjustX&&k,l.adjustY=a.adjustY&&x,(l.adjustX||l.adjustY)&&(g=function(e,t,o,n){var r=ir.clone(e),i={width:t.width,height:t.height};return n.adjustX&&r.left<o.left&&(r.left=o.left),n.resizeWidth&&r.left>=o.left&&r.left+i.width>o.right&&(i.width-=r.left+i.width-o.right),n.adjustX&&r.left+i.width>o.right&&(r.left=Math.max(o.right-i.width,o.left)),n.adjustY&&r.top<o.top&&(r.top=o.top),n.resizeHeight&&r.top>=o.top&&r.top+i.height>o.bottom&&(i.height-=r.top+i.height-o.bottom),n.adjustY&&r.top+i.height>o.bottom&&(r.top=Math.max(o.bottom-i.height,o.top)),ir.mix(r,i)}(p,h,d,l))}return g.width!==h.width&&ir.css(c,"width",ir.width(c)+g.width-h.width),g.height!==h.height&&ir.css(c,"height",ir.height(c)+g.height-h.height),ir.offset(c,{left:g.left,top:g.top},{useCssRight:o.useCssRight,useCssBottom:o.useCssBottom,useCssTransform:o.useCssTransform,ignoreShake:o.ignoreShake}),{points:r,offset:i,targetOffset:s,overflow:l}}function yr(e,t,o){var n=o.target||t;return wr(e,ur(n),o,!function(e,t){var o=lr(e,t),n=ur(e);return!o||n.left+n.width<=o.left||n.top+n.height<=o.top||n.left>=o.right||n.top>=o.bottom}(n,o.overflow&&o.overflow.alwaysByViewport))}function kr(e,t,o){var n,r,i=ir.getDocument(e),s=i.defaultView||i.parentWindow,a=ir.getWindowScrollLeft(s),c=ir.getWindowScrollTop(s),l=ir.viewportWidth(s),u=ir.viewportHeight(s);n="pageX"in t?t.pageX:a+t.clientX,r="pageY"in t?t.pageY:c+t.clientY;var d=n>=0&&n<=a+l&&r>=0&&r<=c+u;return wr(e,{left:n,top:r,width:0,height:0},function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?wn(o,!0).forEach((function(t){vn(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):wn(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},o,{points:[o.points[0],"cc"]}),d)}yr.__getOffsetParent=ar,yr.__getVisibleRectForElement=lr;var xr=o(130);function Sr(e,t){var o=null,n=null;var r=new xr.a((function(e){var r=gn(e,1)[0].target;if(document.documentElement.contains(r)){var i=r.getBoundingClientRect(),s=i.width,a=i.height,c=Math.floor(s),l=Math.floor(a);o===c&&n===l||Promise.resolve().then((function(){t({width:c,height:l})})),o=c,n=l}}));return e&&r.observe(e),function(){r.disconnect()}}function Pr(e){return"function"!=typeof e?null:e()}function Cr(e){return"object"===mn(e)&&e?e:null}var Tr=r.a.forwardRef((function(e,t){var o=e.children,n=e.disabled,i=e.target,s=e.align,a=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,u=void 0===l?0:l,d=r.a.useRef({}),h=r.a.useRef(),p=r.a.Children.only(o),g=r.a.useRef({});g.current.disabled=n,g.current.target=i,g.current.onAlign=a;var m=gn(function(e,t){var o=r.a.useRef(!1),n=r.a.useRef(null);function i(){window.clearTimeout(n.current)}return[function r(s){if(o.current&&!0!==s)i(),n.current=window.setTimeout((function(){o.current=!1,r()}),t);else{if(!1===e())return;o.current=!0,i(),n.current=window.setTimeout((function(){o.current=!1}),t)}},function(){o.current=!1,i()}]}((function(){var e=g.current,t=e.disabled,o=e.target,n=e.onAlign;if(!t&&o){var r,i=h.current,a=Pr(o),c=Cr(o);d.current.element=a,d.current.point=c;var l=document.activeElement;return a&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();if(o.width||o.height)return!0}return!1}(a)?r=yr(i,a,s):c&&(r=kr(i,c,s)),function(e,t){e!==document.activeElement&&Zt(t,e)&&"function"==typeof e.focus&&e.focus()}(l,i),n&&r&&n(i,r),!0}return!1}),u),2),f=m[0],b=m[1],v=r.a.useRef({cancel:function(){}}),w=r.a.useRef({cancel:function(){}});r.a.useEffect((function(){var e,t,o=Pr(i),n=Cr(i);h.current!==w.current.element&&(w.current.cancel(),w.current.element=h.current,w.current.cancel=Sr(h.current,f)),d.current.element===o&&((e=d.current.point)===(t=n)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))||(f(),v.current.element!==o&&(v.current.cancel(),v.current.element=o,v.current.cancel=Sr(o,f)))})),r.a.useEffect((function(){n?b():f()}),[n]);var y=r.a.useRef(null);return r.a.useEffect((function(){c?y.current||(y.current=dt(window,"resize",f)):y.current&&(y.current.remove(),y.current=null)}),[c]),r.a.useEffect((function(){return function(){v.current.cancel(),w.current.cancel(),y.current&&y.current.remove(),b()}}),[]),r.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return f(!0)}}})),r.a.isValidElement(p)&&(p=r.a.cloneElement(p,{ref:no(p.ref,h)})),p}));Tr.displayName="Align";var Er=Tr,Lr=o(828),Or=o.n(Lr);function Ir(e,t,o,n,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void o(e)}a.done?t(c):Promise.resolve(c).then(n,r)}function Rr(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var i=e.apply(t,o);function s(e){Ir(i,n,r,s,a,"next",e)}function a(e){Ir(i,n,r,s,a,"throw",e)}s(void 0)}))}}var Mr=["measure","align",null,"motion"],Ar=n.forwardRef((function(e,t){var o=e.visible,r=e.prefixCls,i=e.className,s=e.style,a=e.children,c=e.zIndex,l=e.stretch,d=e.destroyPopupOnHide,h=e.align,p=e.point,g=e.getRootDomNode,m=e.getClassNameFromAlign,f=e.onAlign,b=e.onMouseEnter,v=e.onMouseLeave,w=e.onMouseDown,y=e.onTouchStart,k=Object(n.useRef)(),x=Object(n.useRef)(),S=co(Object(n.useState)(),2),P=S[0],C=S[1],T=function(e){var t=co(n.useState({width:0,height:0}),2),o=t[0],r=t[1];return[n.useMemo((function(){var t={};if(e){var n=o.width,r=o.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,o]),function(e){r({width:e.offsetWidth,height:e.offsetHeight})}]}(l),E=co(T,2),L=E[0],O=E[1];var I=function(e,t){var o=co(Object(n.useState)(null),2),r=o[0],i=o[1],s=Object(n.useRef)();function a(){Xt.cancel(s.current)}return Object(n.useEffect)((function(){i("measure")}),[e]),Object(n.useEffect)((function(){switch(r){case"measure":t()}r&&(s.current=Xt(Rr(Or.a.mark((function e(){var t,o;return Or.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Mr.indexOf(r),(o=Mr[t+1])&&-1!==t&&i(o);case 3:case"end":return e.stop()}}),e)})))))}),[r]),Object(n.useEffect)((function(){return function(){a()}}),[]),[r,function(e){a(),s.current=Xt((function(){i((function(e){switch(r){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(o,(function(){l&&O(g())})),R=co(I,2),M=R[0],A=R[1],F=Object(n.useRef)();function N(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function j(e,t){if("align"===M){var o=m(t);C(o),P!==o?Promise.resolve().then((function(){N()})):A((function(){var e;null===(e=F.current)||void 0===e||e.call(F)})),null==f||f(e,t)}}var D=Wt({},dn(e));function _(){return new Promise((function(e){F.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=D[e];D[e]=function(e,o){return A(),null==t?void 0:t(e,o)}})),n.useEffect((function(){D.motionName||"motion"!==M||A()}),[D.motionName,M]),n.useImperativeHandle(t,(function(){return{forceAlign:N,getElement:function(){return x.current}}}));var B=Wt(Wt(Wt({},L),{},{zIndex:c},s),{},{opacity:"motion"!==M&&"stable"!==M&&o?0:void 0,pointerEvents:"stable"===M?void 0:"none"}),U=!0;(null==h?void 0:h.points)&&("align"===M||"stable"===M)&&(U=!1);var W=a;return n.Children.count(a)>1&&(W=n.createElement("div",{className:"".concat(r,"-content")},a)),n.createElement(un,Object.assign({visible:o,ref:x,leavedClassName:"".concat(r,"-hidden")},D,{onAppearPrepare:_,onEnterPrepare:_,removeOnLeave:d}),(function(e,t){var o=e.className,s=e.style,a=u()(r,i,P,o);return n.createElement(Er,{target:p||g,key:"popup",ref:k,monitorWindowResize:!0,disabled:U,align:h,onAlign:j},n.createElement("div",{ref:t,className:a,onMouseEnter:b,onMouseLeave:v,onMouseDown:w,onTouchStart:y,style:Wt(Wt({},s),B)},W))}))}));Ar.displayName="PopupInner";var Fr=Ar,Nr=n.forwardRef((function(e,t){var o=e.prefixCls,r=e.visible,i=e.zIndex,s=e.children,a=e.mobile,c=(a=void 0===a?{}:a).popupClassName,l=a.popupStyle,d=a.popupMotion,h=void 0===d?{}:d,p=a.popupRender,g=n.useRef();n.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return g.current}}}));var m=Wt({zIndex:i},l),f=s;return n.Children.count(s)>1&&(f=n.createElement("div",{className:"".concat(o,"-content")},s)),p&&(f=p(f)),n.createElement(un,Object.assign({visible:r,ref:g,removeOnLeave:!0},h),(function(e,t){var r=e.className,i=e.style,s=u()(o,c,r);return n.createElement("div",{ref:t,className:s,style:Wt(Wt({},i),m)},f)}))}));Nr.displayName="MobilePopupInner";var jr=Nr,Dr=n.forwardRef((function(e,t){var o=e.visible,r=e.mobile,i=lo(e,["visible","mobile"]),s=co(Object(n.useState)(o),2),a=s[0],c=s[1],l=co(Object(n.useState)(!1),2),u=l[0],d=l[1],h=Wt(Wt({},i),{},{visible:a});Object(n.useEffect)((function(){var e;c(o),o&&r&&d((e=navigator.userAgent||navigator.vendor||window.opera,!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))))}),[o,!!r]);var p=u?n.createElement(jr,Object.assign({},h,{mobile:r,ref:t})):n.createElement(Fr,Object.assign({},h,{ref:t}));return n.createElement("div",null,n.createElement(hn,Object.assign({},h)),p)}));Dr.displayName="Popup";var _r=Dr,Br=n.createContext(null);function Ur(){}function Wr(){return""}function Hr(e){return e?e.ownerDocument:window.document}var zr=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Vr,$r,qr=(Vr=io,($r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(a,e);var t,o,r,i=Kt(a);function a(e){var t,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).popupRef=n.createRef(),t.triggerRef=n.createRef(),t.onMouseEnter=function(e){var o=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,o,o?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var o;e.relatedTarget&&!e.relatedTarget.setTimeout&&Zt(null===(o=t.popupRef.current)||void 0===o?void 0:o.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var o;if(t.preClickTime&&t.preTouchTime?o=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?o=t.preClickTime:t.preTouchTime&&(o=t.preTouchTime),Math.abs(o-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!t.state.popupVisible;(t.isClickToHide()&&!n||n&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var o=e.target,n=t.getRootDomNode(),r=t.getPopupDomNode();Zt(n,o)||Zt(r,o)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var o=Jt(t.triggerRef.current);if(o)return o}catch(e){}return s.a.findDOMNode(zt(t))},t.getPopupClassNameFromAlign=function(e){var o=[],n=t.props,r=n.popupPlacement,i=n.builtinPlacements,s=n.prefixCls,a=n.alignPoint,c=n.getPopupClassNameFromAlign;return r&&i&&o.push(function(e,t,o,n){for(var r=o.points,i=Object.keys(e),s=0;s<i.length;s+=1){var a=i[s];if(so(e[a].points,r,n))return"".concat(t,"-placement-").concat(a)}return""}(i,s,e,a)),c&&o.push(c(e)),o.join(" ")},t.getComponent=function(){var e=t.props,o=e.prefixCls,r=e.destroyPopupOnHide,i=e.popupClassName,s=e.onPopupAlign,a=e.popupMotion,c=e.popupAnimation,l=e.popupTransitionName,u=e.popupStyle,d=e.mask,h=e.maskAnimation,p=e.maskTransitionName,g=e.maskMotion,m=e.zIndex,f=e.popup,b=e.stretch,v=e.alignPoint,w=e.mobile,y=t.state,k=y.popupVisible,x=y.point,S=t.getPopupAlign(),P={};return t.isMouseEnterToShow()&&(P.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(P.onMouseLeave=t.onPopupMouseLeave),P.onMouseDown=t.onPopupMouseDown,P.onTouchStart=t.onPopupMouseDown,n.createElement(_r,Object.assign({prefixCls:o,destroyPopupOnHide:r,visible:k,point:v&&x,className:i,align:S,onAlign:s,animation:c,getClassNameFromAlign:t.getPopupClassNameFromAlign},P,{stretch:b,getRootDomNode:t.getRootDomNode,style:u,mask:d,zIndex:m,transitionName:l,maskAnimation:h,maskTransitionName:p,maskMotion:g,ref:t.popupRef,motion:a,mobile:w}),"function"==typeof f?f():f)},t.attachParent=function(e){Xt.cancel(t.attachId);var o,n=t.props,r=n.getPopupContainer,i=n.getDocument,s=t.getRootDomNode();r?(s||0===r.length)&&(o=r(s)):o=i(t.getRootDomNode()).body,o?o.appendChild(e):t.attachId=Xt((function(){t.attachParent(e)}))},t.getContainer=function(){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.attachParent(e),e},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:o,popupVisible:o},zr.forEach((function(e){t["fire".concat(e)]=function(o){t.fireEvents(e,o)}})),t}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.popupVisible,n={};return void 0!==o&&t.popupVisible!==o&&(n.popupVisible=o,n.prevPopupVisible=t.popupVisible),n}}],(o=[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=dt(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=dt(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=dt(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=dt(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Xt.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,o=e.popupAlign,n=e.builtinPlacements;return t&&n?function(e,t,o){return Wt(Wt({},e[t]||{}),o)}(n,t,o):o}},{key:"setPopupVisible",value:function(e,t){var o=this.props.alignPoint,n=this.state.popupVisible;this.clearDelayTimer(),n!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:n}),this.props.onPopupVisibleChange(e)),o&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,o){var n=this,r=1e3*t;if(this.clearDelayTimer(),r){var i=o?{pageX:o.pageX,pageY:o.pageY}:null;this.delayTimer=window.setTimeout((function(){n.setPopupVisible(e,i),n.clearDelayTimer()}),r)}else this.setPopupVisible(e,o)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,o=this.props;return t[e]&&o[e]?this["fire".concat(e)]:t[e]||o[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,o=e.showAction;return-1!==t.indexOf("click")||-1!==o.indexOf("click")}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,o=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==o.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,o=e.hideAction;return-1!==t.indexOf("click")||-1!==o.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,o=e.showAction;return-1!==t.indexOf("hover")||-1!==o.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,o=e.hideAction;return-1!==t.indexOf("hover")||-1!==o.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,o=e.showAction;return-1!==t.indexOf("focus")||-1!==o.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,o=e.hideAction;return-1!==t.indexOf("focus")||-1!==o.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var o=this.props.children.props[e];o&&o(t);var n=this.props[e];n&&n(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,o=t.children,r=t.forceRender,i=t.alignPoint,s=t.className,a=t.autoDestroy,c=n.Children.only(o),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,i&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var d=u()(c&&c.props&&c.props.className,s);d&&(l.className=d);var h,p,g,m,f=Wt({},l);h=c,("function"!=typeof(m=Object(eo.isMemo)(h)?h.type.type:h.type)||null!==(p=m.prototype)&&void 0!==p&&p.render)&&("function"!=typeof h||null!==(g=h.prototype)&&void 0!==g&&g.render)&&(f.ref=no(this.triggerRef,c.ref));var b,v=n.cloneElement(c,f);return(e||this.popupRef.current||r)&&(b=n.createElement(Vr,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&a&&(b=null),n.createElement(Br.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},v,b)}}])&&Ht(t.prototype,o),r&&Ht(t,r),a}(n.Component)).contextType=Br,$r.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Wr,getDocument:Hr,onPopupVisibleChange:Ur,afterPopupVisibleChange:Ur,onPopupAlign:Ur,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},$r),Qr={adjustX:1,adjustY:1},Kr=[0,0],Yr={left:{points:["cr","cl"],overflow:Qr,offset:[-4,0],targetOffset:Kr},right:{points:["cl","cr"],overflow:Qr,offset:[4,0],targetOffset:Kr},top:{points:["bc","tc"],overflow:Qr,offset:[0,-4],targetOffset:Kr},bottom:{points:["tc","bc"],overflow:Qr,offset:[0,4],targetOffset:Kr},topLeft:{points:["bl","tl"],overflow:Qr,offset:[0,-4],targetOffset:Kr},leftTop:{points:["tr","tl"],overflow:Qr,offset:[-4,0],targetOffset:Kr},topRight:{points:["br","tr"],overflow:Qr,offset:[0,-4],targetOffset:Kr},rightTop:{points:["tl","tr"],overflow:Qr,offset:[4,0],targetOffset:Kr},bottomRight:{points:["tr","br"],overflow:Qr,offset:[0,4],targetOffset:Kr},rightBottom:{points:["bl","br"],overflow:Qr,offset:[4,0],targetOffset:Kr},bottomLeft:{points:["tl","bl"],overflow:Qr,offset:[0,4],targetOffset:Kr},leftBottom:{points:["br","bl"],overflow:Qr,offset:[-4,0],targetOffset:Kr}},Gr=function(e){var t=e.overlay,o=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return n.createElement("div",{className:"".concat(o,"-inner"),id:r,role:"tooltip",style:i},"function"==typeof t?t():t)},Xr=Object(n.forwardRef)((function(e,t){var o=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,s=e.mouseEnterDelay,a=void 0===s?0:s,c=e.mouseLeaveDelay,l=void 0===c?.1:c,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,g=e.onVisibleChange,m=e.afterVisibleChange,f=e.transitionName,b=e.animation,v=e.placement,w=void 0===v?"right":v,y=e.align,k=void 0===y?{}:y,x=e.destroyTooltipOnHide,S=void 0!==x&&x,P=e.defaultVisible,C=e.getTooltipContainer,T=e.overlayInnerStyle,E=_t(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),L=Object(n.useRef)(null);Object(n.useImperativeHandle)(t,(function(){return L.current}));var O=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(o),!0).forEach((function(t){jt(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Dt(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},E);"visible"in e&&(O.popupVisible=e.visible);var I=!1,R=!1;if("boolean"==typeof S)I=S;else if(S&&"object"===Nt(S)){var M=S.keepParent;I=!0===M,R=!1===M}return n.createElement(qr,Object.assign({popupClassName:o,prefixCls:h,popup:function(){var t=e.arrowContent,o=void 0===t?null:t,r=e.overlay,i=e.id;return[n.createElement("div",{className:"".concat(h,"-arrow"),key:"arrow"},o),n.createElement(Gr,{key:"content",prefixCls:h,id:i,overlay:r,overlayInnerStyle:T})]},action:i,builtinPlacements:Yr,popupPlacement:w,ref:L,popupAlign:k,getPopupContainer:C,onPopupVisibleChange:g,afterPopupVisibleChange:m,popupTransitionName:f,popupAnimation:b,defaultPopupVisible:P,destroyPopupOnHide:I,autoDestroy:R,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:a},O),p)})),Zr=n.forwardRef((function(e,t){var o=e.visible,r=e.overlay,i=n.useRef(null),s=no(t,i),a=n.useRef(null);function c(){Xt.cancel(a.current)}return n.useEffect((function(){return o?a.current=Xt((function(){var e;null===(e=i.current)||void 0===e||e.forcePopupAlign()})):c(),c}),[o,r]),n.createElement(Xr,st({ref:s},e))}));var Jr=Rt;Jr.Range=Ft,Jr.Handle=gt,Jr.createSliderWithTooltip=function(e){var t;return(t=function(t){Ge(n,t);var o=et(n);function n(){var e;return qe(this,n),(e=o.apply(this,arguments)).state={visibles:{}},e.handleTooltipVisibleChange=function(t,o){e.setState((function(e){return{visibles:$e($e({},e.visibles),{},ze({},t,o))}}))},e.handleWithTooltip=function(t){var o,n=t.value,i=t.dragging,s=t.index,a=t.disabled,c=at(t,["value","dragging","index","disabled"]),l=e.props,u=l.tipFormatter,d=l.tipProps,h=l.handleStyle,p=l.getTooltipContainer,g=d.prefixCls,m=void 0===g?"rc-slider-tooltip":g,f=d.overlay,b=void 0===f?u(n):f,v=d.placement,w=void 0===v?"top":v,y=d.visible,k=void 0!==y&&y,x=at(d,["prefixCls","overlay","placement","visible"]);return o=Array.isArray(h)?h[s]||h[0]:h,r.a.createElement(Zr,st({},x,{getTooltipContainer:p,prefixCls:m,overlay:b,placement:w,visible:!a&&(e.state.visibles[s]||i)||k,key:s}),r.a.createElement(gt,st({},c,{style:$e({},o),value:n,onMouseEnter:function(){return e.handleTooltipVisibleChange(s,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(s,!1)}})))},e}return Ke(n,[{key:"render",value:function(){return r.a.createElement(e,st({},this.props,{handle:this.handleWithTooltip}))}}]),n}(r.a.Component)).defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},t};var ei=Jr;o(830);const{createSliderWithTooltip:ti}=ei,oi=ti(ei.Range);class ni extends n.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.handleRangeChange=this.handleRangeChange.bind(this),this.state={isOpen:!1}}render(){const e=Math.floor(this.props.priceFilter.lowerBound),t=Math.ceil(this.props.priceFilter.upperBound),o=Math.floor(this.props.priceFilter.min),r=Math.ceil(this.props.priceFilter.max);return n.createElement("div",{className:"search-filters-group-root has-heading"},n.createElement("div",{className:"search-filters-group-heading"},n.createElement("div",null,"price"),n.createElement("button",{className:l("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(D,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-range-container"},n.createElement(oi,{min:o,max:r,defaultValue:[e,t],tipFormatter:e=>`$${e}`,marks:{[e]:`$${e}`,[t]:`$${t}`},onAfterChange:this.handleRangeChange}),n.createElement("div",{className:"search-filters-range-limits-container"},e>o+10?n.createElement("span",{className:"search-filter-range-lower"},"$",o):null,t<r-10?n.createElement("span",{className:"search-filter-range-upper"},"$",r):null))))}toggle(){this.setState({isOpen:!this.state.isOpen})}handleRangeChange(e){this.props.onPriceRangeChange(Math.min(...e),Math.max(...e))}}class ri extends n.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.onRatingChange=this.onRatingChange.bind(this),this.state={isOpen:!1}}render(){return n.createElement("div",{className:"search-filters-group-root has-heading"},n.createElement("div",{className:"search-filters-group-heading"},n.createElement("div",null,"customer rating"),n.createElement("button",{className:l("search-filter-toggle-button",{active:this.state.isOpen}),onClick:this.toggle},n.createElement("svg",{width:"8",height:"6",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M3.57556 6L0.111461 -1.75695e-07L7.03966 4.29987e-07L3.57556 6Z",fill:"#828282"})))),n.createElement(D,{isOpened:this.state.isOpen},n.createElement("div",{className:"search-filters-rating-container"},n.createElement(Ce,{rating:this.props.ratingFilter.minimumRating,onRatingChange:this.onRatingChange}))))}toggle(){this.setState({isOpen:!this.state.isOpen})}onRatingChange(e){this.props.onRatingChange(e)}}o(832);class ii extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:"side-menu-root"},n.createElement("div",{className:"side-menu-header"},n.createElement("div",{className:"side-menu-title"},this.props.title,n.createElement("i",{className:this.props.icon})),n.createElement("div",{className:"side-menu-close",onClick:this.props.onClose},n.createElement("i",{className:"fa fa-times"}))),this.props.children)}}class si extends n.Component{constructor(e){super(e),this.handleSelectionChange=this.handleSelectionChange.bind(this),this.handlePriceRangeChange=this.handlePriceRangeChange.bind(this),this.handleRatingChange=this.handleRatingChange.bind(this)}render(){const e=null!=this.props.categoryFilters&&this.props.categoryFilters.length>0,t=null!=this.props.productTypeFilters&&this.props.productTypeFilters.length>0,o=null!=this.props.priceFilter,r=null!=this.props.ratingsFilter;return n.createElement("div",{className:"search-filters-root"},n.createElement(ii,{icon:"fa fa-filter",title:"filter",onClose:this.props.store.toggleShowFilter},e&&n.createElement(He,{initialIsOpen:!0,categoryTitle:"category",hideHeading:!0,onSelectionChange:this.handleSelectionChange,searchFilters:this.props.categoryFilters,selectedSearchFilters:this.props.selectedSearchFilters}),t&&n.createElement(He,{initialIsOpen:!0,categoryTitle:"product type",onSelectionChange:this.handleSelectionChange,searchFilters:this.props.productTypeFilters,selectedSearchFilters:this.props.selectedSearchFilters}),o&&n.createElement(ni,{priceFilter:this.props.priceFilter,onPriceRangeChange:this.handlePriceRangeChange}),r&&n.createElement(ri,{ratingFilter:this.props.ratingsFilter,onRatingChange:this.handleRatingChange})))}handleSelectionChange(e,t){this.props.onSearchFilterSelectionChange&&this.props.onSearchFilterSelectionChange(e,t)}handlePriceRangeChange(e,t){this.props.onPriceRangeChange(e,t)}handleRatingChange(e){this.props.onRatingChange(e)}}var ai,ci;o(834);class li extends n.Component{constructor(e){super(e)}render(){return this.props.tags?n.createElement("div",{className:"product-tags-root"},this.props.tags.map(e=>n.createElement("span",{key:e,className:"product-tag-label"},e))):null}}!function(e){e[e.Rating=0]="Rating",e[e.Tags=1]="Tags",e[e.HidePriceAndDateShowTags=2]="HidePriceAndDateShowTags"}(ai||(ai={})),function(e){e[e.Table=0]="Table",e[e.VerticalList=1]="VerticalList"}(ci||(ci={}));class ui extends n.Component{constructor(e){super(e),this.onClick=this.onClick.bind(this)}render(){const e=this.props.product.title,{edition:t,shortTitle:o}=e.length>40?p.a.getShortTitleAndEdition(e):{edition:"",shortTitle:e},r=this.props.product.price,i=this.props.product.priceWithoutDiscount,s=C.userOwnsProduct(this.props.product.id),a=this.props.additionalInfoType==ai.Tags||this.props.additionalInfoType==ai.HidePriceAndDateShowTags;return n.createElement("div",{className:l("product-root",{"two-line-title":this.props.product.isTwoLineTitle}),key:e},n.createElement("a",{href:this.props.product.link,className:l("product-cover",{"wide-cover":this.props.product.isWideCover}),onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"},n.createElement(F.a,{placeholderImage:this.props.coverPlaceholder,imageDisplayType:A.a.Image,fullImage:this.props.product.coverPath,className:l("book-cover",{"wide-cover":this.props.product.isWideCover}),height:(this.props.product.isWideCover,104),width:this.props.product.isWideCover?185:82,alt:this.props.product.title,placeholderOnlyOnFail:!!this.props.product.coverPath}),t&&n.createElement("div",{className:"product-edition"},t)),n.createElement("div",{className:"product-details"},n.createElement("a",{className:"product-title",title:e,dangerouslySetInnerHTML:{__html:this.emphasizeWordInTitle(o,this.props.emphasizedWord)},href:this.props.product.link,onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"}),n.createElement("a",{className:"product-description",dangerouslySetInnerHTML:{__html:this.props.product.description},href:this.props.product.link,onClick:this.onClick,target:this.props.product.isExternalProduct?"_blank":"_self"}),n.createElement("div",{className:"product-meta-info"},this.props.additionalInfoType!=ai.HidePriceAndDateShowTags?n.createElement("div",{className:"product-price-ownership-info-container"},!s&&r>0&&!this.props.product.isFreeProduct?n.createElement("span",{className:"product-price"},i>r?n.createElement("span",{className:"product-original-price"},"$",f.a.formatMoney(i)):null,"$",f.a.formatMoney(r),","):this.props.product.isFreeProduct?n.createElement("span",{className:"product-free-label"},"free"):null,s&&!this.props.product.isFreeProduct&&n.createElement("span",{className:"product-ownership-label"},n.createElement("span",{className:"product-ownership-label-text"},"you own this ",this.props.product.productType),n.createElement("i",{title:"you own this product",className:"product-ownership-label-icon fa fa-check"}))," ",n.createElement("span",{className:"product-date"},this.props.product.date)):null,n.createElement("div",{className:"product-rating-tags-container"},this.props.additionalInfoType==ai.Rating&&this.props.product.rating>0&&n.createElement(Ce,{rating:this.props.product.rating}),a&&n.createElement(li,{tags:this.props.product.tags})))))}emphasizeWordInTitle(e,t){if(!this.props.emphasizedWord)return e;e=e||"";try{return 1==t.length?e.replace(new RegExp(`\\b${this.props.emphasizedWord}\\b`,"i"),e=>`<strong>${e}</strong>`):e.replace(new RegExp(t,"i"),e=>`<strong>${e}</strong>`)}catch(t){return e}}onClick(){return this.props.onProductSelected&&this.props.onProductSelected(this.props.product),!0}}o(836);class di extends n.Component{constructor(e){super(e),this.state={isShowingAllResults:!1}}render(){const e=this.props.products;return null==e?null:n.createElement("div",{className:u()("product-collection-root",{"vertical-list":this.props.orientation==ci.VerticalList})},n.createElement("div",{className:"product-collection-container",ref:e=>this.root=e},n.createElement("div",{className:"product-collection-inner-container"},0==e.length&&this.props.emphasizedWord&&n.createElement("div",{className:"product-collection-message-container"},"There are no products that match the filters you've selected."),e.map((e,t)=>n.createElement(ui,{key:`${e.id}-${e.title}`,product:e,coverPlaceholder:this.props.coverPlaceholder,emphasizedWord:this.props.emphasizedWord,onProductSelected:e=>this.handleProductSelected(e,t),additionalInfoType:this.props.additionalInfoType})))))}handleProductSelected(e,t){null!=this.props.onProductSelected&&this.props.onProductSelected(e,"",!1,t)}}o(838);class hi extends n.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}render(){const e=this.props.store.state.sortOrder;return n.createElement("div",{className:"search-sort-root"},n.createElement(ii,{title:"sort",icon:"fa fa-sort-alt",onClose:this.props.store.toggleShowSort},n.createElement("ul",null,n.createElement("li",{className:l({selected:e==_e.BestMatch}),onClick:this.handleClick},"default"),n.createElement("li",{className:l({selected:e==_e.NewestFirst}),onClick:this.handleClick},"newest"),n.createElement("li",{className:l({selected:e==_e.PriceFromLowest}),onClick:this.handleClick},"lowest price"),n.createElement("li",{className:l({selected:e==_e.PriceFromHighest}),onClick:this.handleClick},"highest price"))))}handleClick(e){switch(e.target.textContent){case"lowest price":this.props.store.changeSortOrder(_e.PriceFromLowest);break;case"highest price":this.props.store.changeSortOrder(_e.PriceFromHighest);break;case"newest":this.props.store.changeSortOrder(_e.NewestFirst);break;case"default":default:this.props.store.changeSortOrder(_e.BestMatch)}}}class pi extends n.Component{constructor(e){super(e),this.handleSearchFilterSelectionChange=this.handleSearchFilterSelectionChange.bind(this),this.handleSortChange=this.handleSortChange.bind(this),this.handleFilterButtonClick=this.handleFilterButtonClick.bind(this),this.handlePriceRangeChange=this.handlePriceRangeChange.bind(this),this.handleRatingChange=this.handleRatingChange.bind(this),this.handlePossibleSearchStoreUpdate=this.handlePossibleSearchStoreUpdate.bind(this),this.handlePossibleAutocompleteStoreUpdate=this.handlePossibleAutocompleteStoreUpdate.bind(this),this.handleProductSelected=this.handleProductSelected.bind(this),this.handleOwnershipChanged=this.handleOwnershipChanged.bind(this),this.props.store.onPropertyChanged(this.handlePossibleSearchStoreUpdate),this.props.store.autocompleteStore.onPropertyChanged(this.handlePossibleAutocompleteStoreUpdate),this.props.store.onOwnershipChanged(this.handleOwnershipChanged)}componentDidMount(){this.hasBeenMounted=!0}componentWillUnmount(){this.hasBeenMounted=!1}render(){if(!this.props.store.state.hasAutocompleteProductsInfo)return this.props.store.state.query?this.renderLoadingSpinner():n.createElement("div",{className:"search-initial-message-container search-message-container"},"Type in the search bar to find anything");if(!this.props.store.state.query)return n.createElement("div",{className:"search-initial-message-container search-message-container"},"Type in the search bar to find anything");const e=this.props.store.autocompleteStore.state.autocompleteSuggestions.displayedProductSuggestions;if(null==e||0==e.length&&this.props.store.state.query&&this.props.store.autocompleteStore){if(this.props.store.state.isTyping)return this.renderLoadingSpinner();if(0==this.props.store.autocompleteStore.state.autocompleteSuggestions.productSuggestions.length)return n.createElement("div",{className:"search-initial-message-container search-message-container"},"No results found for query: ",n.createElement("strong",null,"'",this.props.store.state.query,"'"),". Try a different query or visit our ",n.createElement("a",{href:"https://www.manning.com/catalog"},"catalog"),".")}return n.createElement("div",{className:"search-products-tab-root"},this.props.store.state.isShowingFilter&&n.createElement(si,{categoryFilters:this.props.store.state.availableCategorySearchFilters,ratingsFilter:this.props.store.state.ratingSearchFilter,priceFilter:this.props.store.state.priceSearchFilter,productTypeFilters:this.props.store.state.availableProductTypeSearchFilers,selectedSearchFilters:this.props.store.state.selectedSearchFilters,onSearchFilterSelectionChange:this.handleSearchFilterSelectionChange,onPriceRangeChange:this.handlePriceRangeChange,onRatingChange:this.handleRatingChange,show:this.props.store.state.isShowingFilter,store:this.props.store}),this.props.store.state.isShowingSort&&n.createElement(hi,{store:this.props.store}),this.renderProductResults(e))}renderLoadingSpinner(){return n.createElement("div",{style:{textAlign:"center",marginTop:"20px"},className:"search-loading"},n.createElement("i",{className:"fa fa-circle-notch fa-spin fa-3x fa-fw"}))}renderProductResults(e){return n.createElement(di,{products:T.convertProductSuggestionToProductDescription(e,this.props.store.state.query),coverPlaceholder:this.props.store.coverPlaceholder,emphasizedWord:this.props.store.state.query,onProductSelected:this.handleProductSelected,additionalInfoType:ai.Rating})}handleProductSelected(e){const t=this.props.store.autocompleteStore.state.autocompleteSuggestions.displayedProductSuggestions;this.props.store.openSuggestion(t.find(t=>t.id==e.id))}handleSearchFilterSelectionChange(e,t=!1){this.hasBeenMounted&&this.props.store.changeSearchFilterSelection(e,t)}handleOwnershipChanged(){this.hasBeenMounted&&this.forceUpdate()}handlePossibleSearchStoreUpdate(e,t){this.hasBeenMounted&&(e.selectedSearchFilters==t.selectedSearchFilters&&e.availableCategorySearchFilters==t.availableCategorySearchFilters&&e.priceSearchFilter==t.priceSearchFilter&&e.ratingSearchFilter==t.ratingSearchFilter&&e.availableProductTypeSearchFilers==t.availableProductTypeSearchFilers&&e.sortOrder==t.sortOrder&&e.hasAutocompleteProductsInfo==t.hasAutocompleteProductsInfo&&e.isTyping==t.isTyping&&e.isShowingFilter==t.isShowingFilter||this.forceUpdate())}handlePossibleAutocompleteStoreUpdate(e,t){this.hasBeenMounted&&(e.autocompleteSuggestions.productSuggestions==t.autocompleteSuggestions.productSuggestions&&e.autocompleteSuggestions.displayedProductSuggestions==t.autocompleteSuggestions.displayedProductSuggestions||this.forceUpdate())}handleSortChange(e){this.hasBeenMounted&&this.props.store.changeSortOrder(parseInt(e.currentTarget.value))}handleFilterButtonClick(){this.props.store.toggleShowFilter()}handlePriceRangeChange(e,t){this.props.store.updatePriceRange(e,t)}handleRatingChange(e){this.props.store.updateRating(e)}}o(840);class gi extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:l("advanced-tabs-root",this.props.additionalClass)},n.createElement("div",{className:"advanced-tabs-container"},this.props.tabs.map(e=>n.createElement("button",{key:e.title,onClick:t=>this.props.onSelectTab&&this.props.onSelectTab(e),className:l("advanced-tab",{active:this.props.selectedTab==e,"has-close-button":e.hasCloseButton})},n.createElement("span",null,e.title,this.generateQualifications(e)),e.hasCloseButton&&n.createElement("i",{className:"fa fa-times close-tab",onClick:t=>{t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),this.props.onCloseTab&&this.props.onCloseTab(e)}})))),n.createElement("div",{className:"advanced-tabs-commands-container"},this.props.children))}generateQualifications(e){if(!e||!e.qualifications||!e.qualifications.length)return null;const t=[];let o=0;for(const r of e.qualifications)t.push(n.createElement("span",{key:o++}," > ")),t.push(n.createElement("span",{key:o++}," ",r," "));return t}}class mi extends n.Component{constructor(e){super(e),this.handleSearchClick=this.handleSearchClick.bind(this),this.handleSelectTab=this.handleSelectTab.bind(this),this.handleViewInLivebookClick=this.handleViewInLivebookClick.bind(this),this.handleBackToAllResultsLink=this.handleBackToAllResultsLink.bind(this),this.props.store.onPropertyChanged((e,t)=>this.handlePossibleSearchStoreUpdate(e,t)),this.props.store.autocompleteStore.onPropertyChanged((e,t)=>this.handlePossibleAutocompleteStoreUpdate(e,t))}handleSelectTab(e){e==this.props.store.state.tabs[0]?(this.props.store.updateSearchSource(Be.Products),this.props.store.autocompleteStore.state.isShown&&this.props.store.autocompleteStore.hide()):(this.props.store.updateSearchSource(Be.Content),this.props.store.startSearch())}render(){const e=this.props.store.state;return n.createElement("div",{className:"search-root",ref:e=>this.root=e},n.createElement(gi,{tabs:e.tabs,selectedTab:e.selectedTab,additionalClass:this.props.store.state.searchSource==Be.Content?"content-tab-selected":"products-tab-selected",onSelectTab:this.handleSelectTab},this.renderTabButtons()),this.renderContent())}renderTabButtons(){return this.props.store.state.searchSource==Be.Products?n.createElement(n.Fragment,null,n.createElement("button",{className:l("advanced-tab-filter-button",{selected:this.props.store.state.isShowingFilter}),onClick:this.props.store.toggleShowFilter},n.createElement("span",null,"filter"),n.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10.8795 0H0.191091C0.0828062 0 0 0.0804252 0 0.185597V1.71367C0 1.81885 0.0573274 1.96114 0.127394 2.04156L4.41421 6.84851V11.8782C4.41421 11.9834 4.49064 12.0267 4.58619 11.9834L6.49073 11.0801C6.58628 11.0368 6.66272 10.9131 6.66272 10.8141V6.8547L10.9495 2.04775C11.0196 1.96732 11.0769 1.82503 11.0769 1.71986V0.185597C11.0706 0.0866117 10.9877 0 10.8795 0Z",fill:"currentColor",fillOpacity:"0.85"}))),n.createElement("button",{className:l("advanced-tab-sort-button",{selected:this.props.store.state.isShowingSort}),onClick:this.props.store.toggleShowSort},n.createElement("span",null,"sort"),n.createElement("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M-3.53763e-07 3.90685L0.902108 4.87901L2.97357 2.62572L2.98228 12L4.25508 11.9986L4.24639 2.65001L6.3021 4.86535L7.2 3.88864L3.59158 -1.56993e-07L-3.53763e-07 3.90685Z",fill:"currentColor"}),n.createElement("path",{d:"M15.6 8.09315L14.6979 7.12099L12.6264 9.37428L12.6177 -1.3036e-07L11.3449 0.00138667L11.3536 9.34998L9.29787 7.13465L8.39997 8.11136L12.0084 12L15.6 8.09315Z",fill:"currentColor"})))):n.createElement(n.Fragment,null,n.createElement("button",{className:l("search-view-in-livebook-button"),onClick:this.handleViewInLivebookClick},n.createElement("span",null,"go to ",this.props.store.sourceApp==w.b.marketplace?"book":"livebook")),n.createElement("button",{className:l("search-back-to-results-button"),onClick:this.handleBackToAllResultsLink},n.createElement("i",{className:"fa fa-arrow-left"})," ",n.createElement("span",null,"all results")))}handleViewInLivebookClick(){const e=this.props.store.livebookViewerStore.lastChapterLocation;if(null==e)return null;if(this.props.store.sourceApp==w.b.marketplace&&e.slug)window.open(`https://www.manning.com/books/${e.slug}`,"_blank");else if(this.props.store.sourceApp==w.b.livebook)try{const t=window;t.page&&t.$&&(t.$(document).trigger("searchHideRequested"),t.page(this.getChapterLocationRelativeLink(e)))}catch(t){document.location.href=this.getLivebookLocationLink(e)}else window.open(this.getLivebookLocationLink(e),"_blank")}getLivebookLocationLink(e){if(null==e)return null;let t="https://livebook.manning.com";return document.location.href.indexOf("livebook-qa.manning.com")>=0&&(t="https://livebook-qa.manning.com"),`${t}${this.getChapterLocationRelativeLink(e)}`}getChapterLocationRelativeLink(e){return null==e?"":`/book/${e.slug}/${e.element}?origin=search`}handleBackToAllResultsLink(){this.searchContentTab&&this.searchContentTab.resetToCurrentProductTreeResults?this.searchContentTab&&this.searchContentTab.resetToCurrentProductTreeResults():this.forceUpdate()}renderContent(){return this.props.store.state.searchSource==Be.Products?n.createElement(pi,{store:this.props.store}):n.createElement(Ie,{ref:e=>this.searchContentTab=e,store:this.props.store})}handlePossibleSearchStoreUpdate(e,t){(e.query!==t.query||e.selectedSearchCategories!==t.selectedSearchCategories||e.isSearchAllSelected!==t.isSearchAllSelected||e.currentProduct!==t.currentProduct||e.items!==t.items||e.hasAutocompleteProductsInfo!=t.hasAutocompleteProductsInfo||e.isWaitingForResults!=t.isWaitingForResults||e.searchSource!=t.searchSource||e.selectedTab!=t.selectedTab||e.isShowingFilter!=t.isShowingFilter||e.isShowingSort!=t.isShowingSort)&&this.isComponentMounted&&this.forceUpdate()}handlePossibleAutocompleteStoreUpdate(e,t){(e.selectedSuggestion!==t.selectedSuggestion||e.autocompleteSuggestions!==t.autocompleteSuggestions)&&this.isComponentMounted&&this.forceUpdate()}componentDidMount(){this.isComponentMounted=!0}componentWillUnmount(){this.isComponentMounted=!1}handleSearchClick(e){this.isStartSearchDisabled||(this.props.store.startSearch(e),this.isStartSearchDisabled=!0,setTimeout(()=>this.isStartSearchDisabled=!1,1e3))}}class fi{constructor(e){this.webUtils=e}getOwnershipInfo(){return new Promise((e,t)=>{setTimeout(()=>{e({maras:!0,mcnamara:!0,171:!0})},200)})}getAdditionalProductInformation(e){return new Promise((e,t)=>{setTimeout(()=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/productsDescription.json"),t=>e(t),e=>t(e),{})},200)})}getRawProductInfos(){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/productsAutocompleteInfo.json"),t=>{t&&t.length?e(t):e([])},e=>t(e))})}}let bi,vi={};class wi{constructor(e,t){this.productInfos=null,this.provider=e,this.additionalParams=t}getOwnershipInfo(){return bi||(bi=this.provider.getOwnershipInfo())}getProductInfos(e){return null!=this.productInfos?Promise.resolve(this.productInfos):null!=this.productInfosPromise?this.productInfosPromise:this.productInfosPromise=new Promise((t,o)=>{this.provider.webUtils.isOnline()||null==this.additionalParams||null==this.additionalParams.getProductInfosFallback?this.provider.getRawProductInfos().then(o=>{let n=b.convertRawProducts(o);e&&(n.push(b.createSpecialLivebookProduct()),n.push(b.createSpecialLivevideoProduct()),n.push(b.createSpecialLiveprojectProduct()),n.push(b.createSpecialMeapProduct())),t(n=C.upgradeProductInfoPaths(n,this.provider.webUtils.configuration))}).catch(e=>o(e)):this.additionalParams.getProductInfosFallback().then(e=>t(this.convertRawServerDataToProductInfos(e))).catch(e=>o(e))})}getAdditionalProductInfoMap(e){if(!e||!e.length)return Promise.resolve({});const t={},o=[];for(const n of e)vi[n]?t[n]=vi[n]:f.a.isNumber(n)?o.push(n):t[n]=null;return 0==o.length?Promise.resolve(t):new Promise((e,n)=>{this.provider.getAdditionalProductInformation(o).then(o=>{if(o){for(const e of o)vi[e.id]=e,t[e.id]=e;e(t)}else n()}).catch(e=>n(e))})}convertRawServerDataToProductInfos(e){const t=b.convertRawProducts(e);return t.push(b.createSpecialLivebookProduct()),t.push(b.createSpecialLivevideoProduct()),t.push(b.createSpecialLiveprojectProduct()),t.push(b.createSpecialMeapProduct()),C.upgradeProductInfoPaths(t,this.provider.webUtils.configuration)}}class yi{constructor(e){this.sampleCategories=[{name:".NET"},{name:"Android"},{name:"Calculators"},{name:"Data"},{name:"Web"}],this.config=e,this.webUtils=new K.a(this.config),this.isSearchDemoProvider=!0,this.productProvider=new wi(new fi(this.webUtils))}search(e,t,o,n){return new Promise((r,i)=>{setTimeout(()=>{Promise.all([this.getProductInfos(),this.getSearchResults(e,t,o,n,!0)]).then(e=>{const t=e[0],o=e[1].results||[],n=this.findUniqueProductIdsInResults(o);r({results:o,products:t.filter(e=>n.productIdMap[e.externalId]||n.productManningIdMap[e.id])})}).catch(e=>i(e))},500)})}getProductInfos(){return this.productProvider.getProductInfos(!0)}findUniqueProductIdsInResults(e){const t={},o={};if(e)for(const n of e)t[n.productManningId]=!0,o[n.productId]=!0;return{productManningIdMap:t,productIdMap:o}}getSearchResults(e,t,o,n,r){return new Promise((i,s)=>{let a="search.json";switch((e||"").toLowerCase()){case"es6":a="search-es6.json";break;case"language models":a="search-language-models.json";break;case"android":a="search-android.json";break;case"ninja":a="search-ninja.json";break;case"python":a="search-python.json"}this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/search/${a}`),e=>i(e),e=>s(e),{query:e,product:t,categories:o,boostedProductType:n,isDeep:r})})}getSynonymsMap(){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/search-synonyms.json"),t=>e(t),t=>e({}),{},!1,!1)})}getBestsellers(){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/search/bestsellers.json"),t=>e(t),t=>e([]),{},!1,!1)})}autocompleteProducts(e){return e=(e||"").trim(),new Promise((t,o)=>{this.getProductInfos().then(o=>{t(T.getMatchingProductSuggestions(e,o))}).catch(e=>o(e))})}autocompleteConcepts(e,t){return""==(e||"").trim()?Promise.resolve([]):(e=e.toLowerCase(),new Promise((o,n)=>{const r=t?this.getSampleProductConceptsSuggestions():this.getSampleConceptsSuggestions();setTimeout(()=>o(r.filter(t=>t.containsQuery(e)||t.ancestorDirectlyContainsQuery(e))),300)}))}fullTextAutocompleteProducts(e){return new Promise((t,o)=>{Promise.all([this.getProductInfos(),this.getShallowSearchResults(e)]).then(e=>{const o=e[0],n=this.findUniqueProductIdsInResults(e[1].results||[]);t({results:e[1].results,products:o.filter(e=>n.productIdMap[e.externalId]||n.productManningIdMap[e.id])})}).catch(e=>o(e))})}getShallowSearchResults(e){return new Promise((t,o)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("data/search/shallowSearch.json"),e=>t(e),e=>o(e),{query:e})})}getProductInfo(e){return e?new Promise((t,o)=>{setTimeout(()=>{this.getProductInfos().then(o=>{t(o.find(t=>t.externalId==e))})},100)}):Promise.reject("Empty externalId")}getProductToc(e){return e?new Promise((t,o)=>{setTimeout(()=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl(`data/search/toc/${e}.json`),e=>{e.toc?t(e.toc):t(e)},e=>o(e),{})},250)}):Promise.reject("Empty product id")}getSampleProductConceptsSuggestions(){return x.flatten([new x("Closing in on closures",[{link:"http://livebook-qa.manning.com"}]),new x("attribute",[],[new x("class",[{link:"http://livebook-qa.manning.com"}])]),new x("clone node",[],[new x("overview",[{link:"http://livebook-qa.manning.com"}],[new x("conceptual",[{link:"http://livebook-qa.manning.com"}]),new x("method",[{link:"http://livebook-qa.manning.com"}])]),new x("clodeNode()",[{link:"http://livebook-qa.manning.com"}])]),new x("clearfix",[{link:"http://livebook-qa.manning.com"}]),new x("Introducing the class attribute",[{link:"http://livebook-qa.manning.com"}])])}getSampleConceptsSuggestions(){return[new x("cloud"),new x("closures"),new x("clojure"),new x("cloud computing"),new x("class"),new x("classical"),new x("close"),new x("clean"),new x("clone"),new x("cloneNode"),new x("clamp"),new x("closures, in JavaScript"),new x("compounds"),new x("compound connection"),new x("connection"),new x("closing in on closures"),new x("closures and private variables"),new x("closures and private variables 1"),new x("closures and private variables 2"),new x("closures and private variables 3"),new x("closures and private variables 4"),new x("closures and private variables 5"),new x("closures and private variables 6"),new x("closures and private variables 7"),new x("closures and private variables 8"),new x("closures and private variables 9")]}}new yi(w.c.getConfig(w.b.demo,w.a.dev));class ki{constructor(e){this.provider=e,this.productProvider=this.provider.productProvider}getOwnershipInfo(){return this.productProvider.getOwnershipInfo()}fillWithAdditionalInfo(e){return new Promise((t,o)=>{this.productProvider.getAdditionalProductInfoMap(e.map(e=>+e.id)).then(o=>{C.assignAdditionalInfoToProductInfos(e,o),t()}).catch(e=>{o(e)})})}isUsingDemoProvider(){return this.provider instanceof yi}getSynonymsMap(){return new Promise((e,t)=>{this.provider.getSynonymsMap().then(t=>{e(t)}).catch(t=>{e({})})})}search(e,t,o,n,r){return new Promise((i,s)=>{this.provider.search(e,t,o,n,r).then(t=>{i(T.convertToProductSearchResults(t.results,t.products,e,this.provider.config))}).catch(e=>{s(e)})})}fullTextAutocompleteProducts(e){return new Promise((t,o)=>{this.provider.fullTextAutocompleteProducts(e).then(o=>{const n=T.convertToProductSearchResults(o.results||[],o.products,e,this.provider.config);t(n.map(e=>k.fromProductInfo(e.productInfo)))}).catch(e=>o(e))})}getFullProductTreeResults(e){return new Promise((t,o)=>{const n=e.productSearchResults;this.provider.getProductToc(n.productId,n.productInfo.isLivebook,n.productInfo.isLivevideo,n.productInfo.isLiveproject).then(n=>{if(!n)return console.log("Couldn't load product TOC -  then"),void o("Couldn't load product TOC");const r=n.frontMatter||n.parts||n.backMatter?T.convertLivebookTocToTocItems(n,"http://livebook-test.com/"):T.convertLiveVideoTocToTocItems(n,"http://livevideo-test.com/");t(T.convertToFullProductTreeResults(e,r))}).catch(n=>{if(null!=e&&e.results&&e.results.length){const o={},n=[];for(const t of e.results)t.elementTitle&&!o[t.elementTitle]&&(n.push({title:t.elementTitle,link:t.elementLink,index:p.a.extractBookElementIndex(t.elementTitle)}),o[t.elementTitle]=!0);n.sort((e,t)=>{const o=""!=e.index&&f.a.isNumber(e.index),n=""!=t.index&&f.a.isNumber(t.index);return o&&n?+e.index-+t.index:!o&&n?p.a.isChapterOrAppendix(e.title)?1:-1:o&&!n?p.a.isChapterOrAppendix(t.title)?-1:1:e.title<t.title?-1:1});const r=n.map((e,t)=>new v(`${t}`,e.title,e.link,[],p.a.extractBookElementShortName(e.title)));t(T.convertToFullProductTreeResults(e,r))}else console.log("Couldn't load product TOC -  catch"),o("Couldn't load product TOC")})})}autocompleteProducts(e){return this.provider.autocompleteProducts(e)}autocompleteConcepts(e,t,o,n){return this.provider.autocompleteConcepts(e,t,o,n)}getProductInfo(e){return this.provider.getProductInfo(e)}getBestsellers(){return this.provider.getBestsellers()}}class xi{constructor(e,t){this.webUtils=e,this.additionalParams=t}getOwnershipInfo(){return new Promise((e,t)=>{this.webUtils.ajax(null!=this.additionalParams&&this.additionalParams.ownershipEndpoint||this.webUtils.getAbsoluteBackendUrl("/search/ownership"),t=>e(t),e=>t(e),{},!1,!0)})}getRawProductInfos(){return new Promise((e,t)=>{this.webUtils.ajax(null!=this.additionalParams&&this.additionalParams.productInfoEndpoint||this.webUtils.getAbsoluteBackendUrl("/api/search/productsAutocompleteInfo"),t=>{t&&t.length?e(t):e([])},e=>{t(e)},{new:!0})})}getAdditionalProductInformation(e){return new Promise((t,o)=>{this.webUtils.ajax(null!=this.additionalParams&&this.additionalParams.additionalProductInfoEndpoint||this.webUtils.getAbsoluteBackendUrl("/search/additionalProductInformation"),e=>t(e),e=>o(e),{productIds:e.join(",")})})}}class Si{constructor(e,t,o={}){this.config=w.c.getConfig(e,t),this.webUtils=new K.a(this.config),this.additionalParams=o,this.sourceApp=e,this.productProvider=new wi(new xi(this.webUtils,null),this.additionalParams)}getProductInfos(){return this.productProvider.getProductInfos(!0)}getBestsellers(){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/search/bestsellers"),t=>e(t),t=>e([]),{},!1,!1)})}getSynonymsMap(){return new Promise((e,t)=>{this.webUtils.ajax(this.webUtils.getAwsPublic("/search-synonyms.json"),t=>{e(t)},t=>{e({})},{},!1,!1)})}getProductInfo(e){return new Promise((t,o)=>{this.getProductInfos().then(o=>{t(o.find(t=>t.externalId==e))}).catch(e=>o(e))})}search(e,t,o,n,r){return new Promise((i,s)=>{Promise.all([this.getProductInfos(),this.getSearchResults(e,t,o,n,r),t?Promise.resolve([]):this.getProductsAsSearchResults(e)]).then(e=>{const t=e[0],o=(e[1].results||[]).concat(e[2]),n=this.findUniqueProductIdsInResults(o);i({results:o,products:t.filter(e=>n.productIdMap[e.externalId]||n.productManningIdMap[e.id])})}).catch(e=>s(e))})}getSearchResults(e,t,o,n,r){return new Promise((i,s)=>{this.webUtils.isOnline()||null==this.additionalParams||null==this.additionalParams.getSearchResultsFallback?this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/api/search/search"),o=>{i(o);try{const o=window.$;o&&o(document).trigger("fullSearch",[e,t])}catch(e){}},e=>s(e),{query:e,boostedProduct:t,categories:o,boostedProductType:n,isDeep:r,new:!0}):this.additionalParams.getSearchResultsFallback(e,t).then(e=>i(e)).catch(e=>s(e))})}getShallowSearchResults(e){return new Promise((t,o)=>{this.webUtils.isOnline()||null==this.additionalParams||null==this.additionalParams.getSearchResultsFallback?this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/api/search/shallowSearch"),o=>{t(o);try{const t=window.$;t&&t(document).trigger("shallowSearch",[e])}catch(e){}},e=>o(e),{query:e,boostedProduct:this.sourceApp==w.b.pbc?"liveProject":this.sourceApp==w.b.livevideo?"liveVideo":"",new:!0}):this.additionalParams.getSearchResultsFallback(e).then(e=>t(e)).catch(e=>o(e))})}autocompleteProducts(e){return e=(e||"").trim(),new Promise((t,o)=>{this.getProductInfos().then(o=>{t(T.getMatchingProductSuggestions(e,o))}).catch(e=>o(e))})}getProductsAsSearchResults(e){return e=(e||"").trim(),new Promise((t,o)=>{this.getProductInfos().then(o=>{t(this.getMatchingSearchResults(e,o))})})}getMatchingSearchResults(e,t){return T.getMatchingProducts(e,t,.3).slice(0,10).map(e=>{const t=new h.a;return t.id=`product-${e.id}`,t.elementLink="",t.elementTitle="",t.indexTerm="",t.link=e.marketplaceLink,t.productId=e.externalId,t.productManningId=e.id,t.productTitle=e.title,t.productType="marketplaceProduct",t.score=50,t.subElementLink="",t.subElementTitle="",t.subSubElementLink="",t.subSubElementTitle="",t.tags="",t.text=e.title,t})}autocompleteConcepts(e,t,o,n){return(e||"").trim().length<1?Promise.resolve([]):null==t||""==t.trim()?this.autocompleteLibraryConcepts(e):this.autocompleteProductConcepts(e,t,o,n)}fullTextAutocompleteProducts(e){return new Promise((t,o)=>{Promise.all([this.getProductInfos(),this.getShallowSearchResults(e)]).then(e=>{const o=e[0],n=this.findUniqueProductIdsInResults(e[1].results||[]);t({results:e[1].results,products:o.filter(e=>n.productIdMap[e.externalId]||n.productManningIdMap[e.id])})}).catch(e=>o(e))})}getProductToc(e,t,o,n){return t&&!this.webUtils.isOnline()&&null!=this.additionalParams&&null!=this.additionalParams.getLivebookTocFallback?new Promise((t,o)=>{this.additionalParams.getLivebookTocFallback(e).then(e=>t(e)).catch(e=>o(e))}):G.a.getProductToc(this.webUtils,e,t,o,n)}autocompleteLibraryConcepts(e){return this.webUtils.isOnline()?new Promise((t,o)=>{this.webUtils.ajax(this.webUtils.getAbsoluteBackendUrl("/api/search/autocompleteConcepts"),e=>{e&&e.length?t(this.cleanConcepts(e).map(e=>new x(e))):t([])},e=>o(e),{query:e})}):Promise.resolve([])}cleanConcepts(e){const t={};let o=!1;for(let n of e)"__proto__"==(n=(n||"").replace(/(\.\s*;)|(;\s*\.)/g,"").trim())&&(o=!0),t[n]=!0;const n=[];o&&n.push("__proto__");for(const e in t)!0===t[e]&&n.push(e);return n}autocompleteProductConcepts(e,t,o,n){return new Promise((r,i)=>{this.getProductConcepts(t,o,n).then(t=>{const o=e.split(" "),n=t.filter(t=>{if(t.containsQuery(e)||t.ancestorDirectlyContainsQuery(e))return!0;for(const e of o)if(t.containsQuery(e)||t.ancestorDirectlyContainsQuery(e))return!0}).slice(0,30);n.length>0?r(n):this.autocompleteLibraryConcepts(e).then(e=>r(e)).catch(e=>i(e))}).catch(e=>i(e))})}getProductConcepts(e,t,o){if(this.currentProduct==e&&null!=this.productConcepts)return this.productConcepts;let n=Promise.resolve([]);return t?n=this.getLivebookConcepts(e):o&&(n=this.getLivevideoConcepts(e)),this.productConcepts=n,this.currentProduct=e,this.productConcepts}getLivebookConcepts(e){return new Promise((t,o)=>{this.webUtils.isOnline()||null==this.additionalParams||null==this.additionalParams.getLivebookConceptsFallback?this.webUtils.ajax(this.webUtils.getAbsoluteLivebookAwsUrl(`${e}/concepts.json`),e=>t(this.updateLivebookConceptLinks(x.flatten(x.fromRawData(e)))),e=>o(e)):this.additionalParams.getLivebookConceptsFallback(e).then(e=>t(this.updateLivebookConceptLinks(x.flatten(x.fromRawData(e))))).catch(e=>o(e))})}updateLivebookConceptLinks(e){if(null==e||0==e.length)return e;for(const t of e)if(t.link=T.getAbsoluteLivebookLink(this.config,t.link),null!=t.links&&t.link.length>0)for(const e of t.links)e.link=T.getAbsoluteLivebookLink(this.config,e.link);return e}getLivevideoConcepts(e){return new Promise((t,o)=>{G.a.getLivevideoToc(this.webUtils,e).then(e=>{const o=[];for(const t of e)this.processLiveVideoTocItemToCreateConceptSuggestions(t,o);t(o)}).catch(e=>o(e))})}processLiveVideoTocItemToCreateConceptSuggestions(e,t){if(null!=e&&(t.push(new x(e.title,[{link:T.getAbsoluteLivevideoLink(this.config,e.link)}])),null!=e.children))for(const o of e.children)this.processLiveVideoTocItemToCreateConceptSuggestions(o,t)}findUniqueProductIdsInResults(e){const t={},o={};for(const n of e)t[n.productManningId]=!0,o[n.productId]=!0;return{productManningIdMap:t,productIdMap:o}}changeBaseUrl(e){this.config.backend.base=e}}var Pi=o(1),Ci=o(28),Ti=o(133),Ei=o(118),Li=o(0),Oi=o(3),Ii=o(19),Ri=(o(842),o(6));const Mi=$(document),Ai=$(document.body);const Fi=new class{constructor(){this.searchFallback={},this.hasSpeedBeenReported=!1,this.hasAtLeastOneSearchBeenMade=!1,this.isSearchOpen=!1,this.counter=0,this.firstSearchInputChangeTime=0,this.showSearch=this.showSearch.bind(this),this.hideSearch=this.hideSearch.bind(this),this.handleSearchInputChange=this.handleSearchInputChange.bind(this),this.handleSearchInputKeyPress=this.handleSearchInputKeyPress.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleSearchInputBlur=this.handleSearchInputBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handlePopState=this.handlePopState.bind(this),this.handlePushState=this.handlePushState.bind(this),this.$searchModal=$("#search-modal"),0==this.$searchModal.length&&($(document.body).append('<div id="search-modal" class="search-modal" style="display:none">\n                                        <div class="search-react-container"></div>\n                                    </div>'),this.$searchModal=$("#search-modal")),this.$searchInput=$("#search-input"),this.$searchInput.on("blur",this.handleSearchInputBlur),this.$searchInput.on("input",this.handleSearchInputChange),this.$searchInput.on("keypress",this.handleSearchInputKeyPress),this.$searchInput.on("keydown",this.handleKeyDown),this.$searchInput.on("focus",this.handleFocus),$(".header-search-container button").on("click",()=>{this.searchStore.state.query&&this.showSearch()}),this.$closeSearchButton=$(".header-search-container .close-search-icon"),this.$closeSearchButton.on("click",()=>{this.searchStore.clearSearch()}),this.searchStore=new We(w.b.livebook,Oi.a.getDeploymentType(),new ki(new Si(w.b.livebook,Oi.a.getDeploymentType(),Li.b.isApp()?this.getAdditionalSearchWebProviderParams():null)),(e,t,o,n)=>this.handleSuggestionOrLinkSelected(e,t,o,n),()=>this.hideSearch(!0),(e,t,o,n)=>{Mi.trigger("searchMade",[e,t||"library",n]),this.hasAtLeastOneSearchBeenMade=!0},void 0,e=>{this.hasSpeedBeenReported||($(document).trigger("speed",{type:"search",time:Math.round((Date.now()-this.firstSearchInputChangeTime)/1e3)}),this.hasSpeedBeenReported=!0),e&&e.length&&(clearTimeout(this.impressionsTimer),this.impressionsTimer=setTimeout(()=>{$(document).trigger("impressions",[e,"search"])},1e3))}),this.searchStore.onPropertyChanged((e,t)=>this.handleStoreStateChanged(e,t)),this.searchStore.onSuggestionSelected=e=>{e instanceof k?Mi.trigger("searchSuggestion",["product",e.slug]):e instanceof x?Mi.trigger("searchSuggestion",["concept",e.title]):Mi.trigger("searchSuggestion",["text",e])},setTimeout(()=>{i.render(n.createElement(mi,{store:this.searchStore}),this.$searchModal.children(".search-react-container")[0])},10),Mi.on("searchHideRequested",()=>this.hideSearch()),Mi.on("searchHighlightRequested",(e,t,o)=>{this.highlightCurrentResults(t,o)}),this.searchStore.initialAutocompleteProducts(),this.searchStore.initialPopulateSynonyms();var e=this.$searchInput.val();e&&(this.searchStore.setQuery(e),this.searchStore.setIsTypingQuery(e),this.searchStore.setTypingFinished()),$(document).trigger("searchInitialized"),window.addEventListener("popstate",this.handlePopState),window.addEventListener("pushstate",this.handlePushState),Ri.a.isLoggedIn().then(e=>{e&&e.loggedIn&&(e.userDetails&&e.userDetails.isAdmin?C.userOwnedProducts={"*":!0}:this.searchStore.loadOwnership())}),$(document).on("fullSearch",(e,t,o)=>{setTimeout(()=>{this.searchStore.state.searchSource==Be.Content&&$(document).trigger("searchLocationSearch",[t,"content"])},5)}),$(document).on("shallowSearch",(e,t)=>{setTimeout(()=>{this.searchStore.state.searchSource==Be.Products&&$(document).trigger("searchLocationSearch",[t,"products"])},5)})}initialize(e,t){this.book=e,this.bookElement=t,null!=this.book?this.searchStore.state.query&&this.hasAtLeastOneSearchBeenMade||(this.searchStore.state.searchSource!=Be.Content&&this.searchStore.updateSearchSource(Be.Content),null!=this.searchStore.state.currentProduct&&this.searchStore.state.currentProduct.externalId==this.book.shortName||this.searchStore.setProduct(this.book.shortName)):this.searchStore.state.query||(this.searchStore.state.searchSource!=Be.Products&&this.searchStore.updateSearchSource(Be.Products),this.searchStore.state.currentProduct&&this.searchStore.clearProduct())}handleStoreStateChanged(e,t){e.query!=t.query&&this.$searchInput.val(t.query),(null==e.items||0==e.items.length)&&null!=t.items&&t.items.length>0&&a.a.setTimeout(()=>{null!=this.book&&null!=this.bookElement&&this.highlightCurrentResults(this.book,this.bookElement)},50),!t.query&&this.isSearchOpen?this.hideSearch(!0):t.query&&!this.isSearchOpen&&this.$searchInput.is(":focus")?this.showSearch():t.query&&this.$closeSearchButton.css("visibility","visible")}showSearch(){Ai.addClass("modal-open"),Mi.trigger("searchOpen",!0),this.$searchModal.css("display","block"),this.$searchModal.children(".close-button").css("display","block"),this.isSearchOpen=!0,a.a.setTimeout(()=>{this.$searchModal.addClass("shown"),this.searchStore.state.isShowingResults||this.$searchModal.find(".search-input").focus()},10),this.searchStore.state.query&&this.$closeSearchButton.css("visibility","visible"),this.updateHash(!0)}hideSearch(e=!1){this.$searchModal.removeClass("shown"),Ai.removeClass("modal-open"),this.isSearchOpen=!1,this.$closeSearchButton.css("visibility","hidden"),setTimeout(()=>{this.$searchModal.css("display","none")},200),e&&this.updateHash(!1)}handlePopState(){"#search"==document.location.hash?this.showSearch():this.hideSearch(!0)}handlePushState(){console.log("handle push state",document.location.hash)}updateHash(e){let t=document.location.href;if(e){const e=t.indexOf("#");e>=0&&(t=t.substring(0,e)),t+="#search"}else{const e=t.indexOf("#");e>=0&&(t=t.substring(0,e))}document.location.href!=t&&(t.indexOf("#search")>=0&&this.counter,console.log("Pushing state",t),history.pushState({},document.title,t),this.counter++)}handleSearchInputChange(e){e.currentTarget.value!==this.searchStore.state.query&&(clearTimeout(this.typingTimeoutId),this.searchStore.setIsTypingQuery(e.currentTarget.value),this.typingTimeoutId=setTimeout(()=>{this.searchStore.setTypingFinished()},250)),this.firstSearchInputChangeTime||(this.firstSearchInputChangeTime=Date.now())}handleSearchInputKeyPress(e){if("Enter"!=e.key)return;clearTimeout(this.typingTimeoutId),e.preventDefault(),e.stopPropagation();const t=this.searchStore.autocompleteStore.state.selectedSuggestion;null!=t?(this.searchStore.setQuery(t.title),this.searchStore.selectSuggestion(this.searchStore.autocompleteStore.state.selectedSuggestion),this.handleStartSearch()):this.handleStartSearch()}handleKeyDown(e){return 27==e.keyCode&&this.hideSearch(),this.searchStore.handleSearchInputKeyDown(e)}handleFocus(e){this.searchStore.state.query&&!this.isSearchOpen&&this.showSearch()}handleSearchInputBlur(e){setTimeout(()=>{this.searchStore.autocompleteStore.hide()},150)}handleStartSearch(e=!1){clearTimeout(this.typingTimeoutId),this.searchStore.startSearch(e)}handleSuggestionOrLinkSelected(e,t,o,n){if(e instanceof k){if(e.isLivebook){const t=Pi.a.getBookUrl(e.slug);page(t),this.hideSearch(!0)}else e.isLivevideo?Ci.a.openLinkInNewTab(Pi.a.getLiveVideoUrl(`course/${e.externalId}/${e.slug}`)):e.link&&e.link.startsWith("http")?Ci.a.openLinkInNewTab(e.link):Ci.a.openLinkInNewTab(Pi.a.getMarketplaceProductUrl(e.slug,!1));$(document).trigger("impressionClick",[{id:e.id,title:e.title,category:(e.tags||[]).join(","),position:n,brand:e.isLiveproject?"liveProject":e.isLivevideo?"liveVideo":"book"},"search"])}else if(e instanceof x){const o=t||e.link;if(o&&-1!=o.indexOf("/book/")){const t=this.expandLinkWithSearchParameter(e,o);Ci.a.isLivebookLink(t)&&this.hideSearch(!0),Ci.a.openLink(t)}}else if("string"==typeof e||""!=t){const o=t||e;o&&(Ci.a.isLivebookLink(o)&&this.hideSearch(!0),this.logImpressionsClickFromLink(o,n),Ci.a.openLink(o))}}logImpressionsClickFromLink(e,t){try{const o=e.indexOf("/book/");if(-1==o)return;const n=e.substr(o+"/book/".length);Ii.a.getMediumCatalog().then(e=>{const o=e.find(e=>e.slug==n);o&&$(document).trigger("impressionClick",[{id:o.manningId,title:o.cleanTitle,category:o.categories,position:t},"search"])})}catch(e){console.log(e)}}expandLinkWithSearchParameter(e,t){return t}highlightCurrentResults(e,t){const o=this.searchStore.state.items,n=this.searchStore.state.query;null!=o&&0!=o.length&&n&&this.markCurrentBookElementResults(e,t,o.find(t=>t.productTitle===e.title))}removeSearchHighlights(){const e=$(".contains-search-result");e.removeClass("contains-search-result"),e.each((e,t)=>{c.a.unwrapIntoParent($(t).find(".search-result"))})}markCurrentBookElementResults(e,t,o){if(!e||!t||!o)return;$(".contains-search-result").removeClass("contains-search-result");const n=$("#book-markup-container .search-result");if(n.removeClass("search-result"),n.each((e,t)=>{const o=$(t),n=t.parentElement;o.replaceWith(o.text()),n.normalize()}),!e)return;e.title;const r=[],i={};for(const e of o.results)if(e.elementTitle===t.title){r.push(e);const t=this.extractIdFromLink(e.link);t&&(i[t]=$("<div>"+e.text+"</div>").find(".search-result").eq(0).text())}try{for(const e in i){if(!i[e])continue;let t=$(e);0===t.length&&(t=$(`#${e}`));const o=t.is(".readable-text")?t:t.closest(".readable-text");o[0]&&Ti.a.highlight(o[0],i[e],"search-result")}}catch(e){console.log("Error when markCurrentBookElementResults: ",e)}}extractIdFromLink(e){if(!e||!e.trim())return"";const t=e.indexOf("search-");return-1==t?"":e.substring(t+"search-".length)}getAdditionalSearchWebProviderParams(){return Li.b.isApp()?(Ei.a.getSearchFallbackProviderSource().then(({SearchFallbackProvider:e})=>{this.searchFallback.getLivebookConceptsFallback=e.getLivebookConceptsFallback,this.searchFallback.getLivebookTocFallback=e.getLivebookTocFallback,this.searchFallback.getProductInfosFallback=e.getProductInfosFallback,this.searchFallback.getSearchResultsFallback=e.getSearchResultsFallback,this.searchFallback.onProductInfosArrived=e.onProductInfosArrived}),this.searchFallback):null}}},810:function(e,t,o){(t=o(89)(!1)).push([e.i,"body.night-mode .search-toc-root{background:#2e3436;color:#b9b9ad}body.night-mode .search-toc-root .search-toc-element-root.selected .search-toc-element-title-container,body.night-mode .search-toc-root .search-toc-element-root.selected .search-toc-toggle-button svg{color:#222}body.night-mode .search-toc-root .search-toc-toggle-button svg{color:white}body.night-mode .search-toc-root .search-tree-spacer .search-tree-spacer-item{background-color:#2e3436}@media screen and (max-width: 950px){body.night-mode .search-toc-root .search-toc-toggle-button svg{color:#222}body.night-mode .search-toc-root .search-tree-spacer .search-tree-spacer-item{background-color:#F2F2F2}body.night-mode .search-toc-root .search-toc-wrapper .loading-icon{color:#222;font-size:29px;margin:10px}}.search-toc-root{width:270px;flex:0 0 270px;position:relative;align-self:flex-start;box-sizing:content-box;max-height:calc(100vh - 155px);overflow-y:scroll;background:white;top:-3px}.search-toc-root .scroll-area-top-background{display:none}@media screen and (min-width: 1400px){.search-toc-root{width:300px;flex:0 0 300px}}@media screen and (min-width: 1500px){.search-toc-root{width:350px;flex:0 0 350px}}@media screen and (min-width: 1600px){.search-toc-root{width:400px;flex:0 0 400px}}.search-toc-root .loading-icon{margin-bottom:0.5em}.search-toc-root .search-toc-header{display:none;align-items:center;justify-content:space-between;font-weight:bold;line-height:18px;padding:6px 12px}.search-toc-root .search-toc-header .search-toc-header-title{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.search-toc-root .search-toc-content{position:relative;padding-left:50px}.search-toc-root .search-toc-border{position:absolute;border:3px solid #828282;border-right:none;bottom:17px;left:30px;top:17px;width:13px;border-radius:6px 0 0 6px}.search-toc-root .search-tree-spacer{position:absolute;transform:translateY(-20px);left:30px;height:21px;width:100%;cursor:pointer}.search-toc-root .search-tree-spacer .search-tree-spacer-item{height:4px;width:3px;background-color:white;margin-bottom:4px}.search-toc-root .search-toc-toggle-button{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0.5em;border:none;background:none;margin:0;color:#222;font-size:13px}.search-toc-root .search-toc-toggle-button svg{transition:transform 0.25s ease-in-out;transform:rotate(0)}.search-toc-root .search-toc-toggle-button.active svg{transform:rotate(90deg)}.search-toc-root .ReactCollapse--collapse{transition:height 250ms ease-in-out}@media screen and (max-width: 950px){.search-toc-root{width:100%;max-height:unset;overflow-y:unset;margin:15px 0;position:sticky;top:-1px;z-index:96}.search-toc-root .search-toc-wrapper{margin-right:15px;background:#F2F2F2;border-radius:0px 24px 24px 0px;color:#222}.search-toc-root .search-toc-wrapper .loading-results-container{margin:0}.search-toc-root .search-toc-header{display:flex}.search-toc-root .search-toc-border,.search-toc-root .search-tree-spacer{left:10px}.search-toc-root .search-toc-content{padding-left:25px}.search-toc-root .search-toc-content .search-toc-toggle-button{display:none}.search-toc-root .scroll-area-top-background{display:block}}.search-toc-element-root{margin-bottom:20px}.search-toc-element-root:last-of-type{margin-bottom:0}.search-toc-element-root:last-of-type .ReactCollapse--collapse{position:absolute;width:270px}.search-toc-element-root.selected .search-toc-element-title-container{font-weight:bold}.search-toc-element-root.selected .search-toc-element-header-container{background-color:#F2F2F2}.search-toc-element-root .search-toc-sub-element-title-container{padding:4px 7px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:20px;cursor:pointer;margin-bottom:5px}.search-toc-element-root .search-toc-sub-element-title-container.selected{font-weight:bold}.search-toc-element-root .search-toc-sub-element-title-container:last-of-type{margin-bottom:0}.search-toc-element-root .search-toc-element-header-container{display:flex;align-items:center;padding:4px 7px;border-radius:0px 6px 6px 0px}.search-toc-element-root .search-toc-element-header-container .search-toc-element-title-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:1em;cursor:pointer}\n",""]),e.exports=t},811:function(e,t,o){var n=o(88),r=o(812);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},812:function(e,t,o){(t=o(89)(!1)).push([e.i,'.livebook-viewer-root{max-width:900px;flex:1}.livebook-viewer-frame{width:100%;border:none;height:calc(100vh - 80px)}.livebook-viewer-excerpt-container{display:flex;align-items:center;margin-top:1em}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-info{font-size:18px;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-icon{display:inline-block;background:#4788D9;border-radius:2px;padding:2px 4px;margin-right:0.75em}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-container-icon img{width:18px;vertical-align:middle}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link{display:inline-block;padding:5px 13px;margin-left:0.75em;background:#4788D9;border-radius:5px;color:white;text-decoration:none;font-size:14px;white-space:nowrap}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link:hover{background:#327ad5}.livebook-viewer-excerpt-container .livebook-viewer-excerpt-link:active{background:#296ec4}@keyframes opacityPulse{from{opacity:1}50%{opacity:0}to{opacity:1}}body.night-mode .livebook-loader-root{color:#b9b9ad}body.night-mode .livebook-viewer-root .annotation-label,body.night-mode .livebook-viewer-root .annotation-description{color:#222}.search-root .livebook-viewer-root h1,.search-root .livebook-loader-root h1{margin-top:-8px;line-height:40px}@media screen and (max-width: 650px){.search-root .livebook-viewer-root h1,.search-root .livebook-loader-root h1{line-height:30px;margin-top:0px}}@media screen and (max-width: 650px){.search-root .livebook-loader-root{font-size:80%}}body.night-mode .book-markup-container.livebook-viewer-content{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content h1,body.night-mode .book-markup-container.livebook-viewer-content h2,body.night-mode .book-markup-container.livebook-viewer-content h3,body.night-mode .book-markup-container.livebook-viewer-content h4,body.night-mode .book-markup-container.livebook-viewer-content h5{color:inherit}body.night-mode .book-markup-container.livebook-viewer-content .search-query-word{color:white}body.night-mode .book-markup-container.livebook-viewer-content .introduction-summary{background-color:#515556;border-color:transparent;color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .introduction-summary ul{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .unlocking p,body.night-mode .book-markup-container.livebook-viewer-content li.unlocking{background-color:#565656}body.night-mode .book-markup-container.livebook-viewer-content .callout-container,body.night-mode .book-markup-container.livebook-viewer-content .browsable-container{background-color:#515556;color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content .hljs,body.night-mode .book-markup-container.livebook-viewer-content .hljs-subst{color:#b9b9ad}body.night-mode .book-markup-container.livebook-viewer-content a{color:#4392e0}body.night-mode .book-markup-container.livebook-viewer-content .hljs-built_in,body.night-mode .book-markup-container.livebook-viewer-content .hljs-bullet,body.night-mode .book-markup-container.livebook-viewer-content .hljs-code,body.night-mode .book-markup-container.livebook-viewer-content .hljs-addition{color:#7eff00}body.night-mode .book-markup-container.livebook-viewer-content .hljs-type,body.night-mode .book-markup-container.livebook-viewer-content .hljs-string,body.night-mode .book-markup-container.livebook-viewer-content .hljs-number,body.night-mode .book-markup-container.livebook-viewer-content .hljs-selector-id,body.night-mode .book-markup-container.livebook-viewer-content .hljs-selector-class,body.night-mode .book-markup-container.livebook-viewer-content .hljs-quote,body.night-mode .book-markup-container.livebook-viewer-content .hljs-template-tag,body.night-mode .book-markup-container.livebook-viewer-content .hljs-deletion,body.night-mode .book-markup-container.livebook-viewer-content .hljs-title,body.night-mode .book-markup-container.livebook-viewer-content .hljs-section{color:red}.book-markup-container.livebook-viewer-content{font-family:Merriweather,"serif";color:#3C3C3C;line-height:30px}@media screen and (max-width: 650px){.book-markup-container.livebook-viewer-content{line-height:20px;font-size:80%}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{line-height:28px}}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{font-weight:bold;text-transform:none}.book-markup-container.livebook-viewer-content h1{font-size:2em;border-bottom:none}.book-markup-container.livebook-viewer-content h2{font-size:1.5em}.book-markup-container.livebook-viewer-content h3{font-size:1.3em}.book-markup-container.livebook-viewer-content h4{font-size:1.1em}.book-markup-container.livebook-viewer-content h5{font-size:1em}.book-markup-container.livebook-viewer-content .browsable-container.figure-container{text-align:center}.book-markup-container.livebook-viewer-content .browsable-container.figure-container h1,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h2,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h3,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h4,.book-markup-container.livebook-viewer-content .browsable-container.figure-container h5{text-align:left}.book-markup-container.livebook-viewer-content .browsable-container{margin-bottom:1em}.book-markup-container.livebook-viewer-content .browsable-container .hljs{border:none}.book-markup-container.livebook-viewer-content .browsable-container pre{margin:1em 0;white-space:pre-wrap;word-break:break-word;font-size:13px;line-height:normal}.book-markup-container.livebook-viewer-content .browsable-container.processed-listing,.book-markup-container.livebook-viewer-content .browsable-container.listing-container{font-size:13px !important}.book-markup-container.livebook-viewer-content .unlocking{animation:opacityPulse 2s infinite}.book-markup-container.livebook-viewer-content .unlocking p,.book-markup-container.livebook-viewer-content li.unlocking{background-color:#f9f9f9}.book-markup-container.livebook-viewer-content .search-query-word{background-color:#fc0;font-weight:bold;margin:0 -0.1em;padding:0 0.1em}.book-markup-container.livebook-viewer-content .callout-container{background-color:#e8e8e8;margin-top:1em;margin-bottom:1em;padding:5px;border-radius:5px}.book-markup-container.livebook-viewer-content .callout-container>.readable-text>h5,.book-markup-container.livebook-viewer-content .callout-container>h5{text-transform:uppercase}.book-markup-container.livebook-viewer-content .callout-container .readable-text{padding:0 1em}.book-markup-container.livebook-viewer-content .callout-container.collapsed{border:0}.book-markup-container.livebook-viewer-content .callout-container>ul,.book-markup-container.livebook-viewer-content .callout-container>ol{padding-left:3em}.book-markup-container.livebook-viewer-content .callout-container>ul>.readable-text,.book-markup-container.livebook-viewer-content .callout-container>ol>.readable-text,.book-markup-container.livebook-viewer-content .callout-container ul .readable-text,.book-markup-container.livebook-viewer-content .callout-container ol .readable-text{padding-top:0;padding-left:1em}.book-markup-container.livebook-viewer-content .callout-container .browsable-container{padding:1em;margin:1em}.book-markup-container.livebook-viewer-content .callout-container iframe{width:100%;border:none}.book-markup-container.livebook-viewer-content .browsable-container.figure-container img{text-align:center}.book-markup-container.livebook-viewer-content .listing-environment-container{border-top:1px solid #e5e5e5;padding:1em 0}.book-markup-container.livebook-viewer-content .button{background-color:#f5f5f5 !important;color:#333 !important;border-radius:3px;padding:8px 15px;font-size:14px;font-weight:400;box-shadow:0 2px 0 0 #999;border:1px solid #ccc;margin:0 5px 0 0;text-decoration:none;text-align:center;font-family:Lato;display:inline-block;line-height:1.4}.book-markup-container.livebook-viewer-content .button:active{box-shadow:0 1px 0 0 #999;background:#fdfdfd;top:2px}.book-markup-container.livebook-viewer-content img{display:inline-block;vertical-align:middle;max-width:100%;height:auto}.book-markup-container.livebook-viewer-content .browsable-container{padding:1em}.book-markup-container.livebook-viewer-content .readable-text{word-break:break-word}.book-markup-container.livebook-viewer-content .readable-text p{margin:1em 0}.book-markup-container.livebook-viewer-content kbd{border-radius:3px;font-family:Consolas,"Liberation Mono",Courier,monospace;padding:3px 5px;border:1px solid #DCDCDC;background-color:#F5F5F5;color:#3C3C3C}@media screen and (max-width: 650px){.book-markup-container.livebook-viewer-content kbd{padding:1px 2px}}.book-markup-container.livebook-viewer-content h1,.book-markup-container.livebook-viewer-content h2,.book-markup-container.livebook-viewer-content h3,.book-markup-container.livebook-viewer-content h4,.book-markup-container.livebook-viewer-content h5{font-family:Lato}.book-markup-container.livebook-viewer-content h5{margin-top:0.2em;margin-bottom:0.5em}.book-markup-container.livebook-viewer-content .introduction-summary{margin:1em 0;background-color:#e8e8e8;border:1px solid #ebe7e1;padding:1.25em;background:#f2f2f2;color:#333;border-radius:3px}.book-markup-container.livebook-viewer-content .introduction-summary>:first-child{margin-top:0}.book-markup-container.livebook-viewer-content .introduction-summary ul{color:black}.book-markup-container.livebook-viewer-content .introduction-summary i,.book-markup-container.livebook-viewer-content .readable-text i{font-family:Merriweather,"serif";font-style:italic}.book-markup-container.livebook-viewer-content .browsable-container{position:relative;border:1px solid #d9d9d9;border-radius:5px;background-color:white}.book-markup-container.livebook-viewer-content .listing-container{z-index:95}.book-markup-container.livebook-viewer-content .code-area-container{position:relative;line-height:initial}.book-markup-container.livebook-viewer-content .listing-environment-container{line-height:initial}.book-markup-container.livebook-viewer-content form.code-area-container{margin:0}.book-markup-container.livebook-viewer-content .code-annotations-overlay-container{position:absolute;top:0;right:0;bottom:0;width:25px}.book-markup-container.livebook-viewer-content .code-area .line-container{position:absolute;left:0;right:20px;top:0px;opacity:0.6;cursor:pointer}.book-markup-container.livebook-viewer-content .code-area .line-container.selected{background:rgba(230,230,230,0.6)}.book-markup-container.livebook-viewer-content .code-area .line-container.highlighted{background:rgba(230,230,230,0.4)}.book-markup-container.livebook-viewer-content .annotation-container{position:absolute;width:20px;right:2px;z-index:90;background:#e5e5e5;cursor:pointer;display:table;text-align:center;border-radius:2px;font-weight:600}.book-markup-container.livebook-viewer-content .annotation-container:active,.book-markup-container.livebook-viewer-content .annotation-container:after:active{outline:0}.book-markup-container.livebook-viewer-content .annotation-container:hover,.book-markup-container.livebook-viewer-content .annotation-container.hovered{background:#d3d3d7}.book-markup-container.livebook-viewer-content .annotation-container:hover:after,.book-markup-container.livebook-viewer-content .annotation-container:after,.book-markup-container.livebook-viewer-content .annotation-container.hovered:after,.book-markup-container.livebook-viewer-content .annotation-container.hovered:after{border-right-color:#d3d3d7}.book-markup-container.livebook-viewer-content .annotation-container.selected{background-color:#F5A623}.book-markup-container.livebook-viewer-content .annotation-container.selected:not(.vertical){width:22px;right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.book-markup-container.livebook-viewer-content .annotation-container.selected:hover{background:#F5A623}.book-markup-container.livebook-viewer-content .annotation-container.selected:hover:after,.book-markup-container.livebook-viewer-content .annotation-container.selected:after{border-right-color:#F5A623}.book-markup-container.livebook-viewer-content .annotation-container.selected.vertical{border-radius:2px}.book-markup-container.livebook-viewer-content .annotation-container.show-tip:after{right:20px;opacity:1;-webkit-transition:all 0.1s ease-out;-moz-transition:all 0.1s ease-out;transition:all 0.1s ease-out}.book-markup-container.livebook-viewer-content .annotation-container:after{right:15px;top:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-right-color:#e5e5e5;border-width:7px;margin-top:-7px;opacity:0}.book-markup-container.livebook-viewer-content .annotation-container .annotation-label{display:table-cell;vertical-align:middle;font-size:10px;font-weight:bold;user-select:none}.book-markup-container.livebook-viewer-content .code-area .hljs{background:initial}.book-markup-container.livebook-viewer-content .code-area>.hljs{padding:0 0.5em 0 0}.book-markup-container.livebook-viewer-content .hljs-line-numbers{text-align:right;color:#999;user-select:none}.livebook-viewer-root{position:relative}.livebook-viewer-root .code-annotation-container{display:none;position:absolute;z-index:95;max-width:200px;font-size:12px;background-color:#F5A623;border-top-right-radius:2px;border-bottom-right-radius:2px;hyphens:auto}.livebook-viewer-root .code-annotation-container .annotation-description{display:table-cell;vertical-align:middle;padding:0.5em}.livebook-viewer-root .code-annotation-container.shown{display:inline-block}.livebook-viewer-root .code-annotation-container.vertical{z-index:95;border-radius:2px}.livebook-viewer-root .code-annotation-container.vertical.show-tip:after{opacity:1;transform:translateY(0);-webkit-transition:all 0.2s ease-out;-moz-transition:all 0.2s ease-out;transition:all 0.2s ease-out}.livebook-viewer-root .code-annotation-container.vertical:after{top:98%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(245,166,35,0);border-top-color:#F5A623;border-width:7px;margin-left:-7px;transform:translateY(-5px)}.livebook-viewer-root .livebook-viewer-continue-reading-button{display:block;height:0;color:gray;font-size:20px;padding:2px 10px;position:sticky;width:40px;border-radius:5px;top:0;margin-left:auto;transform:translateX(40px);cursor:pointer;opacity:0;transition:all 0.2s}.livebook-viewer-root:hover .livebook-viewer-continue-reading-button{opacity:1}.livebook-viewer-root .lds-livebook-outer{color:#b9b9b9}.livebook-viewer-root .lds-livebook-inner{color:#b9b9b9;display:flex;align-items:center;justify-content:center;flex-direction:column;font-family:Lato;font-size:12px}.livebook-viewer-root .lds-livebook-inner span{margin-top:-10px}.livebook-viewer-root .lds-livebook{display:inline-block;position:relative;width:64px;height:64px}.livebook-viewer-root .lds-livebook div{display:inline-block;position:absolute;left:6px;width:13px;border:1px solid rgba(198,198,198,0.5);background:#f4f4f4;animation:lds-livebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite}.livebook-viewer-root .lds-livebook div:nth-child(1){left:6px;animation-delay:-0.24s}.livebook-viewer-root .lds-livebook div:nth-child(2){left:26px;animation-delay:-0.12s}.livebook-viewer-root .lds-livebook div:nth-child(3){left:45px;animation-delay:0}@keyframes lds-livebook{0%{top:6px;height:51px}50%,100%{top:19px;height:26px}}\n',""]),e.exports=t},813:function(e,t,o){var n=o(88),r=o(814);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},814:function(e,t,o){(t=o(89)(!1)).push([e.i,".hljs{display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0}.hljs,.hljs-subst{color:#444}.hljs-comment{color:#888888}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta-keyword,.hljs-doctag,.hljs-name{font-weight:bold}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-deletion{color:#880000}.hljs-title,.hljs-section{color:#880000;font-weight:bold}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo{color:#BC6060}.hljs-literal{color:#78A960}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}\n",""]),e.exports=t},815:function(e,t,o){var n=o(88),r=o(816);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},816:function(e,t,o){(t=o(89)(!1)).push([e.i,".artifact-feedback-root{background:#407FBF;margin:0 -15px -15px -15px;border-radius:0 0 6px 6px}.artifact-feedback-root.livebook-viewer-feedback{margin:0.5em 0;border-top:1px solid black}.artifact-feedback-root .artifact-feedback-header{display:flex;align-items:center;justify-content:space-between}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-title-container{margin-left:15px;color:white;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon-container{display:flex;flex:0;padding:0.25em 0.5em}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon{padding:0.5em;cursor:pointer;color:white;user-select:none}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon svg .inside{fill:transparent}.artifact-feedback-root .artifact-feedback-header .artifact-feedback-icon svg .outline{fill:white}.artifact-feedback-root .artifact-feedback-header .thumbs-up-icon.selected .inside{fill:#00b300}.artifact-feedback-root .artifact-feedback-header .thumbs-down-icon.selected .inside{fill:#f33}.artifact-feedback-root .artifact-feedback-header .thumbs-down-icon{margin-right:1em}.artifact-feedback-root .artifact-feedback-form-container{padding:0 15px 15px 15px}.artifact-feedback-root .artifact-feedback-form-container textarea{display:block;width:100%;margin:10px 0;box-sizing:border-box;padding:0.5em;border-radius:0;background-color:#fff;font-family:inherit;border-style:solid;border-width:1px;border-color:#ccc;box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);color:rgba(0,0,0,0.75);font-size:1em}.artifact-feedback-root .artifact-feedback-form-container label{color:white}.artifact-feedback-root .artifact-feedback-form-container .artifact-feedback-form-footer{text-align:right}.artifact-feedback-root button{background:#FFFFFF;color:#407FBF;border-radius:3px;height:35px;line-height:1;margin:0;padding:0.5em 2em;font-size:12px;border:none}\n",""]),e.exports=t},817:function(e,t,o){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
var n;n=function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}},function(e,t){function o(){}o.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){var n=this;function r(){n.off(e,r),t.apply(o,arguments)}return r._=t,this.on(e,r,o)},emit:function(e){for(var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=o.length;n<r;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],r=[];if(n&&t)for(var i=0,s=n.length;i<s;i++)n[i].fn!==t&&n[i].fn._!==t&&r.push(n[i]);return r.length?o[e]=r:delete o[e],this}},e.exports=o,e.exports.TinyEmitter=o},function(e,t,o){var n=o(3),r=o(4);e.exports=function(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(o))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}(e,t,o);if(n.nodeList(e))return function(e,t,o){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,o)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,o)}))}}}(e,t,o);if(n.string(e))return function(e,t,o){return r(document.body,e,t,o)}(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var o=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===o||"[object HTMLCollection]"===o)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,o){var n=o(5);function r(e,t,o,n,r){var s=i.apply(this,arguments);return e.addEventListener(o,s,r),{destroy:function(){e.removeEventListener(o,s,r)}}}function i(e,t,o,r){return function(o){o.delegateTarget=n(o.target,t),o.delegateTarget&&r.call(e,o)}}e.exports=function(e,t,o,n,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof o?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,o,n,i)})))}},function(e,t){var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==o;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return s(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),c=o(1),l=o.n(c),u=o(2),d=o.n(u),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),g=function(e){function t(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(o),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=d()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return t.forEach((function(e){o=o&&!!document.queryCommandSupported(e)})),o}}]),t}(l.a);function m(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}t.default=g}]).default},e.exports=n()},818:function(e,t,o){var n=o(88),r=o(819);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},819:function(e,t,o){(t=o(89)(!1)).push([e.i,'body.night-mode .selected-product-info-root{color:#b9b9ad}.selected-product-info-root{display:none;margin:0 15px}@media screen and (max-width: 950px){.selected-product-info-root{display:block}}.selected-product-info-root .selected-product-info-title{font-size:14px;line-height:16px;font-weight:700;text-decoration:none;margin-top:5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-decoration:none}.selected-product-info-root .selected-product-info-title a{color:inherit}.selected-product-info-root .selected-product-info-original-price{margin-right:0.5em;position:relative;font-weight:300}.selected-product-info-root .selected-product-info-original-price:before{position:absolute;content:"";left:-0.15em;top:calc(50% - 1px);right:-0.15em;border-top:2px solid gray;transform:rotate(-5deg)}.selected-product-info-root .selected-product-info-description{line-height:18px;font-size:15px;font-weight:300;height:54px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-weight:300;color:inherit;text-decoration:none}.selected-product-info-root .selected-product-info-description p,.selected-product-info-root .selected-product-info-description h1,.selected-product-info-root .selected-product-info-description h2,.selected-product-info-root .selected-product-info-description h3,.selected-product-info-root .selected-product-info-description h4,.selected-product-info-root .selected-product-info-description h5{margin:0}.selected-product-info-root .selected-product-info-price-date{font-weight:bold;font-size:12px;color:#828282;margin-top:-12px;text-align:right}\n',""]),e.exports=t},820:function(e,t,o){var n=o(88),r=o(821);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},821:function(e,t,o){(t=o(89)(!1)).push([e.i,"body.night-mode .search-results-list-wrapper .search-results-list .search-result-item .search-result{color:black}.search-results-list-wrapper{position:relative}.search-results-list-wrapper .search-results-list-heading{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:5px}.search-results-list-wrapper .search-results-list{margin-left:50px;margin-top:0;padding-left:0;overflow-wrap:break-word;font-family:'Merriweather';box-sizing:border-box}.search-results-list-wrapper .search-results-list .search-result-item-header{display:flex;align-items:center;margin-bottom:0.5em}.search-results-list-wrapper .search-results-list .search-result-item{display:block;margin-bottom:30px}.search-results-list-wrapper .search-results-list .search-result-item>a{display:block}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link{font-size:small;display:inline-block;color:#525252;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Lato}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link+.result-item-book-element-link{margin-left:0.5em}.search-results-list-wrapper .search-results-list .search-result-item .result-item-book-element-link+.result-item-book-element-link:before{content:\"\\00B7\";margin-right:0.5em}.search-results-list-wrapper .search-results-list .search-result-item .livebook-label,.search-results-list-wrapper .search-results-list .search-result-item .livevideo-label,.search-results-list-wrapper .search-results-list .search-result-item .product-label{display:inline-block;padding:0.1em 0.4em;margin-right:0.4em;color:white;font-size:70%;vertical-align:middle;user-select:none}.search-results-list-wrapper .search-results-list .search-result-item .livebook-label{background-color:#10509f}.search-results-list-wrapper .search-results-list .search-result-item .livevideo-label{background-color:#5facc0}.search-results-list-wrapper .search-results-list .search-result-item .product-label{background-color:#555555}.search-results-list-wrapper .search-results-list .search-result-item .search-result{background-color:#fc0;font-weight:bold;margin:0 -0.1em;padding:0 0.1em}.search-results-list-wrapper .search-results-list .search-result-item:last-child{margin-bottom:0}.search-results-list-wrapper .search-results-list .search-result-item>a{text-decoration:none;color:inherit}.search-results-list-wrapper .search-results-list .search-result-item>a:visited{color:inherit}@media screen and (max-width: 650px){.search-results-list-wrapper .search-results-list{font-size:85%}.search-results-list-wrapper .search-results-list .search-result-item{margin-bottom:15px}}@media screen and (max-width: 950px){.search-results-list-wrapper .search-results-list-heading{display:none}.search-results-list-wrapper .search-results-list{margin-left:15px;padding-top:15px}}\n",""]),e.exports=t},822:function(e,t,o){var n=o(88),r=o(823);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},823:function(e,t,o){(t=o(89)(!1)).push([e.i,'#demo-container .search-demo-route-link{display:inline-block;margin:0 5px;padding:0 2px}#demo-container .search-demo-route-link.selected{background-color:blue;color:white}.clearfix::after{content:" ";display:block;height:0;clear:both}#demo-container .search-input-wrapper{height:35px;box-sizing:border-box;z-index:1;display:flex;justify-content:center;flex:1;margin:0 1em}#demo-container .search-input-wrapper .search-input-container{max-width:970px;flex:1;display:flex}#demo-container .search-input-wrapper input{height:35px;box-sizing:border-box;width:100%}#demo-container .search-input-wrapper .input-group-btn{display:block;transform:translateX(-41px)}.autocomplete-concepts-section{background-color:white;border:1px solid #ccc;border-top:0}.autocomplete-concepts-section .concept-content-title-link{color:#989797;margin-left:0.5em}.autocomplete-concepts-section .concept-content-title-link a{text-decoration:none;cursor:pointer}.autocomplete-concepts-section .concept-content-title-link a:hover{text-decoration:underline}.autocomplete-concepts-section .concept-content-title-link a:visited{color:inherit}.autocomplete-concepts-section .concept-title{font-weight:300;font-size:inherit}.autocomplete-concepts-section .autosuggestion-title{margin-right:1em}@media screen and (max-width: 500px){.autocomplete-concepts-section{order:3;padding-top:0.5em}}.search-modal{font-size:16px !important;font-family:Lato,Arial,"Helvetica Neue",Helvetica,Roboto,Arial,sans-serif !important;line-height:1.2;position:relative;height:100%;padding:0 23px;background-color:white;color:#222}.search-modal ul,.search-modal ol,.search-modal dl{font-size:inherit;line-height:1.2}.search-modal *,.search-modal *:before,.search-modal *:after{-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.search-modal.ReactModal__Content{transform:initial}body.night-mode .search-root{background:#2e3436}body.night-mode .search-root .search-loading,body.night-mode .search-root .loading-icon{color:#b9b9ad}body.night-mode .search-root .search-tabs-commands-container .search-tab:hover:not(.active){color:#b9b9ad}body.night-mode .search-root .search-tabs-commands-container .search-tab.active{color:#b9b9ad;border-bottom-color:#2e3436}.search-root{height:calc(100vh - 75px);position:fixed;top:75px;bottom:0;left:0;right:0;padding:0;background:#fff;font-family:Lato,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji}.search-root .livebook-viewer-root,.search-root .search-scroll-area{max-height:calc(100vh - 155px)}.search-root .search-back-to-results-button,.search-root .search-view-in-livebook-button{visibility:hidden;text-align:right}.search-root.is-showing-livebook-viewer .search-back-to-results-button,.search-root.is-showing-livebook-viewer .search-view-in-livebook-button{visibility:visible}.search-root .advanced-tabs-root{max-width:920px;margin:0 auto;box-sizing:border-box}.search-root .advanced-tabs-root.expanded{max-width:1640px}@media screen and (max-width: 950px){.search-root .advanced-tabs-root{margin:0 15px}}@media screen and (min-width: 675px) and (max-width: 950px){.search-root .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container{top:21px;right:35px;flex-direction:row}.search-root .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container button{border-radius:unset !important}}@media screen and (max-width: 675px){.search-root .advanced-tabs-root.content-tab-selected .search-view-in-livebook-button{visibility:hidden !important}}.search-root .loading-results-container .loading-icon{font-size:48px}.search-root .search-searching-suggestions-label{padding:1em;font-size:75%;display:block;color:#c2c2c2}.search-root .search-result{font-weight:normal;margin:-0.1em;padding:0.1em 0.2em}.search-root .react-toggle{margin-left:10px}.search-root .product-title-breadcrumb{font-style:italic;color:inherit}.search-root .element-title-breadcrumb,.search-root .sub-element-title-breadcrumb{color:inherit}.search-root .product-cover-root{position:relative;display:inline-block}.search-root .product-cover-root .liveaudio-corner{position:absolute;bottom:0;right:0;width:40%}.search-root .product-cover-root .liveaudio-corner svg{vertical-align:bottom}.autocomplete-separator{display:none}@media screen and (max-width: 500px){.autocomplete-separator{display:block;border-bottom:2px solid #848484;margin:0 -2.4em 0 -3.3em}.autocomplete-separator.middle-separator{order:2}}.autocomplete-section{display:inline-block;vertical-align:top;box-sizing:border-box;-webkit-overflow-scrolling:touch;width:100%}.autocomplete-section a{text-decoration:none}.autocomplete-section .autocomplete-results{list-style-type:none;margin:0;padding:0}.autocomplete-section .autocomplete-result-item{cursor:pointer;clear:both;padding:0.5em;line-height:1.5}.autocomplete-section .autocomplete-result-item label{cursor:pointer}.autocomplete-section .autocomplete-result-item strong{font-weight:700}.autocomplete-section .first-level+.indented,.autocomplete-section .indented+.indented{margin-bottom:0.5em}.autocomplete-section .first-level+.indented{margin-top:-0.75em}.autocomplete-section .indented.last-child{margin-bottom:1em}.autocomplete-section .autocomplete-result-item .autosuggestion-title{display:inline-block;color:#222}.autocomplete-section .autocomplete-result-item .autosuggestion-title strong{color:#222}.autocomplete-section .autocomplete-result-item.selected,.autocomplete-section .autocomplete-result-item:hover{background-color:#eee}.product-suggestions-container{height:100%;position:relative}.product-suggestions-container h4{margin-top:0;color:inherit;line-height:1.2;font-size:inherit;font-family:inherit}.product-suggestions-container .search-description-container{flex-grow:3;display:flex;justify-content:center;align-items:stretch;height:100%;box-sizing:border-box;padding-bottom:2em}.product-suggestions-container .search-description-container>div{flex-grow:1;flex-basis:50%}.product-suggestions-container .search-description-container a,.product-suggestions-container .search-description-container a:visited{color:inherit;text-decoration:underline}.product-suggestions-container .search-description-container .explanatory-text{padding:20px;padding-left:40px;font-size:3vh;align-self:center;opacity:1;transition:opacity .3s}.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:100px}@media screen and (max-width: 1000px){.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:0}}@media screen and (max-width: 900px){.product-suggestions-container .search-description-container .explanatory-text{font-size:2.5vh}.product-suggestions-container .search-description-container .explanatory-text .actual-text{padding-right:0}}@media screen and (max-width: 700px){.product-suggestions-container .search-description-container .explanatory-text{font-size:2vh;padding-left:20px}}@media screen and (max-width: 500px){.product-suggestions-container .search-description-container .explanatory-text{padding:0}}@media screen and (max-height: 400px){.product-suggestions-container .search-description-container .explanatory-text{font-size:12px}}.product-suggestions-container .book-cover{position:relative;left:0;top:0;background-size:contain;background-repeat:no-repeat;background-position:right center;transition:left 1s ease-in-out, background-position 1s ease-in-out}@media screen and (max-width: 650px){.product-suggestions-container .book-cover{display:none}}.product-suggestions-container .product-concepts-container{position:absolute;top:0;opacity:0;flex:1;transition:opacity .3s ease-in-out;max-width:50%}@media screen and (max-width: 500px){.product-suggestions-container .product-concepts-container{max-width:100%}}.product-suggestions-container .autocomplete-concepts-section{width:100%}.product-suggestions-container .product-concepts-container.delay-animation,.product-suggestions-container .explanatory-text.delay-animation{transition-delay:.5s}.product-suggestions-container.has-suggestions .book-cover{left:50%;background-position:right center}@media screen and (max-width: 700px){.product-suggestions-container.has-suggestions .book-cover{background-position:right top}}.product-suggestions-container.has-suggestions .product-concepts-container{opacity:1}.product-suggestions-container.has-suggestions .explanatory-text{opacity:0}.search-loader-text-line{width:100%;height:17px;margin-bottom:1px;animation-duration:1.8s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:searchTextLimeShimmer;animation-timing-function:linear;background:#f6f7f8;background:linear-gradient(to right, #fafafa 8%, #f4f4f4 38%, #fafafa 54%);background-size:1000px 640px;position:relative}.search-loader-text-line:nth-child(2){width:80%}.search-loader-text-line:nth-child(3){width:85%}.search-loader-text-line:nth-child(4){width:75%}.search-loader-text-line:nth-child(5){width:90%}body.night-mode .search-loader-text-line{background:linear-gradient(to right, #b9b9ad 8%, #a2a291 38%, #b9b9ad 54%)}@keyframes searchTextLimeShimmer{0%{background-position:-468px 0}100%{background-position:468px 0}}.search-scroll-area{overflow-y:auto;overscroll-behavior-y:none;-webkit-overflow-scrolling:touch;position:relative}body.night-mode .scroll-area-top-background,body.night-mode .scroll-area-bottom-background{filter:invert(0.9)}.scroll-area-top-background{position:absolute;display:block;top:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 88.02%);transform:matrix(1, 0, 0, -1, 0, 0);transition:opacity 0.2s ease-in-out;opacity:0;pointer-events:none}.scroll-top-background-shown .scroll-area-top-background{opacity:1}.scroll-area-bottom-background{position:absolute;bottom:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 88.02%);transform:matrix(-1, 0, 0, 1, 0, 0);transition:opacity 0.2s ease-in-out;opacity:0;pointer-events:none}.scroll-bottom-background-shown .scroll-area-bottom-background{opacity:1}.search-toc-root .scroll-area-top-background{top:unset}.search-initial-message-container{max-width:920px;margin:60px auto}@media screen and (max-width: 675px){.search-initial-message-container{text-align:center}}@media screen and (max-width: 950px){.search-initial-message-container{margin:60px 15px}}.search-initial-message-container a,.search-initial-message-container a:visited{color:inherit}body.night-mode .search-initial-message-container{color:#b9b9ad}\n',""]),e.exports=t},824:function(e,t,o){var n=o(88),r=o(825);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},825:function(e,t,o){(t=o(89)(!1)).push([e.i,".search-filters-root{position:absolute;left:calc(50vw + 483px);top:-32px;min-width:200px;display:block}.search-filters-root .search-filters-group-root:not(.has-heading){margin-top:48px}@media screen and (max-width: 1390px){.search-filters-root{transform:none;left:0;right:0;z-index:1;top:0px;background:white;padding-top:10px;max-width:920px;margin:0 auto}.search-filters-root .search-filters-group-root:not(.has-heading){margin-top:15px}}@media screen and (max-width: 950px){.search-filters-root{margin:0 15px}}@media screen and (max-width: 1490px){.search-filters-root{min-width:160px}.search-filters-root .search-filters-group-root .search-filters-group-label{max-width:125px}}body.night-mode .search-filters-group-root .search-filters-group-heading{border-bottom-color:#bebebe}@media screen and (max-width: 1390px){body.night-mode .search-filters-root{background:#2e3436}}.search-filters-group-root{font-size:14px}.search-filters-group-root .ReactCollapse--collapse{transition:height 250ms}.search-filters-group-root:not(:first-child){margin-top:15px}@media screen and (max-height: 600px){.search-filters-group-root:not(:first-child){margin-top:0}}.search-filters-group-root .search-filters-group-heading{font-weight:300;font-size:16px;padding:12px 0;margin-bottom:8px;border-bottom:solid 1px #bebebe;height:41px;box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;user-select:none}.search-filters-group-root .search-filter-toggle-button{display:flex;align-items:center;justify-content:center;padding:0.5em}.search-filters-group-root .search-filter-toggle-button svg{transition:transform 0.25s ease-in-out;transform:rotate(-90deg)}.search-filters-group-root .search-filter-toggle-button.active svg{transform:rotate(0)}.search-filters-group-root button{border:none;background:transparent;cursor:pointer;color:#222;margin:0}.search-filters-group-root button:focus,.search-filters-group-root button:hover{color:#222;background:transparent}.search-filters-group-root .search-filters-group-items-container{max-height:280px;overflow-y:auto}.search-filters-group-root .search-filters-range-container,.search-filters-group-root .search-filters-rating-container{padding:0.5em}.search-filters-group-root .search-filters-range-container .rc-slider-track{background-color:#cbcbcb;transform:translateY(-1px)}.search-filters-group-root .search-filters-range-container .rc-slider-rail{height:1px;background-color:#cbcbcb}.search-filters-group-root .search-filters-range-container .rc-slider-handle{border-color:#cbcbcb;background-color:#cbcbcb}.search-filters-group-root .search-filters-range-container .rc-slider-handle-dragging{border-color:#cbcbcb !important;box-shadow:0 0 0 5px rgba(203,203,203,0.5) !important}.search-filters-group-root .search-filters-range-container .rc-slider-dot-active{border-color:#cbcbcb !important}.search-filters-group-root .search-filters-range-container .rc-slider-mark{font-size:16px;font-weight:300}.search-filters-group-root .search-filters-group-item{cursor:pointer;user-select:none;padding:5px 5px 5px 0;font-weight:300;display:flex;align-items:center;justify-content:space-between}.search-filters-group-root .search-filters-group-item div{display:flex;align-items:center}.search-filters-group-root .search-filters-group-item input{cursor:pointer;margin:0 0.5em 0 0}.search-filters-group-root .search-filters-group-item input[type='checkbox']{height:15px;width:15px}.search-filters-group-root .search-filters-group-item:first-child{padding-top:10px}.search-filters-group-root .search-filters-group-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.search-filters-group-root .search-filters-group-count{margin-left:1em}.search-filters-group-root .search-filters-range-limits-container{min-height:20px;clear:both;font-size:16px;padding-top:4px;font-weight:300;opacity:0.4}.search-filters-group-root .search-filters-range-limits-container .search-filter-range-lower{float:left}.search-filters-group-root .search-filters-range-limits-container .search-filter-range-upper{float:right}\n",""]),e.exports=t},826:function(e,t,o){"use strict";e.exports=o(827)},827:function(e,t,o){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case h:case s:case c:case a:case g:return e;default:switch(e=e&&e.$$typeof){case u:case p:case b:case f:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=s,t.Lazy=b,t.Memo=f,t.Portal=i,t.Profiler=c,t.StrictMode=a,t.Suspense=g,t.isAsyncMode=function(e){return S(e)||x(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===s},t.isLazy=function(e){return x(e)===b},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===c},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===g},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===h||e===c||e===a||e===g||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===f||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===w||e.$$typeof===y||e.$$typeof===k||e.$$typeof===v)},t.typeOf=x},828:function(e,t,o){e.exports=o(829)},829:function(e,t,o){var n=function(e){"use strict";var t,o=Object.prototype,n=o.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,o){return e[t]=o}}function l(e,t,o,n){var r=t&&t.prototype instanceof f?t:f,i=Object.create(r.prototype),s=new L(n||[]);return i._invoke=function(e,t,o){var n=d;return function(r,i){if(n===p)throw new Error("Generator is already running");if(n===g){if("throw"===r)throw i;return I()}for(o.method=r,o.arg=i;;){var s=o.delegate;if(s){var a=C(s,o);if(a){if(a===m)continue;return a}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===d)throw n=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=p;var c=u(e,t,o);if("normal"===c.type){if(n=o.done?g:h,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(n=g,o.method="throw",o.arg=c.arg)}}}(e,o,s),i}function u(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",g="completed",m={};function f(){}function b(){}function v(){}var w={};w[i]=function(){return this};var y=Object.getPrototypeOf,k=y&&y(y(O([])));k&&k!==o&&n.call(k,i)&&(w=k);var x=v.prototype=f.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var o;this._invoke=function(r,i){function s(){return new t((function(o,s){!function o(r,i,s,a){var c=u(e[r],e,i);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,a)}))}a(c.arg)}(r,i,o,s)}))}return o=o?o.then(s,s):s()}}function C(e,o){var n=e.iterator[o.method];if(n===t){if(o.delegate=null,"throw"===o.method){if(e.iterator.return&&(o.method="return",o.arg=t,C(e,o),"throw"===o.method))return m;o.method="throw",o.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(n,e.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,m;var i=r.arg;return i?i.done?(o[e.resultName]=i.value,o.next=e.nextLoc,"return"!==o.method&&(o.method="next",o.arg=t),o.delegate=null,m):i:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var o=e[i];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function o(){for(;++r<e.length;)if(n.call(e,r))return o.value=e[r],o.done=!1,o;return o.value=t,o.done=!0,o};return s.next=s}}return{next:I}}function I(){return{value:t,done:!0}}return b.prototype=x.constructor=v,v.constructor=b,b.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(P.prototype),P.prototype[s]=function(){return this},e.AsyncIterator=P,e.async=function(t,o,n,r,i){void 0===i&&(i=Promise);var s=new P(l(t,o,n,r),i);return e.isGeneratorFunction(o)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(x),c(x,a,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},e.values=O,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var o=this;function r(n,r){return a.type="throw",a.arg=e,o.next=n,r&&(o.method="next",o.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),E(o),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;E(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,o,n){return this.delegate={iterator:O(e),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},830:function(e,t,o){var n=o(88),r=o(831);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},831:function(e,t,o){(t=o(89)(!1)).push([e.i,".rc-slider{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;touch-action:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-rail{position:absolute;width:100%;background-color:#e9e9e9;height:4px;border-radius:6px}.rc-slider-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:#abe2fb}.rc-slider-handle{position:absolute;width:14px;height:14px;cursor:pointer;cursor:-webkit-grab;margin-top:-5px;cursor:grab;border-radius:50%;border:solid 2px #96dbfa;background-color:#fff;touch-action:pan-x}.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{border-color:#57c5f7;box-shadow:0 0 0 5px #96dbfa}.rc-slider-handle:focus{outline:none}.rc-slider-handle-click-focused:focus{border-color:#96dbfa;box-shadow:unset}.rc-slider-handle:hover{border-color:#57c5f7}.rc-slider-handle:active{border-color:#57c5f7;box-shadow:0 0 5px #57c5f7;cursor:-webkit-grabbing;cursor:grabbing}.rc-slider-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.rc-slider-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.rc-slider-mark-text-active{color:#666}.rc-slider-step{position:absolute;width:100%;height:4px;background:transparent}.rc-slider-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.rc-slider-dot-active{border-color:#96dbfa}.rc-slider-dot-reverse{margin-right:-4px}.rc-slider-disabled{background-color:#e9e9e9}.rc-slider-disabled .rc-slider-track{background-color:#ccc}.rc-slider-disabled .rc-slider-handle,.rc-slider-disabled .rc-slider-dot{border-color:#ccc;box-shadow:none;background-color:#fff;cursor:not-allowed}.rc-slider-disabled .rc-slider-mark-text,.rc-slider-disabled .rc-slider-dot{cursor:not-allowed !important}.rc-slider-vertical{width:14px;height:100%;padding:0 5px}.rc-slider-vertical .rc-slider-rail{height:100%;width:4px}.rc-slider-vertical .rc-slider-track{left:5px;bottom:0;width:4px}.rc-slider-vertical .rc-slider-handle{margin-left:-5px;touch-action:pan-y}.rc-slider-vertical .rc-slider-mark{top:0;left:18px;height:100%}.rc-slider-vertical .rc-slider-step{height:100%;width:4px}.rc-slider-vertical .rc-slider-dot{left:2px;margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:first-child{margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:last-child{margin-bottom:-4px}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{animation-duration:0.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-leave{animation-duration:0.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active{animation-name:rcSliderTooltipZoomDownIn;animation-play-state:running}.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active{animation-name:rcSliderTooltipZoomDownOut;animation-play-state:running}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{transform:scale(0, 0);animation-timing-function:cubic-bezier(0.23, 1, 0.32, 1)}.rc-slider-tooltip-zoom-down-leave{animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06)}@keyframes rcSliderTooltipZoomDownIn{0%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}100%{transform-origin:50% 100%;transform:scale(1, 1)}}@keyframes rcSliderTooltipZoomDownOut{0%{transform-origin:50% 100%;transform:scale(1, 1)}100%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}}.rc-slider-tooltip{position:absolute;left:-9999px;top:-9999px;visibility:visible;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip-hidden{display:none}.rc-slider-tooltip-placement-top{padding:4px 0 8px 0}.rc-slider-tooltip-inner{padding:6px 2px;min-width:24px;height:24px;font-size:12px;line-height:1;color:#fff;text-align:center;text-decoration:none;background-color:#6c6c6c;border-radius:6px;box-shadow:0 0 4px #d9d9d9}.rc-slider-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow{bottom:4px;left:50%;margin-left:-4px;border-width:4px 4px 0;border-top-color:#6c6c6c}\n",""]),e.exports=t},832:function(e,t,o){var n=o(88),r=o(833);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},833:function(e,t,o){(t=o(89)(!1)).push([e.i,".side-menu-root .side-menu-header{font-family:Lato;font-style:normal;font-weight:300;line-height:17px;font-size:14px;display:flex;align-items:center;justify-content:space-between;padding:0;border-bottom:solid 1px #bebebe}.side-menu-root .side-menu-title .fa{margin-left:7px}.side-menu-root .side-menu-close{padding:0.5em;padding-right:6px;cursor:pointer}.side-menu-root>ul{margin-left:0;padding-left:0}.side-menu-root>ul>li{list-style:none;font-style:normal;font-weight:300;font-size:14px;height:32px;box-sizing:border-box;border-radius:4px;padding:5px;user-select:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.side-menu-root>ul>li:hover{cursor:pointer;background:rgba(0,0,0,0.04)}.side-menu-root>ul>li:active{background:rgba(0,0,0,0.1)}.side-menu-root>ul>li.selected{font-weight:bold}\n",""]),e.exports=t},834:function(e,t,o){var n=o(88),r=o(835);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},835:function(e,t,o){(t=o(89)(!1)).push([e.i,"body.night-mode .search-products-tab-root{color:#b9b9ad}.search-products-tab-root{color:#222222;position:relative}.search-products-tab-root .search-products-tab-selected-filters-container{margin:0 0 14px 19px}.search-products-tab-root .product-collection-inner-container{max-width:920px;margin:0 auto}@media screen and (max-width: 950px){.search-products-tab-root .product-collection-inner-container{margin:0 15px}}.search-products-tab-root .search-products-tab-count-label-description,.search-products-tab-root .search-products-tab-sort-container-label{font-weight:300}.search-products-tab-root .search-products-tab-sort-container{user-select:none;display:flex;align-items:baseline;color:inherit}.search-products-tab-root .search-products-tab-sort-container select{margin:0 0 0 8px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:inherit;background:#FFFFFF;border:1px solid #BDBDBD;box-sizing:border-box;border-radius:4px;-webkit-appearance:auto !important}.search-products-tab-root .form-control{display:block;width:100%;height:35px;padding:6px 12px 6px 0px;font-size:15px;line-height:1.428571429;color:#555555;background-color:#fff;background-image:none;border:none;border-radius:6px;-webkit-box-shadow:none;box-shadow:none;transition:unset;cursor:pointer;min-width:68px}.search-products-tab-root .form-control:focus{border-color:unset;outline:0;-webkit-box-shadow:none;box-shadow:none}@media (max-width: 675px){.search-products-tab-root{flex-direction:column}}\n",""]),e.exports=t},836:function(e,t,o){var n=o(88),r=o(837);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},837:function(e,t,o){(t=o(89)(!1)).push([e.i,'body.night-mode .product-collection-root .scroll-area-top-background,body.night-mode .product-collection-root .scroll-area-bottom-background{filter:invert(0.9)}.product-collection-root{position:relative}.product-collection-root.vertical-list .product-root{display:flex;width:100%;margin-bottom:30px}.product-collection-root.vertical-list .product-root:nth-child(even),.product-collection-root.vertical-list .product-root:nth-child(odd){padding:0}.product-collection-root.vertical-list .product-root:last-child{margin-bottom:0}.product-collection-root.vertical-list .product-root .product-rating-tags-container{width:100%;max-width:100%;margin-left:0}.product-collection-root .scroll-area-top-background,.product-collection-root .scroll-area-bottom-background{left:-15px;right:-15px}@media screen and (min-width: 676px){.product-collection-root .scroll-area-top-background,.product-collection-root .scroll-area-bottom-background{display:none !important}}.product-collection-root .product-date{white-space:nowrap}.product-collection-root .product-rating-tags-container{max-width:50%;margin-left:1em}.product-collection-root .product-ownership-label{font-size:12px;line-height:14px;color:#FFFFFF;background:#478CD5;border-radius:3px;user-select:none;padding:1px 7px;margin-right:0.5em;font-weight:400;white-space:nowrap}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:none}@media screen and (min-width: 726px) and (max-width: 800px){.product-collection-root .product-ownership-label .product-ownership-label-text{display:none}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:inline-block}}@media screen and (max-width: 405px){.product-collection-root .product-ownership-label .product-ownership-label-text{display:none}.product-collection-root .product-ownership-label .product-ownership-label-icon{display:inline-block}}.product-collection-root .scroll-area-top-background{position:absolute;display:block;top:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 88.02%);transform:matrix(1, 0, 0, -1, 0, 0);transition:opacity 0.2s ease-in-out;opacity:0;pointer-events:none}.product-collection-root .scroll-top-background-shown .scroll-area-top-background{opacity:1}.product-collection-root .scroll-area-bottom-background{position:absolute;bottom:0;left:0;right:0;height:62px;z-index:1;background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 88.02%);transform:matrix(-1, 0, 0, 1, 0, 0);transition:opacity 0.2s ease-in-out;opacity:0;pointer-events:none}.product-collection-root .scroll-bottom-background-shown .scroll-area-bottom-background{opacity:1}.product-collection-container{overflow-y:auto;overflow-x:hidden;scroll-snap-type:y;height:calc(100vh - 196px)}@media screen and (max-width: 675px){.product-collection-container{height:calc(100vh - 115px)}}@media screen and (max-width: 725px){.product-collection-container{display:block}}.product-collection-container .product-collection-message-container{padding:50px 50px 50px 0}.product-collection-container .product-root{display:inline-flex;text-decoration:none;box-sizing:border-box;width:50%;box-sizing:border-box;padding-top:50px;vertical-align:top}@supports (-webkit-touch-callout: none){.product-collection-container .product-root:last-of-type{padding-bottom:115px}}.product-collection-container .product-root:nth-child(odd){padding-right:25px}.product-collection-container .product-root:nth-child(even){padding-left:25px;padding-right:15px}@media screen and (max-width: 725px){.product-collection-container .product-root{width:100%;padding-top:30px}.product-collection-container .product-root:nth-child(odd){padding-right:15px}.product-collection-container .product-root:nth-child(even){padding-left:0}}@media (max-width: 835px){.product-collection-container .product-root{scroll-snap-align:start}}.product-collection-container .product-root .product-cover{position:relative;flex:0 0 82px;position:relative;display:table}.product-collection-container .product-root .product-cover.wide-cover{flex:0 0 185px}.product-collection-container .product-root .product-details{overflow-x:hidden;padding-left:20px;box-sizing:border-box;width:100%;font-weight:300;font-size:16px}@media screen and (max-width: 950px){.product-collection-container .product-root .product-details{padding-left:8px}}.product-collection-container .product-root .book-cover{width:100%;height:100%;border:solid thin #ddd;max-width:82px;box-sizing:border-box}.product-collection-container .product-root .book-cover.wide-cover{max-width:185px}.product-collection-container .product-root .product-edition{left:0;right:0;bottom:0;padding:0.5em;font-size:12px;position:absolute;color:#67a73d;background:#d9e9cd;text-align:center}.product-collection-container .product-meta-info{font-weight:bold;font-size:12px;color:#828282;margin-top:10px;display:flex;align-items:center;justify-content:space-between}@media screen and (max-width: 380px){.product-collection-container .product-meta-info{font-size:10px}}@media screen and (max-width: 355px){.product-collection-container .product-meta-info{font-size:8px}}.product-collection-container .product-title{font-size:14px;line-height:16px;font-weight:700;text-decoration:none;display:block;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:inherit;text-decoration:none}.product-collection-container .product-title strong{text-decoration:underline}@media screen and (max-width: 725px){.product-collection-container .product-title{max-width:90vw}}.product-collection-container .product-root.two-line-title .product-title{max-width:unset;white-space:normal;text-overflow:unset;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;height:32px;overflow:hidden}.product-collection-container .product-original-price{margin-right:0.5em;position:relative;font-weight:300}.product-collection-container .product-original-price:before{position:absolute;content:"";left:-0.15em;top:calc(50% - 1px);right:-0.15em;border-top:2px solid gray;transform:rotate(-5deg)}.product-collection-container .product-free-label:after{content:"\\00B7";margin-left:0.25em}.product-collection-container .product-description{line-height:18px;font-size:15px;font-weight:300;height:54px;text-overflow:ellipsis;overflow:hidden;margin-top:10px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-weight:300;color:inherit;text-decoration:none}.product-collection-container .product-description p,.product-collection-container .product-description h1,.product-collection-container .product-description h2,.product-collection-container .product-description h3,.product-collection-container .product-description h4,.product-collection-container .product-description h5{margin:0}.product-collection-container .product-root.two-line-title .product-description{height:38px;-webkit-line-clamp:2}.product-collection-container .product-tags-root{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-collection-container .product-tag-label+.product-tag-label{margin-left:0.5em}.product-collection-container .product-tag-label+.product-tag-label:before{content:"\\00B7";margin-right:0.5em}\n',""]),e.exports=t},838:function(e,t,o){var n=o(88),r=o(839);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},839:function(e,t,o){(t=o(89)(!1)).push([e.i,".search-sort-root{position:absolute;left:calc(50vw + 483px);top:-32px;min-width:200px;display:block}@media (max-width: 1390px){.search-sort-root{transform:none;left:0;right:0;z-index:1;top:0px;background:white;padding-top:10px;max-width:920px;margin:0 auto}.search-sort-root .search-filters-group-root:not(.has-heading){margin-top:15px}}@media screen and (max-width: 950px){.search-sort-root{padding:0 15px}}@media screen and (max-width: 1490px){.search-sort-root{min-width:160px}}@media (max-width: 676px){.search-sort-root{padding-top:15px}}@media screen and (max-width: 1390px){body.night-mode .search-sort-root{background:#2e3436}}\n",""]),e.exports=t},840:function(e,t,o){var n=o(88),r=o(841);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},841:function(e,t,o){(t=o(89)(!1)).push([e.i,"body.night-mode .advanced-tabs-root .advanced-tab{color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tab:hover:not(.active),body.night-mode .advanced-tabs-root .advanced-tab:focus:not(.active){color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tab.active{color:#b9b9ad}body.night-mode .advanced-tabs-root .advanced-tabs-commands-container button{color:#b9b9ad;background-color:#2e3436}body.night-mode .advanced-tabs-root .advanced-tabs-commands-container button.selected{visibility:hidden}.advanced-tabs-root{padding-top:15px;position:relative;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box}@media screen and (max-width: 675px){.advanced-tabs-root{padding-left:0;padding-top:0}}.advanced-tabs-root .advanced-tabs-container{height:40px;display:flex;align-items:flex-end;flex:1;border-bottom:1px solid #C4C4C4}.advanced-tabs-root .advanced-tab-filter-button{max-width:100px;align-self:flex-end}.advanced-tabs-root.extended-sort-filter-buttons .advanced-tab-filter-button,.advanced-tabs-root.extended-sort-filter-buttons .advanced-tab-sort-button{max-width:120px;text-align:right}.advanced-tabs-root .advanced-tabs-commands-container{position:absolute;right:-15px;display:flex;top:22px;flex-direction:column;z-index:1}.advanced-tabs-root .advanced-tabs-commands-container button{margin:0;border:none;background:none;font-family:inherit;background-color:white;font-size:14px;font-weight:300;padding:0.5em 1em;border:1px solid transparent;cursor:pointer;user-select:none;color:inherit}.advanced-tabs-root .advanced-tabs-commands-container button svg{margin-left:5px}.advanced-tabs-root .advanced-tabs-commands-container button .fa{margin:0 5px}.advanced-tabs-root .advanced-tabs-commands-container button.selected{visibility:hidden}.advanced-tabs-root .advanced-tabs-commands-container button.invisible{visibility:hidden}.advanced-tabs-root .advanced-tabs-commands-container button:first-of-type{border-top-left-radius:4px;border-top-right-radius:4px}.advanced-tabs-root .advanced-tabs-commands-container button:last-of-type{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.advanced-tabs-root .advanced-tabs-commands-container button+button{margin-top:1px}@media screen and (max-width: 675px){.advanced-tabs-root .advanced-tabs-commands-container{top:5px;flex-direction:row}.advanced-tabs-root .advanced-tabs-commands-container button{padding:0.5em;border-radius:unset !important}.advanced-tabs-root .advanced-tabs-commands-container button svg{margin-left:0}.advanced-tabs-root .advanced-tabs-commands-container button .fa{margin:0}.advanced-tabs-root .advanced-tabs-commands-container button span{display:none}}.advanced-tabs-root .advanced-tab{color:#828282;margin:0 0 -1px 0;border-radius:8px 8px 0 0;padding:6px 20px;height:48px;cursor:pointer;font-weight:300;user-select:none;background:none;border:none;font-size:15px;min-width:120px;text-align:center;font-family:inherit;border:1px solid transparent;white-space:nowrap;box-sizing:border-box}.advanced-tabs-root .advanced-tab .close-tab{width:20px;height:20px;cursor:pointer}.advanced-tabs-root .advanced-tab:hover:not(.active),.advanced-tabs-root .advanced-tab:focus:not(.active){color:#828282}.advanced-tabs-root .advanced-tab.active{font-weight:bold;color:#828282;border-color:#C4C4C4;border-bottom-color:white}.advanced-tabs-root .advanced-tab:focus{outline:none}@media screen and (max-width: 675px){.advanced-tabs-root .advanced-tab{margin:0 0.1em -1px 0.1em;height:30px;min-width:105px;padding:6px}.advanced-tabs-root .advanced-tab:first-child{min-width:70px}}\n",""]),e.exports=t},842:function(e,t,o){var n=o(88),r=o(843);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},843:function(e,t,o){(t=o(89)(!1)).push([e.i,"@media screen and (min-width: 1440px){#search-modal .advanced-tabs-root,#search-modal .search-initial-message-container{max-width:calc(95vw - 40px);margin:0 calc(50vw - 432px) 0 calc(50vw - 366px)}}@media screen and (min-width: 1640px){#search-modal .advanced-tabs-root,#search-modal .search-initial-message-container{max-width:calc(95vw - 40px);margin:0 calc(50vw - 515px) 0 calc(50vw - 448px)}}@media screen and (min-width: 1110px){body.user-logged-in #search-modal .advanced-tabs-root,body.user-logged-in #search-modal .search-initial-message-container{margin-right:calc(50vw - 465px)}}@media screen and (min-width: 1440px){body.user-logged-in #search-modal .advanced-tabs-root,body.user-logged-in #search-modal .search-initial-message-container{max-width:calc(95vw - 40px);margin:0 calc(50vw - 500px) 0 calc(50vw - 367px)}}@media screen and (min-width: 1640px){body.user-logged-in #search-modal .advanced-tabs-root,body.user-logged-in #search-modal .search-initial-message-container{max-width:calc(95vw - 40px);margin:0 calc(50vw - 581px) 0 calc(50vw - 448px)}}@media screen and (min-width: 1660px){body.user-logged-in #search-modal .advanced-tabs-root,body.user-logged-in #search-modal .search-initial-message-container{max-width:calc(95vw - 40px);margin:0 calc(50vw - 581px) 0 calc(50vw - 451px)}}@media screen and (max-width: 980px){#search-modal .advanced-tabs-root,#search-modal .search-initial-message-container,#search-modal .search-filters-root,#search-modal .search-sort-root{max-width:calc(90vw);margin-left:auto;margin-right:auto}#search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(90vw);padding-left:5vw;padding-right:5vw;margin-left:0;margin-right:0}}@media screen and (max-width: 690px){#search-modal .advanced-tabs-root,#search-modal .search-initial-message-container,#search-modal .search-filters-root,#search-modal .search-sort-root{max-width:calc(94vw);margin-left:auto;margin-right:auto}#search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(94vw);padding-left:3vw;padding-right:3vw;margin-left:0;margin-right:0}}@media screen and (min-width: 1110px){#search-modal .search-products-tab-root .product-collection-inner-container{padding-right:calc(50vw - 508px);padding-left:calc(50vw - 500px)}}@media screen and (min-width: 1440px){#search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 432px);padding-left:calc(50vw - 367px)}}@media screen and (min-width: 1640px){#search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 514px);padding-left:calc(50vw - 448px)}}@media screen and (min-width: 1660px){#search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 514px);padding-left:calc(50vw - 451px)}}@media screen and (min-width: 1110px){body.user-logged-in #search-modal .search-products-tab-root .product-collection-inner-container{padding-right:calc(50vw - 508px);padding-left:calc(50vw - 500px)}}@media screen and (min-width: 1440px){body.user-logged-in #search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 500px);padding-left:calc(50vw - 367px)}}@media screen and (min-width: 1640px){body.user-logged-in #search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 581px);padding-left:calc(50vw - 448px)}}@media screen and (min-width: 1660px){body.user-logged-in #search-modal .search-products-tab-root .product-collection-inner-container{max-width:calc(95vw - 40px);padding-right:calc(50vw - 581px);padding-left:calc(50vw - 451px)}}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{max-width:1640px}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{margin-right:20px}@media screen and (min-width: 1035px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 574px)}}@media screen and (min-width: 1110px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 566px)}}@media screen and (min-width: 1440px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 399px)}}@media screen and (min-width: 1640px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 479px)}}@media screen and (min-width: 1660px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 483px)}}@media screen and (min-width: 1700px){body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 370px}}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{max-width:1640px}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{margin-right:20px}@media screen and (min-width: 1035px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 574px)}}@media screen and (min-width: 1110px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 634px)}}@media screen and (min-width: 1440px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin-left:0;margin-right:0}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 399px)}}@media screen and (min-width: 1640px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 479px)}}@media screen and (min-width: 1660px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 calc(50vw - 483px)}}@media screen and (min-width: 1700px){body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected{margin:0 auto}body.user-not-logged-in #search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-container{padding:0 0 0 370px}}#search-modal .product-collection-container{height:calc(100vh - 141px)}#search-modal .search-results-list.search-scroll-area{max-height:calc(100vh - 189px)}#search-modal .search-sort-root .side-menu-title{transform:translateY(-1px)}#search-modal .search-initial-message-container{padding-top:30px}#search-modal .search-filters-root,#search-modal .search-sort-root{left:0;z-index:1}@media screen and (min-width: 1110px){#search-modal .search-filters-root,#search-modal .search-sort-root{left:8px}}@media screen and (min-width: 1390px){#search-modal .search-filters-root,#search-modal .search-sort-root{left:calc(50vw + 490px)}}@media screen and (min-width: 1390px) and (max-width: 1390px){#search-modal .search-filters-root,#search-modal .search-sort-root{top:-32px}}@media screen and (min-width: 1440px){#search-modal .search-filters-root,#search-modal .search-sort-root{left:calc(50vw + 520px)}}@media screen and (min-width: 1640px){#search-modal .search-filters-root,#search-modal .search-sort-root{left:calc(50vw + 600px)}}@media screen and (min-width: 1440px) and (max-width: 1530px){#search-modal .search-filters-root,#search-modal .search-sort-root{width:180px;min-width:180px}#search-modal .search-filters-root .search-filters-group-root .search-filters-group-label,#search-modal .search-sort-root .search-filters-group-root .search-filters-group-label{max-width:125px}}@media screen and (min-width: 950px){#search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container{right:10px}}@media screen and (min-width: 675px) and (max-width: 950px){#search-modal .advanced-tabs-root.content-tab-selected .advanced-tabs-commands-container{right:0}}\n",""]),e.exports=t},91:function(e,t,o){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var s=r.apply(null,n);s&&e.push(s)}else if("object"===i)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},98:function(e,t,o){e.exports=o(162)()}}]);
//# sourceMappingURL=searchModule.chunk.js.map?5fcd55dc82aaea393291